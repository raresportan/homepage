[["Map",1,2,5,6,20,21,31,32,65,66,101,102,160,161,171,172,183,184,217,218,267,268,303,304,343,344,396,397,424,425,460,461,471,472,503,504,529,530,543,544,584,585,595,596,607,608,620,621,632,633,646,647,705,706,738,739,779,780,807,808,818,819,851,852,884,885,894,895,924,925,970,971,1027,1028,1046,1047,1107,1108,1119,1120,1131,1132,1159,1160,1170,1171,1207,1208,1220,1221,1261,1262,1272,1273,1283,1284,1294,1295,1328,1329,1378,1379,1398,1399,1450,1451,1461,1462,1535,1536,1547,1548,1616,1617,1649,1650,1688,1689,1699,1700],"meta::meta",["Map",3,4],"astro-version","5.0.5","a-short-intro-to-partytown",["Map",7,8],"index",{"id":7,"data":9,"body":15,"filePath":16,"digest":17,"legacyId":18,"deferredRender":19},{"title":10,"pubDate":11,"description":12,"keywords":13},"A short intro to Partytown","2022-3-31","Partytown is a solution to increase website performance by loading 3rd party JavaScript libraries in a web worker",[14],"JavaScript","It happens all the time. We try to optimize our code, optimize how images and CSS are loaded, do code splits, and all kinds of smart techniques. And in most cases, all this effort is meaningless because we need to load a ton of 3rd party libraries.\n\nWe have to do that not because we want it but because the business requires it. They need tools to count users, determine what\nusers like and where are they coming from, track them, increase engagement and so. These tools mean 3rd party JavaScript libraries that\nmust be loaded on the website. Typically, the size of 3rd party JavaScript loaded on a company website is much\nbigger than all the JavaScript used for actual website functionality.\n\n_It's not uncommon to have several Megabytes of 3rd party JavaScript!_\n\nI dread those 3rd party scripts. They are mocking me and they ridicule my work: the websites are crazy slow especially on mobile.\nThe most ironic part is when some of these tools present graphs with how much money you lose because your website is not fast enough!\nNo shit.\n\nUntil now. Because now I think I've found a solution to this madness. And it's called [Partytown](https://partytown.builder.io/).\n\n> Partytown's philosophy is that the main thread should be dedicated to your code, and any scripts that are not required to be in the critical path should\n> be relocated to a web worker. Into a sandboxed location, kinda like...a little town for third-party scripts. Some sort of a...Partytown, if you will… - [Adam Bradley](https://dev.to/adamdbradley/introducing-partytown-run-third-party-scripts-from-a-web-worker-2cnp)\n\nHere is a visual explanation of how Partytown works, it loads 3rd party scripts in a separate thread, a web worker (source https://github.com/BuilderIO/partytown):\n\nimport { Picture } from \"astro:assets\";\nimport partyTownImage from \"./how-partytown-works.png\";\n\n\u003CPicture\n  src={partyTownImage}\n  widths={[480, 800]}\n  formats={[\"webp\"]}\n  sizes=\"(max-width: 600px) 480px, 800px\"\n  alt=\"Partytown loads 3rd party scripts in a separate thread, a web worker\"\n/>\n\n## How to add Partytown to a project\n\nPartytown uses a web worker and the web worker must run on your website, meaning there is no way to use it from a CDN or another server.\nI could not find a downloadable archive with all the stuff ready to use, the only way (at least for now) to use Partytown is to create\nan npm project and install the Partytown npm package. I'll use `partytown-demo` folder.\n\nCreate a new folder for the project and then initialize it:\n\n```bash\nnpm init\n```\n\nInside the project folder install Partytown:\n\n```bash\nnpm install @builder.io/partytown\n```\n\nLet's also create an `index.html` file inside `partytown-demo` that will use the scripts:\n\n```html\n\u003C!DOCTYPE html>\n\u003Chtml lang=\"en\">\n  \u003Chead>\n    \u003Cmeta charset=\"UTF-8\" />\n    \u003Cmeta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" />\n    \u003Cmeta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n    \u003Ctitle>Partytown demo\u003C/title>\n  \u003C/head>\n  \u003Cbody>\n    \u003Ch1>Partytown Demo\u003C/h1>\n  \u003C/body>\n\u003C/html>\n```\n\nNow we need to modify the `package.json` to include the command that will copy Partytown files and the index.html in the release folder:\n\n```json\n\"scripts\": {\n  \"start\": \"npm run partytown && cp index.html ./public\",\n  \"partytown\": \"partytown copylib public/~partytown\"\n},\n```\n\nTo test if all works, run the following command:\n\n```bash\nnpm start\n```\n\nThere will be a `public` folder inside `partytown-demo` with the following content:\n\n```\n/public\n  /~partytown\n    partytown-atomics.js\n    partytown-media.js\n    partytown-sw.js\n    partytown.js\n  index.html\n```\n\n## How to use Partytown\n\nNormally 3rd party scripts are loaded on the main thread:\n\n```html\n\u003C!DOCTYPE html>\n\u003Chtml lang=\"en\">\n\u003Chead>\n  \u003Cmeta charset=\"UTF-8\">\n  \u003Cmeta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n  \u003Cmeta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  \u003Ctitle>Partytown demo\u003C/title>\n\u003C/head>\n\u003Cbody>\n  \u003Ch1>Partytown Demo\u003C/h1>\n  \u003Cscript>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\n  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\n  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\n  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\n  })(window,document,'script','dataLayer','GTM-XXXXXX');\u003C/script>\n  \u003C/script>\n\u003C/body>\n\u003C/html>\n```\n\nIn order to use Partytown you need to do two changes:\n\n1. Import the Partytown script\n2. Set type=\"text/partytown\" for the 3rd party scripts\n\n```html\n\u003C!DOCTYPE html>\n\u003Chtml lang=\"en\">\n\u003Chead>\n  \u003Cmeta charset=\"UTF-8\">\n  \u003Cmeta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n  \u003Cmeta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  \u003Ctitle>Partytown demo\u003C/title>\n\u003C/head>\n\u003Cbody>\n  \u003Ch1>Partytown Demo\u003C/h1>\n  \u003Cscript src=\"~/partytown/partytown.js\">\u003C/script>\n  \u003Cscript type=\"text/partytown\">(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\n  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\n  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\n  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\n  })(window,document,'script','dataLayer','GTM-XXXXXX');\u003C/script>\n  \u003C/script>\n\u003C/body>\n\u003C/html>\n```\n\nAnd you're done.\n\nIf you're using a framework check [Partytown docs](https://partytown.builder.io/integrations) because Partytown has several integrations for some frameworks like Gatsby or NextJS, I'm sure more will be added in the future.\n\n## Trade-Offs\n\nFor this to work we need to add a new `6kb` JavaScript library, the Partytown lib. So there are cases when using Partytown will\nactually degrade performance. Just to make sure we're not shooting ourselves in the foot we need to do a performance test before and after.\n\nWhen I'm writing this Partytown is still in Beta, so some things might change.\n\n## Resources\n\n- [Partytown](https://partytown.builder.io/)","src/content/a-short-intro-to-partytown/index.mdx","b1f795cf807211e2","index.mdx",true,"10-ways-to-render-a-webpage",["Map",7,22],{"id":7,"data":23,"body":28,"filePath":29,"digest":30,"legacyId":18,"deferredRender":19},{"title":24,"pubDate":25,"description":26,"keywords":27},"10 ways to render a webpage",["Date","2023-02-16T00:00:00.000Z"],"I'm lost at the sea of webpage rendering modes: SPA, MPA, SSR, SSG, ISR, OMG, WAT. It's time to clear things up.",[14],"There used to be a new JavaScript library every day. That was fine, I didn't care, I continued to implement my web apps using Angular or React or \nwhatever it was. \n\nBut \"everyone\" agreed on which was the best way to render a web app. It was not the ideal way but at least everyone was happy \nto do the same mistake. Now there is a new problem. Even if you continue to use just React or Angular or whatever, you still have to decide what is \nthe best way to *render* your web pages. \n\nHere I will document the options available at the beginning of the year 2023. The list may be much longer this time next year.\n\nWhat do I mean by a *rendering way/mode/pattern/style*? __Is the way code and data are transformed in HTML.__ You can think of rendering\nas a glorified pure function that takes some data as input and returns HTML as output.\n\nConcrete examples:\n- Blog posts are created from markdown (data) by some generator(code)\n- User access is granted based on the response(data) from an API(code)\n- Tweets are rendered by a React(code) from user-entered small texts(data) and the number of interactions(data)\n- Marketing pages are created using a template(code) and a Content management system (data)\n- Youtube renders with a custom framework(code) a list of recommended videos based on what you watch and searches\n\n__HTML.__ The backbone of the Internet for decades. \n\nIt is still that because it has many advantages, most important is available \non almost any device with a screen - it's the true [Write once, run anywhere](https://en.wikipedia.org/wiki/Write_once,_run_anywhere) \nHoly Grail of software. Another major advantage of HTML is [accessibility](https://www.w3.org/standards/webdesign/accessibility). \n\nAlso, HTML doesn't break. It's very forgiving. Is compatible with the first page of the internet and will be compatible with the last.\n\nThere are many ways to render the HTML for a website. So many that I've lost track.\n\nI'm lost in the sea of cryptic rendering modes: SPA, MPA, SSR, SSG, ISR, OMG, and WAT. It's time to clear things up.\n\nWhen I think of rendering, the key issues that are at stake:\n* how fast the website loads\n* how interactive it is\n* how much it costs to run it\n\nThe list is ordered by the time each technology gains popularity. It might not be an exhaustive list, somewhere someone might already come up with a different way to render it. As with JavaScript libraries, this is becoming a never ending story.\n\n## 1. Static website\n*The original way* of rendering web pages. The data is text and the text is in HTML. There is no code.\n\n\u003Cimg src=\"/static.svg\" width={600} alt=\"Static website\" />\n\n\nThese days, besides the text we can also add some CSS to make the page look better and maybe some JavaScript to add some \nsmall interaction flourish like light & dark mode theme switch or big tracking and analytics libraries.\n\nYou put the HTML files on a [CDN](https://en.wikipedia.org/wiki/Content_delivery_network) and the files will be \nsent to browsers exactly as they are.\n\nThe classic example is the [first page of the internet](http://info.cern.ch/hypertext/WWW/TheProject.html). Many blogs are static websites. Many marketing websites.\n\nPros:\n* Performance: These websites are super fast.\n* Cache: Once the page reaches the browser it can be cached for a long time, this means the browser will load it from its cache(your file system) instead of loading it from the network.\n* Security: The pages cannot be hacked because there is nothing to hack. If you're not sure how to configure a server, just make sure you use a CDN instead of your server and you'll be fine.\n* Resilience: No downtime. Similar performance on every device works without JavaScript, no database or lambdas to worry about.\n* Cheap: There is nothing cheaper than a CDN, there are even a lot of free options.\n\n\nCons:\n* No dynamic data: Don't use this for websites that show things that change often like news, stock prices, payments, account information, etc. \n* Maintenance: It can be a nightmare to update all pages - you will dread New Year’s Eve because you’ll have to update the Copyright year on all pages.\n* Interaction: Except for links there is nothing to interact with. No buttons to push, no forms to submit.\n* Personalization: Everyone will see the same website. No way to remember any progress or preferences.\n\n\n### 1.1 ✨ Using a static site generator \nIf you're using (relatively) static data  - like blogs, marketing sites, ranking sites, magazines, etc. - the most pressing issue of maintenance can be solved using a static site generator - a tool that takes some code, templates, and \ndata source to generate the HTML pages of the website. \n\nThe advantage of using a static site generator is not only maintenance (by making changes in a single place), but you can keep your content in different formats (like markdown) or CMSs.\n\nPopular options are Hugo, Jekyl, and 11ty.\n\nPros:\n* You get the static website pros\n* Maintenance: It's easy to update the template and regenerate the pages.\n\nCons:\n* Static website cons except for maintenance\n\n\n## 2. Multi-page application (MPA)\nSometimes your website needs pages rendered with data that changes. When a page is requested, the server loads data and creates the HTML on the fly \nbased on that data. \n\n*There is code that runs on request.* \n\n\u003Cimg src=\"/multipage.svg\" width={600} alt=\"Multi-page website\" />\n\nA classic example is Amazon.com. Another notable example is any [WordPress](https://wordpress.com/) site that powers [43% off all internet](https://blog.hubspot.com/website/wordpress-stats#:~:text=(W3Techs%2C%202022),increase%20from%2039.5%25%20in%202021.).\n\nFor this kind of website, you use a **server framework** like Express, Rails, Laravel, ASP.Net, and an actual **server computer.**\nThe server framework you choose depends on the programming language you use to write the code. Today (almost) no one has an actual server, they \nuse Cloud providers.\n\nPros:\n* Performance: These websites are slower than static websites, but still fast because the server is fast and not much is happening on the client. \nFor each request the server has to fetch data from a database, format it, create the HTML, and return the HTML to the client.\n* Dynamic data: Pages always render the latest available data\n* Personalization: Everyone can see a different website. You can save user preferences and provide custom content.\n* Interaction: You can add buttons to push, forms to submit, put something in the shopping cart, or write a review.\n\nCons:\n* Security: If you use a Cloud provider, your server can be secured - however sometimes critical vulnerabilities are discovered in server frameworks and you need to patch them. \n* Resilience: similar performance on every device, works without JavaScript, but there is a database and a server that can go down, and there can be downtime.\n* Maintenance: You have bigger problems than the header & footer, you now need to maintain a server.\n* Price: you need to understand the pricing you chose. Sadly the Cloud providers don't stop your servers if they are overused, there are a lot \nof stories about unexpectedly big Cloud bills. \n\n\n## 3. Single Page Application (SPA)\nA more general name for this technique is Client-Side Rendering(CSR). I'm using the SPA term because it's more popular.\n\nWhen [AJAX](https://developer.mozilla.org/en-US/docs/Web/Guide/AJAX/Getting_Started) started to gain popularity, many websites \nstarted to transform into *web apps*. AJAX provides a way to make a server call to get some data without the need for a full page refresh. \n\nThese web apps have a single page. __A blank page initially.__ Then the JavaScript loads and it creates the HTML. And makes \nthe HTML interactive (by adding listeners.)\n\nWhen you click a button, something happens, maybe a call is made to the server ([API](https://en.wikipedia.org/wiki/API)) and the data returned by the call is used to \nupdate a part of the page.\n\n\u003Cimg src=\"/spa.svg\" width={600} alt=\"Single Page Application\" />\n\n\nThe goal of this technique is to do as much as possible in the browser. It imitates mobile apps. You have to wait for mobile apps only once when they are installed.\n\nClassic examples are Gmail and Google Maps. \n\nThis way of rendering is the _front-end developer's_ favorite. The rise of SPAs was boomed by web frameworks/libraries like React, Angular, Vue, and many others.\n\nPros:\n* Performance: Reduced network traffic once the website is loaded, you don't load that header and footer over and over again.\n* Security: The pages are very secure, but API might not be. \n* Interaction: Very interactive\n* Personalization: Custom content is easy as long as you accept a spinner.\n* Maintenance: Developers love working on SPAs\n* Web apps: It allows the creation of app-like websites.\n* Cheap: There is nothing cheaper than a CDN\n\nCons:\n* Performance: Initial page load is slow because the app loads a huge amount of JavaScript. Further loading of the app can be optimized using PWA technology.\n* Unresponsive: Until the JavaScript libraries are loaded and the entire HTML is generated nothing is interactive, the app seems frozen.\n* Resilience: The site is not working if JavaScript is disabled or if there is a JavaScript error.\n* Bad for SEO: Search engines see the initial empty HTML and no content. Search engines have improved in recent years but indexing SPAs is still unreliable.\n* Resilience: worse performance on mobile devices.\n\n## 4. Server-side rendering with Hydration(SSR)\nWhen people realized that sending empty HTML and a ton of JavaScript to the browser is not the best idea ever, a new way of rendering \nwas born: Server-side rendering with hydration.\n\n__Instead of a CDN, you need a Server that runs code.__\n\nThe Server generates the initial HTML - full page content and sends it to the browser together with JavaScript.\n\nBefore JavaScript is loaded people can still use the webpage: read content, scroll, and use links - just like a static page. \nBut when JavaScript is loaded it provides interactivity to the page. The process of JavaScript adding interactivity to \na static page is called [_hydration_.](https://en.wikipedia.org/wiki/Hydration_(web_development))\n\n__Instead of creating the page on the client, you now create the page twice, once on the server and again on the client.__\n\n\n\u003Cimg src=\"/ssr-hydration.svg\" width={600} alt=\"Server side rendering with Hydration\" />\n\nThis technique is a combination of a \"Multi-page application\" and a \"Single Page Application\". A website like this has more than one page, but hydration is used on all.\n\nPopular meta frameworks that work this way are Next.js, Nuxt.js, and SvelteKit.\n\nPros:\n* Dynamic data: Pages always render the latest available data\n* Interaction: Very interactive\n* Personalization: Custom content is easy.\n* SEO: since full HTML is sent from the server, the page can be indexed by search engines\n\nCons:\n* Performance: These websites are slower than static websites and SPAs. Probably slower than most MPAs too. The big issue is that you have to wait for the server to create the page and then for JavaScript to add interaction.\n* Unresponsive: Until the JavaScript libraries are loaded and the entire HTML is generated nothing is interactive, the app seems frozen.\n* Security: If you use a Cloud provider, your server can be secured - however sometimes critical vulnerabilities are discovered in server frameworks and you need to patch them. \n* Resilience: worse performance on mobile devices because of JavaScript load, there can be downtime.\n* Maintenance: While now you can use the same header & footer on any page, you now need to maintain a server and think about which code runs on the server and which on the client.\n* Price: Similar to MPAs.\n\n\n## 5. Server0side generation with Hydration(SSG)\nServers cost money, many times you don't even have control over how much. Because this was a problem for many reasonable people a new \ntechnique was born: \"Server-side generation with Hydration (SSG)\". The core of [Jamstack.](https://en.wikipedia.org/wiki/Jamstack)\n\nTo get rid of the server, you \"build\" all pages to HTML and then put the HTML on a CDN. Just as in the case of \"Server side rendering with Hydration\",\nHTML contains JavaScript that hydrates the page after it is loaded.\n\nSince all this is static, you still need a way to provide personalization, data persistence, and all the things a server is capable of.\nFor this you have [APIs](https://en.wikipedia.org/wiki/API). Meaning your website uses servers that don't respond with HTML but with \nsome form of data like JSON, XML, streams, and so on.  \n\n\u003Cimg width={600} src=\"/ssg.svg\" alt=\"Server side generation with Hydration\" />\n\nPopular meta frameworks that work this way are the same as before Gatsby.js, Next.js, Nuxt.js, and SveltKit.\n\nPros:\n* Serverless: You only need a CDN, since the HTML and JavaScript are static\n* Performance: These websites are super fast.\n* Security: The static pages are secure, you just need to care about the API security\n* Maintenance: Easy to maintain, you can use the same header & footer on any page.\n* Cheap: CDN is cheap, and APIs can be cheap\n* Interaction: Very interactive\n* Personalization: Custom content is possible through APIs\n\nCons:\n* Builds: You need to do a new build every time something on a page needs to change\n* Unresponsive: Until the JavaScript libraries are loaded and the entire HTML is generated nothing is interactive, the app seems frozen.\n* Resilience: worse performance on mobile devices because of JavaScript load. Some functionality doesn't work without JavaScript. There can be downtime.\n\n\n## 6. Incremental static regeneration (ISR)\nThe most important drawback of the SSG is that you need to build the whole site every time one page needs an update. It would be \nnice if you would rebuild(regenerate) only the page that needs the update. That's exactly what Next.js thought and implemented.\n\nHow this works is that they set a limited [Cache](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Cache-Control) life. \nWhile the page is cached, the server is not doing any work. When the cache expires, the server rebuilds the page.\n\n\u003Cimg width={600} src=\"/isr.svg\"  alt=\"Incremental static regeneration\" />\n\nOne downside is that for the moment you need to use Next.js to go this route. Deployment and hosting options for this technique are limited.\n\nPros & cons: similar to Server side rendering with Hydration(SSR). \n\n\n## 7. Deferred Static Generation (DSG)\nA somehow similar take to ISR is the \"Deferred Static Generation(DSG).\"\n\nWhen you have a lot of pages(say 100.000) - and you're using SSG - the build takes hours. To fix the build time, they invented Deferred Static Generation, \nwhich means you can make some pages \"deferred\" and these pages will \nnot be included in the build. \n\nAny deferred page is built (generated) the first time somebody requests it. The nice thing is that a missing page is created only once, \nand is it not recreated over and over as in the ISR case. DSG is just an enhanced SSG.\n\nOne downside is that for the moment you need to use Gatsby.js to go this route. And deploy it on only Gatsby Cloud.\n\nPros & cons: similar to Server side generation with Hydration(SSG)\n\n\n## 8. Islands\nIn most of the above techniques, the page is not interactive until the JavaScript is loaded and event listeners\nare added to the HTML. \n\nA crazy problem is that this happens on all pages, including those that are only HTML! And in most cases, the \nsize of the JavaScript that is loaded for no reason is bigger than the size of the HTML & CSS combined. This is bad for \nperformance!\n\nSo there are a few possible situations:\n* you use extensively JavaScript on the page: use lazy loading to load some of the JavaScript only when needed\n* you use JavaScript just in a part of the page: hydrate only the interactive part\n* you don't use JavaScript at all on the page: don't load any JavaScript\n\n\u003Cimg width={600} src=\"/islands.svg\" alt=\"Islands\" />\n\nA solution to hydrate only a part of the page is called _Partial Hydration_.\n\nThis idea was taken further by the _Islands'_ way of rendering heavily pushed forward by Astro. 11ty is another builder that has islands.\nAn Island is a part of the page that is interactive by using JavaScript (e.g. a React component) while the rest of the page is static content.\n\nWhat's even nicer is that Islands can be lazy loaded and hydrate only when you scroll to them - further improving the performance.\n\nPros:\n* Performance: Faster pages since almost 0 bytes of JavaScript are loaded\n* Resilience: While a part of the page might not work without JavaScript, the rest is usable.\n* All the pros of static websites/SSR\n* Supports both SSG/SSR\n\nCons:\n* If you have a lot of pages that load the same type of Island (e.g. you load React.js on each page) then you should try something else\n* If you need to share state between Islands things get hairier\n* There must be more but I can't think of any right now\n\n\n## 9. Streaming SSR\nAnother way to tackle the problem of hydration is Streaming SSR. The idea is that you split the page rendering in chunks, when\na chunk is ready on the server, it is sent to the client and it is also hydrated.\n\n\u003Cimg width={600} src=\"/streaming.svg\" alt=\"Streaming SSR\" />\n\nSo this is just an enhanced SSR. This feature can be used with Marko, Next.js, or Shopify's Hydrogen.\n\nPros:\n* Performance: These websites are fasters then regular SSR, almost as fast as static websites. \n* All the pros of SSR\n\nCons:\n* Security: As always with server\n* Resilience: worse performance on mobile devices because of JavaScript load, there can be downtime.\n* Maintenance: Besides maintaining a server, debugging bugs can be a bit harder.\n* Price: servers can be pricy\n\n\n## 10. Resumability\nFinally, there is a solution that solves the pesky problem of hydration.\n\nResumability is about pausing execution in the server and resuming it in the browser. But without \nhaving to replay and download all of the application logic.\n\nThe trick is that they serialize the server state in the HTML when the page is generated (SSR or SSG). \n\nThe result is that Resumability looks very much like static website rendering:\n\u003Cimg width={600} src=\"/static.svg\" alt=\"Static website\" />\n\nEvent listeners (that are added by hydration without Resumability) are serialized also. For example, here we have a button, \nits click listener function is called `handler_symbol` and the function is inside `chunk.js`\n```html\n\u003Cbutton on:click=\"./chunk.js#handler_symbol\">click me\u003C/button>\n````\nResumability implies the existence of a global listener that works like this:\n* Captures all DOM events\n* Checks if the DOM element is supposed to handle the event   \n* If yes, it loads the handler and executes it\n\nIn our case, when the user clicks the \"click me\" button the global listerner looks at that `on:click` button attribute. Then it loads `chunk.js`, \nand executes `handler_symbol`.\n\nThe result is that this type of website has a lot of small JavaScript chunks instead of big ones. Also, only the necessary chunks are loaded. \n\n\nPros:\n* Performance: These websites are just as fast as static\n* Flexibility: You can generate the page with either SSR or SSG\n\nCons:\n* For now, only one framework supports this, Qwik from builder.io\n* Resilience:\n    1. When you click that button, the chunk must be downloaded and function executed fast, just as a regular listener would do.\n    2. Doesn't work without JavaScript\n    3. In areas with spotty internet, the application could be weird, on the same page some things work, and some do not.\n\n\n## Conclusion\nAs I'm writing this, a new technique is making waves on Twitter, Server functions, a sort of [RPC](https://en.wikipedia.org/wiki/Remote_procedure_call) incarnation. \nWho knows what will be all the rage in a month? Things are moving too quickly for my taste.\n\nFor years the only solutions were static websites, MPA, SPA, SSG, or SSR. (Not that I'm complaining.)\n\nThe introduction of [React Server Components](https://reactjs.org/blog/2020/12/21/data-fetching-with-react-server-components.html) opened the way for new techniques. Which \nthen will influence even newer techniques.\n\nToday we have a lot of good options for rendering a website. And more will arrive soon 😊. I just hope some of the mistakes will \nbe figured out earlier.\n\nAs we can see from the new wave of techniques, SSR was a headache. It caused a lot of bloatware - why do you need to load a ton of JavaScript if you generate the page on the server?!\nAnd now everybody tries to fix that.\n\nIf the \"next big thing\" will be better or worse... we will see.","src/content/10-ways-to-render-a-webpage/index.mdx","09a8181c042619b1","covid-tracker",["Map",7,33],{"id":7,"data":34,"body":43,"filePath":44,"digest":45,"rendered":46,"legacyId":64},{"title":35,"pubDate":36,"description":37,"keywords":38,"twitterImage":40,"minutesRead":41,"excerpt":42},"Building a COVID-19 tracker",["Date","2020-07-24T00:00:00.000Z"],"When the other COVID-19 trackers are not exactly what you need, it's time to build your own one.",[39],"Tracker","https://www.raresportan.com/twitter-cards/building-a-covid-19-tracker.png","3 min read","Here in Romania, every day, at 13:00, the latest COVID-19 data is communicated to\nthe public.\nThe data is presented as a series of cold numb","Here in Romania, every day, at 13:00, the latest COVID-19 data is communicated to\nthe public.\nThe data is presented as a series of cold numbers: total infections (in the entire\ncountry and each county), total cured, and total deceased. Unless you kept\nyesterday's data, there is no way to know how many new cases there are. And maybe\neven more important, you don't know how many new cases are in your county (there is no per city data)\nor in the county you want to travel.\n\nA very important aspect that is hard to see in the way official data is communicated,\nis the evolution of the cases. There are counties with many cases in total, but few active cases,\nand others with few total cases but most of the cases are new. Where the number of cases is rising\nfaster, the danger is more present.\n\nThis year we decided to spent our vacation in the country, to travel around in several\ncounties. The problem was I couldn't figure out how dangerous this will be. So I've built\n[my COVID-19 tracker](https://romania-covid-cases.netlify.app/) which shows the evolution of the cases in each county.\n\n## Data\n\nThe first step was to find a way to get official data.\n\nThere is no official API that gives the data, but I knew about [datelazi.ro](https://datelazi.ro/)\nwhich was built specially to communicate the official data. While inspecting it, I discovered\nthat it loads a JSON file with all the data I need. Jackpot!\n\n```javascript\nfetch(\"https://datelazi.ro/latestData.json\")\n  .then((result) => result.json())\n  .then(console.log)\n  .catch(console.error);\n```\n\n## Charts\n\nNext, I've looked around for a charting library. In the end, I've chosen [chartist.js](https://gionkunz.github.io/chartist-js/)\nbecause it was very easy to use and it looked nice.\n\nFirst import the .js and .css files:\n\n```html\n\u003Clink\n  rel=\"stylesheet\"\n  href=\"https://cdn.jsdelivr.net/chartist.js/latest/chartist.min.css\"\n/>\n\u003Cscript src=\"https://cdn.jsdelivr.net/chartist.js/latest/chartist.min.js\">\u003C/script>\n```\n\nThen create a new chart like this:\n\n```javascript\nconst data = {\n  series: [[...cases]],\n};\nconst options = {\n  lineSmooth: true,\n  width: 320,\n  height: 200,\n  low: 0,\n  showArea: true,\n  axisX: {\n    showLabel: false,\n    showGrid: false,\n  },\n};\nnew Chartist.Line(\".ct-chart\", data, options);\n```\n\nI've created 44 charts on the same page and the performance looks acceptable.\n\n## Implementation\n\nI've used vanilla JavaScript, HTML, and CSS. Everything is inside a single `index.html`, 400 lines in total.\n\nThe most challenging part was to transform the JSON into the data I needed.\nThe JSON is organized by days, but I wanted to collect all daily data for each county and then use it to create a graph.\n\nThe cases by county are not available for some days, so I had to ignore those.\nAlso, some cases don't belong to any county, which is weird. I had to create a special \"Unknown county\" for them.\n\nSorting the data by county name, new cases and total cases had its challenges.\nInitially, I recreated all the graphs on sort, but the result was not nice. I could\nsee graphs being recreated, elements jumping all over the place.\n\nSo instead of recreating the graphs with sorted data, I sorted the DOM elements instead:\n\n- get all elements with county graphs in an array\n- sort the elements based on a specific attribute\n- remove all graphs from container and add the sorted elements.\n  Element sorting was possible because I've added the sort data as attributes:\n\n```javascript\nconst article = document.createElement(\"article\");\narticle.setAttribute(\"label\", label);\narticle.setAttribute(\"newcases\", newCases);\narticle.setAttribute(\"totalcases\", totalCases);\n```\n\nThe sorting functions use the attributes, for example:\n\n```javascript\nconst sortByNewCases = (a, b) =>\n  b.attributes.newCases.value - a.attributes.newCases.value;\n```\n\n## Links\n\nThe [site is live](https://romania-covid-cases.netlify.app/) and the data is updated\nevery day around 13:00. The [source code](https://github.com/raresportan/romania-covid-cases) is also available\nin case you are interested.","src/content/covid-tracker/index.md","bebd355cb6cf7e89",{"html":47,"metadata":48},"\u003Cp>Here in Romania, every day, at 13:00, the latest COVID-19 data is communicated to\nthe public.\nThe data is presented as a series of cold numbers: total infections (in the entire\ncountry and each county), total cured, and total deceased. Unless you kept\nyesterday’s data, there is no way to know how many new cases there are. And maybe\neven more important, you don’t know how many new cases are in your county (there is no per city data)\nor in the county you want to travel.\u003C/p>\n\u003Cp>A very important aspect that is hard to see in the way official data is communicated,\nis the evolution of the cases. There are counties with many cases in total, but few active cases,\nand others with few total cases but most of the cases are new. Where the number of cases is rising\nfaster, the danger is more present.\u003C/p>\n\u003Cp>This year we decided to spent our vacation in the country, to travel around in several\ncounties. The problem was I couldn’t figure out how dangerous this will be. So I’ve built\n\u003Ca href=\"https://romania-covid-cases.netlify.app/\">my COVID-19 tracker\u003C/a> which shows the evolution of the cases in each county.\u003C/p>\n\u003Ch2 id=\"data\">Data\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#data\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>The first step was to find a way to get official data.\u003C/p>\n\u003Cp>There is no official API that gives the data, but I knew about \u003Ca href=\"https://datelazi.ro/\">datelazi.ro\u003C/a>\nwhich was built specially to communicate the official data. While inspecting it, I discovered\nthat it loads a JSON file with all the data I need. Jackpot!\u003C/p>\n\u003Cpre class=\"language-javascript\" data-language=\"javascript\">\u003Ccode is:raw=\"\" class=\"language-javascript\">\u003Cspan class=\"token function\">fetch\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"https://datelazi.ro/latestData.json\"\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\n  \u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">then\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">result\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> result\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">json\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\n  \u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">then\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>console\u003Cspan class=\"token punctuation\">.\u003C/span>log\u003Cspan class=\"token punctuation\">)\u003C/span>\n  \u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">catch\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>console\u003Cspan class=\"token punctuation\">.\u003C/span>error\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Ch2 id=\"charts\">Charts\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#charts\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>Next, I’ve looked around for a charting library. In the end, I’ve chosen \u003Ca href=\"https://gionkunz.github.io/chartist-js/\">chartist.js\u003C/a>\nbecause it was very easy to use and it looked nice.\u003C/p>\n\u003Cp>First import the .js and .css files:\u003C/p>\n\u003Cpre class=\"language-html\" data-language=\"html\">\u003Ccode is:raw=\"\" class=\"language-html\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>link\u003C/span>\n  \u003Cspan class=\"token attr-name\">rel\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>stylesheet\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\n  \u003Cspan class=\"token attr-name\">href\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>https://cdn.jsdelivr.net/chartist.js/latest/chartist.min.css\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\n\u003Cspan class=\"token punctuation\">/>\u003C/span>\u003C/span>\n\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>script\u003C/span> \u003Cspan class=\"token attr-name\">src\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>https://cdn.jsdelivr.net/chartist.js/latest/chartist.min.js\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\u003Cspan class=\"token script\">\u003C/span>\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>script\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>Then create a new chart like this:\u003C/p>\n\u003Cpre class=\"language-javascript\" data-language=\"javascript\">\u003Ccode is:raw=\"\" class=\"language-javascript\">\u003Cspan class=\"token keyword\">const\u003C/span> data \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n  \u003Cspan class=\"token literal-property property\">series\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>\u003Cspan class=\"token punctuation\">[\u003C/span>\u003Cspan class=\"token operator\">...\u003C/span>cases\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> options \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n  \u003Cspan class=\"token literal-property property\">lineSmooth\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token boolean\">true\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n  \u003Cspan class=\"token literal-property property\">width\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token number\">320\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n  \u003Cspan class=\"token literal-property property\">height\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token number\">200\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n  \u003Cspan class=\"token literal-property property\">low\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token number\">0\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n  \u003Cspan class=\"token literal-property property\">showArea\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token boolean\">true\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n  \u003Cspan class=\"token literal-property property\">axisX\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n    \u003Cspan class=\"token literal-property property\">showLabel\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token boolean\">false\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n    \u003Cspan class=\"token literal-property property\">showGrid\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token boolean\">false\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n  \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token keyword\">new\u003C/span> \u003Cspan class=\"token class-name\">Chartist\u003Cspan class=\"token punctuation\">.\u003C/span>Line\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\".ct-chart\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> data\u003Cspan class=\"token punctuation\">,\u003C/span> options\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>I’ve created 44 charts on the same page and the performance looks acceptable.\u003C/p>\n\u003Ch2 id=\"implementation\">Implementation\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#implementation\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>I’ve used vanilla JavaScript, HTML, and CSS. Everything is inside a single \u003Ccode>index.html\u003C/code>, 400 lines in total.\u003C/p>\n\u003Cp>The most challenging part was to transform the JSON into the data I needed.\nThe JSON is organized by days, but I wanted to collect all daily data for each county and then use it to create a graph.\u003C/p>\n\u003Cp>The cases by county are not available for some days, so I had to ignore those.\nAlso, some cases don’t belong to any county, which is weird. I had to create a special “Unknown county” for them.\u003C/p>\n\u003Cp>Sorting the data by county name, new cases and total cases had its challenges.\nInitially, I recreated all the graphs on sort, but the result was not nice. I could\nsee graphs being recreated, elements jumping all over the place.\u003C/p>\n\u003Cp>So instead of recreating the graphs with sorted data, I sorted the DOM elements instead:\u003C/p>\n\u003Cul>\n\u003Cli>get all elements with county graphs in an array\u003C/li>\n\u003Cli>sort the elements based on a specific attribute\u003C/li>\n\u003Cli>remove all graphs from container and add the sorted elements.\nElement sorting was possible because I’ve added the sort data as attributes:\u003C/li>\n\u003C/ul>\n\u003Cpre class=\"language-javascript\" data-language=\"javascript\">\u003Ccode is:raw=\"\" class=\"language-javascript\">\u003Cspan class=\"token keyword\">const\u003C/span> article \u003Cspan class=\"token operator\">=\u003C/span> document\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">createElement\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"article\"\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\narticle\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">setAttribute\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"label\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> label\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\narticle\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">setAttribute\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"newcases\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> newCases\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\narticle\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">setAttribute\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"totalcases\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> totalCases\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>The sorting functions use the attributes, for example:\u003C/p>\n\u003Cpre class=\"language-javascript\" data-language=\"javascript\">\u003Ccode is:raw=\"\" class=\"language-javascript\">\u003Cspan class=\"token keyword\">const\u003C/span> \u003Cspan class=\"token function-variable function\">sortByNewCases\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">a\u003Cspan class=\"token punctuation\">,\u003C/span> b\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span>\n  b\u003Cspan class=\"token punctuation\">.\u003C/span>attributes\u003Cspan class=\"token punctuation\">.\u003C/span>newCases\u003Cspan class=\"token punctuation\">.\u003C/span>value \u003Cspan class=\"token operator\">-\u003C/span> a\u003Cspan class=\"token punctuation\">.\u003C/span>attributes\u003Cspan class=\"token punctuation\">.\u003C/span>newCases\u003Cspan class=\"token punctuation\">.\u003C/span>value\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Ch2 id=\"links\">Links\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#links\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>The \u003Ca href=\"https://romania-covid-cases.netlify.app/\">site is live\u003C/a> and the data is updated\nevery day around 13:00. The \u003Ca href=\"https://github.com/raresportan/romania-covid-cases\">source code\u003C/a> is also available\nin case you are interested.\u003C/p>",{"headings":49,"imagePaths":63,"frontmatter":34},[50,54,57,60],{"depth":51,"slug":52,"text":53},2,"data","Data",{"depth":51,"slug":55,"text":56},"charts","Charts",{"depth":51,"slug":58,"text":59},"implementation","Implementation",{"depth":51,"slug":61,"text":62},"links","Links",[],"index.md","css-units",["Map",7,67],{"id":7,"data":68,"body":77,"filePath":78,"digest":79,"rendered":80,"legacyId":64},{"title":69,"pubDate":70,"description":71,"keywords":72,"twitterImage":74,"minutesRead":75,"excerpt":76},"CSS units Cheat Sheet","2022-5-29","There are a lot of ways to specify the size of text or a container, so here is a Cheat Sheet with most the units available",[73],"CSS","https://www.raresportan.com/twitter-cards/css-units-cheat-sheet.png","5 min read","Long gone are the days when we used to use only ‘px’ (pixels) in our CSS. Today there are a lot of options to choose from.\nWhat unit you cho","Long gone are the days when we used to use only 'px' (pixels) in our CSS. Today there are a lot of options to choose from.\nWhat unit you choose depends on the context, some should be used for text, some for containers, some for print.\n\n| Unit  | Name                               | Equivalent to                                                | Relative to                        |\n| ----- | ---------------------------------- | ------------------------------------------------------------ | ---------------------------------- |\n| cm    | centimeters                        | 1cm = 37.8px = 25.2/64in                                     | Absolute (Used for print)          |\n| mm    | millimeters                        | 1mm = 1/10th of 1cm                                          | Absolute (Used for print)          |\n| Q     | quarter-millimeters                | 1Q = 1/40th of 1cm                                           | Absolute (Used for print in Japan) |\n| in    | inches                             | 1in = 2.54cm = 96px                                          | Absolute (Used for print)          |\n| pc    | picas                              | 1pc = 1/6th of 1in                                           | Absolute (Used for print)          |\n| pt    | points                             | 1pt = 1/72th of 1in                                          | Absolute (Used for print)          |\n| px    | pixels                             | 1px = 1/96th of 1in                                          | Absolute                           |\n| em    | parent font size                   | 1em = parent font size                                       | Font                               |\n| rem   | font size of the root element      | 1rem = size of root element                                  | Font                               |\n| ex    | height of letter 'x'               | 1ex = height of the glyph 'x'                                | Font                               |\n| rex   | height of root letter 'x'          | 1rex = height of the root element glyph 'x'                  | Font                               |\n| ch    | width of number 0                  | 1ch = width of glyph '0'                                     | Font                               |\n| rch   | width of root number 0             | 1ch = width of root element glyph '0'                        | Font                               |\n| ic    | width of gliph 水                  | 1ic = witht of glyph '水'                                    | Font                               |\n| ric   | width of root gliph 水             | 1ic = witht of root element glyph '水'                       | Font                               |\n| cap   | height of capital letters          | 1cap = height of a capital letter                            | Font                               |\n| rcap  | height of root capital letters     | 1cap = height of a root element capital letter               | Font                               |\n| lh    | line height of the element         | 1lh = height of the text line                                | Font                               |\n| rlh   | line height of the root element    | 1rlh = height of the root text line                          | Font                               |\n| vw    | default viewport width             | 1vw = 1% of the default viewport's width.                    | Viewport                           |\n| vh    | default viewport height            | 1vh = 1% of the default viewport's height.                   | Viewport                           |\n| vi    | default viewport inline size       | 1vi = 1% of the size of the viewport in the inline direction | Viewport                           |\n| vb    | default viewport box size          | 1vb = 1% of the size of the viewport in the block direction. | Viewport                           |\n| vmin  | default viewport minimum dimension | 1vmin = 1% of the default viewport's smaller dimension.      | Viewport                           |\n| vmax  | default viewport maximum dimension | 1vmax = 1% of the default viewport's larger dimension.       | Viewport                           |\n| lvw   | large viewport width               | 1lvw = 1% of the large viewport's width.                     | Viewport                           |\n| lvh   | large viewport height              | 1lvh = 1% of the large viewport's height.                    | Viewport                           |\n| lvmin | large viewport minimum dimension   | 1lvmin = 1% of the large viewport's smaller dimension.       | Viewport                           |\n| lvmax | large viewport maximum dimension   | 1lvmax = 1% of the large viewport's larger dimension.        | Viewport                           |\n| svw   | small viewport width               | 1svw = 1% of the small viewport's width.                     | Viewport                           |\n| svh   | small viewport height              | 1svh = 1% of the small viewport's height.                    | Viewport                           |\n| svmin | small viewport minimum dimension   | 1svmin = 1% of the small viewport's smaller dimension.       | Viewport                           |\n| svmax | small viewport maximum dimension   | 1svmax = 1% of the small viewport's larger dimension.        | Viewport                           |\n| dvw   | dynamic viewport width             | 1dvw = 1% of the dynamic viewport's width.                   | Viewport                           |\n| dvh   | dynamic viewport height            | 1dvh = 1% of the dynamic viewport's height.                  | Viewport                           |\n| dvmin | dynamic viewport minimum dimension | 1dvmin = 1% of the dynamic viewport's smaller dimension.     | Viewport                           |\n| dvmax | dynamic viewport maximum dimension | 1dvmax = 1% of the dynamic viewport's larger dimension.      | Viewport                           |\n| deg   | degrees                            | 1deg = 1/360 of a full circle                                | Circle                             |\n| grad  | gradians                           | 1grad = 1/400 of a full circle                               | Circle                             |\n| rad   | radians                            | 1rad = 1/2π of a full circle                                 | Circle                             |\n| turn  | turn                               | 1turn = a full circle                                        | Circle                             |\n| s     | second                             | 1s = 1/60 of a minute duration                               | Time                               |\n| ms    | millisecond                        | 1ms = 1/1000 of a second duration                            | Time                               |\n| Hz    | Hertz                              | 1Hz = one occurrence per second                              | N/a                                |\n| kHz   | killoHertz                         | 1kHz = 1000Hz                                                | N/a                                |\n| dpi   | dots per inch                      | 1dpi = one dot per inch                                      | Resolution                         |\n| dpcm  | dots per centimeter                | 1dpcm = one dot per centimeter                               | Resolution                         |\n| dppx  | dots per pixel                     | 1dpcm = one dot per pixel                                    | Resolution                         |\n| fr    | flex fraction                      | 1fr = a fraction of available free space                     | Grid layout only                   |\n\nSoon there will also be container relative units:\n\n| Unit  | Name                   | Equivalent to                         | Relative to |\n| ----- | ---------------------- | ------------------------------------- | ----------- |\n| cqw   | container width        | 1% of a query container’s width       | Container   |\n| cqh   | container height       | 1% of a query container’s height      | Container   |\n| cqi   | container inline size  | 1% of a query container’s inline size | Container   |\n| cqb   | container block size   | 1% of a query container’s block size  | Container   |\n| cqmin | container minimum size | The smaller value of cqi or cqb       | Container   |\n| cqmax | container maximum size | The larger value of cqi or cqb        | Container   |\n\n## Using multiple units together with CSS functions\n\nCSS has some very useful functions that can determine values by using a single unit or multiple units.\nHere are some examples:\n\n### calc\n\nYou can use `calc()` function to determine a dimension using multiple units:\n\n```css\nwidth: calc(100% - 16px);\n```\n\nThe width is calculated dynamically by subtracting 16px from the maximum width.\n\n### clamp\n\n`clamp()` function accepts a minimum, an ideal and a maximum value. All those units can be different if necessary:\n\n```css\nfont-size: clamp(18px, 4vw, 3rem);\n```\n\nThe font size will be a minimum of 18px, a maximum of 3rem and 4vw in the rest.\n\n### min and max\n\n`min()` and `max()` are two functions that can limit a value depending on context:\n\n```css\nwidth: min(100vw - 3rem, 80ch);\n```\n\nHere the width will be the minimum between 100vw - 3rem and 80ch. On different screen sizes, there will be a different minimum.\n\n### minmax\n\nThere is also `minmax()` function that defines a range of values:\n\n```\nwidth: minmax(30ch, 80ch)\n```\n\nIn this case the width will have a minium value of 30ch, a maximum of 80ch and any value between.\n\n## Resources\n\n- [CSS values and units](https://developer.mozilla.org/en-US/docs/Learn/CSS/Building_blocks/Values_and_units)\n- [Units: Every Layout](https://every-layout.dev/rudiments/units/)\n- [Stephanie Eeckles - Scaling CSS Layout Beyond Pixels](https://www.youtube.com/watch?v=8slZJrTK3nE)","src/content/css-units/index.md","74fd98de6430b0b6",{"html":81,"metadata":82},"\u003Cp>Long gone are the days when we used to use only ‘px’ (pixels) in our CSS. Today there are a lot of options to choose from.\nWhat unit you choose depends on the context, some should be used for text, some for containers, some for print.\u003C/p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Unit\u003C/th>\u003Cth>Name\u003C/th>\u003Cth>Equivalent to\u003C/th>\u003Cth>Relative to\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>cm\u003C/td>\u003Ctd>centimeters\u003C/td>\u003Ctd>1cm = 37.8px = 25.2/64in\u003C/td>\u003Ctd>Absolute (Used for print)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>mm\u003C/td>\u003Ctd>millimeters\u003C/td>\u003Ctd>1mm = 1/10th of 1cm\u003C/td>\u003Ctd>Absolute (Used for print)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Q\u003C/td>\u003Ctd>quarter-millimeters\u003C/td>\u003Ctd>1Q = 1/40th of 1cm\u003C/td>\u003Ctd>Absolute (Used for print in Japan)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>in\u003C/td>\u003Ctd>inches\u003C/td>\u003Ctd>1in = 2.54cm = 96px\u003C/td>\u003Ctd>Absolute (Used for print)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>pc\u003C/td>\u003Ctd>picas\u003C/td>\u003Ctd>1pc = 1/6th of 1in\u003C/td>\u003Ctd>Absolute (Used for print)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>pt\u003C/td>\u003Ctd>points\u003C/td>\u003Ctd>1pt = 1/72th of 1in\u003C/td>\u003Ctd>Absolute (Used for print)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>px\u003C/td>\u003Ctd>pixels\u003C/td>\u003Ctd>1px = 1/96th of 1in\u003C/td>\u003Ctd>Absolute\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>em\u003C/td>\u003Ctd>parent font size\u003C/td>\u003Ctd>1em = parent font size\u003C/td>\u003Ctd>Font\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>rem\u003C/td>\u003Ctd>font size of the root element\u003C/td>\u003Ctd>1rem = size of root element\u003C/td>\u003Ctd>Font\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>ex\u003C/td>\u003Ctd>height of letter ‘x’\u003C/td>\u003Ctd>1ex = height of the glyph ‘x’\u003C/td>\u003Ctd>Font\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>rex\u003C/td>\u003Ctd>height of root letter ‘x’\u003C/td>\u003Ctd>1rex = height of the root element glyph ‘x’\u003C/td>\u003Ctd>Font\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>ch\u003C/td>\u003Ctd>width of number 0\u003C/td>\u003Ctd>1ch = width of glyph ‘0’\u003C/td>\u003Ctd>Font\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>rch\u003C/td>\u003Ctd>width of root number 0\u003C/td>\u003Ctd>1ch = width of root element glyph ‘0’\u003C/td>\u003Ctd>Font\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>ic\u003C/td>\u003Ctd>width of gliph 水\u003C/td>\u003Ctd>1ic = witht of glyph ‘水’\u003C/td>\u003Ctd>Font\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>ric\u003C/td>\u003Ctd>width of root gliph 水\u003C/td>\u003Ctd>1ic = witht of root element glyph ‘水’\u003C/td>\u003Ctd>Font\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>cap\u003C/td>\u003Ctd>height of capital letters\u003C/td>\u003Ctd>1cap = height of a capital letter\u003C/td>\u003Ctd>Font\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>rcap\u003C/td>\u003Ctd>height of root capital letters\u003C/td>\u003Ctd>1cap = height of a root element capital letter\u003C/td>\u003Ctd>Font\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>lh\u003C/td>\u003Ctd>line height of the element\u003C/td>\u003Ctd>1lh = height of the text line\u003C/td>\u003Ctd>Font\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>rlh\u003C/td>\u003Ctd>line height of the root element\u003C/td>\u003Ctd>1rlh = height of the root text line\u003C/td>\u003Ctd>Font\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>vw\u003C/td>\u003Ctd>default viewport width\u003C/td>\u003Ctd>1vw = 1% of the default viewport’s width.\u003C/td>\u003Ctd>Viewport\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>vh\u003C/td>\u003Ctd>default viewport height\u003C/td>\u003Ctd>1vh = 1% of the default viewport’s height.\u003C/td>\u003Ctd>Viewport\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>vi\u003C/td>\u003Ctd>default viewport inline size\u003C/td>\u003Ctd>1vi = 1% of the size of the viewport in the inline direction\u003C/td>\u003Ctd>Viewport\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>vb\u003C/td>\u003Ctd>default viewport box size\u003C/td>\u003Ctd>1vb = 1% of the size of the viewport in the block direction.\u003C/td>\u003Ctd>Viewport\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>vmin\u003C/td>\u003Ctd>default viewport minimum dimension\u003C/td>\u003Ctd>1vmin = 1% of the default viewport’s smaller dimension.\u003C/td>\u003Ctd>Viewport\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>vmax\u003C/td>\u003Ctd>default viewport maximum dimension\u003C/td>\u003Ctd>1vmax = 1% of the default viewport’s larger dimension.\u003C/td>\u003Ctd>Viewport\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>lvw\u003C/td>\u003Ctd>large viewport width\u003C/td>\u003Ctd>1lvw = 1% of the large viewport’s width.\u003C/td>\u003Ctd>Viewport\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>lvh\u003C/td>\u003Ctd>large viewport height\u003C/td>\u003Ctd>1lvh = 1% of the large viewport’s height.\u003C/td>\u003Ctd>Viewport\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>lvmin\u003C/td>\u003Ctd>large viewport minimum dimension\u003C/td>\u003Ctd>1lvmin = 1% of the large viewport’s smaller dimension.\u003C/td>\u003Ctd>Viewport\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>lvmax\u003C/td>\u003Ctd>large viewport maximum dimension\u003C/td>\u003Ctd>1lvmax = 1% of the large viewport’s larger dimension.\u003C/td>\u003Ctd>Viewport\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>svw\u003C/td>\u003Ctd>small viewport width\u003C/td>\u003Ctd>1svw = 1% of the small viewport’s width.\u003C/td>\u003Ctd>Viewport\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>svh\u003C/td>\u003Ctd>small viewport height\u003C/td>\u003Ctd>1svh = 1% of the small viewport’s height.\u003C/td>\u003Ctd>Viewport\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>svmin\u003C/td>\u003Ctd>small viewport minimum dimension\u003C/td>\u003Ctd>1svmin = 1% of the small viewport’s smaller dimension.\u003C/td>\u003Ctd>Viewport\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>svmax\u003C/td>\u003Ctd>small viewport maximum dimension\u003C/td>\u003Ctd>1svmax = 1% of the small viewport’s larger dimension.\u003C/td>\u003Ctd>Viewport\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>dvw\u003C/td>\u003Ctd>dynamic viewport width\u003C/td>\u003Ctd>1dvw = 1% of the dynamic viewport’s width.\u003C/td>\u003Ctd>Viewport\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>dvh\u003C/td>\u003Ctd>dynamic viewport height\u003C/td>\u003Ctd>1dvh = 1% of the dynamic viewport’s height.\u003C/td>\u003Ctd>Viewport\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>dvmin\u003C/td>\u003Ctd>dynamic viewport minimum dimension\u003C/td>\u003Ctd>1dvmin = 1% of the dynamic viewport’s smaller dimension.\u003C/td>\u003Ctd>Viewport\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>dvmax\u003C/td>\u003Ctd>dynamic viewport maximum dimension\u003C/td>\u003Ctd>1dvmax = 1% of the dynamic viewport’s larger dimension.\u003C/td>\u003Ctd>Viewport\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>deg\u003C/td>\u003Ctd>degrees\u003C/td>\u003Ctd>1deg = 1/360 of a full circle\u003C/td>\u003Ctd>Circle\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>grad\u003C/td>\u003Ctd>gradians\u003C/td>\u003Ctd>1grad = 1/400 of a full circle\u003C/td>\u003Ctd>Circle\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>rad\u003C/td>\u003Ctd>radians\u003C/td>\u003Ctd>1rad = 1/2π of a full circle\u003C/td>\u003Ctd>Circle\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>turn\u003C/td>\u003Ctd>turn\u003C/td>\u003Ctd>1turn = a full circle\u003C/td>\u003Ctd>Circle\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>s\u003C/td>\u003Ctd>second\u003C/td>\u003Ctd>1s = 1/60 of a minute duration\u003C/td>\u003Ctd>Time\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>ms\u003C/td>\u003Ctd>millisecond\u003C/td>\u003Ctd>1ms = 1/1000 of a second duration\u003C/td>\u003Ctd>Time\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Hz\u003C/td>\u003Ctd>Hertz\u003C/td>\u003Ctd>1Hz = one occurrence per second\u003C/td>\u003Ctd>N/a\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>kHz\u003C/td>\u003Ctd>killoHertz\u003C/td>\u003Ctd>1kHz = 1000Hz\u003C/td>\u003Ctd>N/a\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>dpi\u003C/td>\u003Ctd>dots per inch\u003C/td>\u003Ctd>1dpi = one dot per inch\u003C/td>\u003Ctd>Resolution\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>dpcm\u003C/td>\u003Ctd>dots per centimeter\u003C/td>\u003Ctd>1dpcm = one dot per centimeter\u003C/td>\u003Ctd>Resolution\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>dppx\u003C/td>\u003Ctd>dots per pixel\u003C/td>\u003Ctd>1dpcm = one dot per pixel\u003C/td>\u003Ctd>Resolution\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>fr\u003C/td>\u003Ctd>flex fraction\u003C/td>\u003Ctd>1fr = a fraction of available free space\u003C/td>\u003Ctd>Grid layout only\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Cp>Soon there will also be container relative units:\u003C/p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Unit\u003C/th>\u003Cth>Name\u003C/th>\u003Cth>Equivalent to\u003C/th>\u003Cth>Relative to\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>cqw\u003C/td>\u003Ctd>container width\u003C/td>\u003Ctd>1% of a query container’s width\u003C/td>\u003Ctd>Container\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>cqh\u003C/td>\u003Ctd>container height\u003C/td>\u003Ctd>1% of a query container’s height\u003C/td>\u003Ctd>Container\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>cqi\u003C/td>\u003Ctd>container inline size\u003C/td>\u003Ctd>1% of a query container’s inline size\u003C/td>\u003Ctd>Container\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>cqb\u003C/td>\u003Ctd>container block size\u003C/td>\u003Ctd>1% of a query container’s block size\u003C/td>\u003Ctd>Container\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>cqmin\u003C/td>\u003Ctd>container minimum size\u003C/td>\u003Ctd>The smaller value of cqi or cqb\u003C/td>\u003Ctd>Container\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>cqmax\u003C/td>\u003Ctd>container maximum size\u003C/td>\u003Ctd>The larger value of cqi or cqb\u003C/td>\u003Ctd>Container\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch2 id=\"using-multiple-units-together-with-css-functions\">Using multiple units together with CSS functions\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#using-multiple-units-together-with-css-functions\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>CSS has some very useful functions that can determine values by using a single unit or multiple units.\nHere are some examples:\u003C/p>\n\u003Ch3 id=\"calc\">calc\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#calc\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cp>You can use \u003Ccode>calc()\u003C/code> function to determine a dimension using multiple units:\u003C/p>\n\u003Cpre class=\"language-css\" data-language=\"css\">\u003Ccode is:raw=\"\" class=\"language-css\">\u003Cspan class=\"token property\">width\u003C/span>\u003Cspan class=\"token punctuation\">:\u003C/span> \u003Cspan class=\"token function\">calc\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>100% - 16px\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>The width is calculated dynamically by subtracting 16px from the maximum width.\u003C/p>\n\u003Ch3 id=\"clamp\">clamp\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#clamp\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cp>\u003Ccode>clamp()\u003C/code> function accepts a minimum, an ideal and a maximum value. All those units can be different if necessary:\u003C/p>\n\u003Cpre class=\"language-css\" data-language=\"css\">\u003Ccode is:raw=\"\" class=\"language-css\">\u003Cspan class=\"token property\">font-size\u003C/span>\u003Cspan class=\"token punctuation\">:\u003C/span> \u003Cspan class=\"token function\">clamp\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>18px\u003Cspan class=\"token punctuation\">,\u003C/span> 4vw\u003Cspan class=\"token punctuation\">,\u003C/span> 3rem\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>The font size will be a minimum of 18px, a maximum of 3rem and 4vw in the rest.\u003C/p>\n\u003Ch3 id=\"min-and-max\">min and max\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#min-and-max\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cp>\u003Ccode>min()\u003C/code> and \u003Ccode>max()\u003C/code> are two functions that can limit a value depending on context:\u003C/p>\n\u003Cpre class=\"language-css\" data-language=\"css\">\u003Ccode is:raw=\"\" class=\"language-css\">\u003Cspan class=\"token property\">width\u003C/span>\u003Cspan class=\"token punctuation\">:\u003C/span> \u003Cspan class=\"token function\">min\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>100vw - 3rem\u003Cspan class=\"token punctuation\">,\u003C/span> 80ch\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>Here the width will be the minimum between 100vw - 3rem and 80ch. On different screen sizes, there will be a different minimum.\u003C/p>\n\u003Ch3 id=\"minmax\">minmax\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#minmax\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cp>There is also \u003Ccode>minmax()\u003C/code> function that defines a range of values:\u003C/p>\n\u003Cpre class=\"language-plaintext\" data-language=\"plaintext\">\u003Ccode is:raw=\"\" class=\"language-plaintext\">width: minmax(30ch, 80ch)\n\u003C/code>\u003C/pre>\n\u003Cp>In this case the width will have a minium value of 30ch, a maximum of 80ch and any value between.\u003C/p>\n\u003Ch2 id=\"resources\">Resources\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#resources\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cul>\n\u003Cli>\u003Ca href=\"https://developer.mozilla.org/en-US/docs/Learn/CSS/Building_blocks/Values_and_units\">CSS values and units\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"https://every-layout.dev/rudiments/units/\">Units: Every Layout\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"https://www.youtube.com/watch?v=8slZJrTK3nE\">Stephanie Eeckles - Scaling CSS Layout Beyond Pixels\u003C/a>\u003C/li>\n\u003C/ul>",{"headings":83,"imagePaths":100,"frontmatter":68},[84,87,90,92,95,97],{"depth":51,"slug":85,"text":86},"using-multiple-units-together-with-css-functions","Using multiple units together with CSS functions",{"depth":88,"slug":89,"text":89},3,"calc",{"depth":88,"slug":91,"text":91},"clamp",{"depth":88,"slug":93,"text":94},"min-and-max","min and max",{"depth":88,"slug":96,"text":96},"minmax",{"depth":51,"slug":98,"text":99},"resources","Resources",[],"chatgpt-for-web-developers",["Map",7,103],{"id":7,"data":104,"body":114,"filePath":115,"digest":116,"rendered":117,"legacyId":64},{"title":105,"pubDate":106,"description":107,"keywords":108,"twitterImage":111,"minutesRead":112,"excerpt":113},"ChatGPT for web developers",["Date","2023-02-04T00:00:00.000Z"],"Explorations on how ChatGPT can help us, the web developers.",[109,110],"AI","ChatGPT","https://www.raresportan.com/twitter-cards/chatgpt-for-web-developers.png","22 min read","A.k.a. the clickbait of 2023\n\nSUPER MASSIVE 100-page course on ChatGPT\n\n421+ prompts,\n56+ resources,\n$23455+ per month \nAnd for the next 24 ","A.k.a. the clickbait of 2023\n\n> SUPER MASSIVE 100-page course on ChatGPT \n> * 421+ prompts, \n> * 56+ resources, \n> * $23455+ per month \\\n> And for the next 24 hours, it's free! I'll even throw some NFTs in. \\\n> Just: \n> * Follow \n> * Reply \"I'll bite\" \n\nChatGPT. \n\n_Who is that Chatt Gepetto guy?_ Asks granny, the last person on Earth who hears about ChatGPT. By now it's all over Twitter, YouTube, and prime-time news. \n\nEvery influencer and wannabe talk about ChatGPT. How to dig gold with it. How everybody can produce content without having a clue what are they talking about. _I keep hearing that real-estate guy laughing \"Look at this shit!\" while he is copying from ChatGPT the script for a Udemy course on AI._ Yes indeed, look at this shit! \n\nThey're using it to: \n* create articles and ebooks\n* make scripts for short 10 facts YouTube videos and whole Udemy courses\n* generate copy that ranks higher on Google\n* write essays and pass exams\n* brainstorm ideas, names, and slogans\n* write tweets, jokes, and limericks\n* bootstrap AI businesses that put a shiny website over ChatGPT API \n* generate code, unit tests, JSONs, YAMLs, and even SVGs\n* create everything that is in text form!\n\nOf course, there are people  - like me - who are appalled by this trend. I'm horrified that next year this time I'll see only synthetic content everywhere. I'm horrified that I will not be able to tell if is synthetic or not. I hope, browsers will have built-in detection by then. In the meantime, I'll keep asking: [Is There Anybody Out There?](https://www.youtube.com/watch?v=CIxYe3G3Iz4)\n\nI don't think this AI hysteria will go away. Outnumbered and outgunned, we have to grind on. We have to adapt.\n[Stack Overflow searches are down by 60%](https://twitter.com/flaviocopes/status/1620333315919331328?s=43&t=uSgftvbzL10aeP45t_vQSA) since ChatGPT was spawned. Even Google sees a decrease in searches. \n\n_But!_, you ask, _Is ChatCPT any good?_ Oh yes, it's good. \nIt's like having a \"conversation\" with Google Search. It's better than Google Search because (for now) there are no ads and no SEO-doctored content. It can respond in different styles, it can be who you want it to be. ChatGPT is better than a real person - it remembers the context and progress of each conversation. Eerie. Microsoft wants to tune Bing with ChatGPT. I would be very worried right now if I were Google. \n\n_I bet you're biting your nails that you sold that `NVDA` stock when the crypto crashed. Guess what, this whole AI bonanza is powered by NVIDIA GPUs too._\n\nI've used it last night to solve some mathematical limits - using differential derivates. I've used it to write the missing parts of the lost [`The Book of Programming`](https://gist.github.com/jescalan/d0866e7c12e9d0d8fa15) by Master Yuan-Ma, here's a snippet:\n\n> A symphony of code, a symphony of thought, \\\n> A masterpiece of engineering, a problem to be fought. \\\n> A journey through the machine, a quest to solve, \\\n> A symphony of logic, a story to evolve. \n\nBut mostly, I've explored how ChatGPT can help me do my job as a web developer.\n\n_If it's that good, will it replace us developers?_ No. Someday it will, but it's not quite there yet. ChatGPT works best if you use it as a personal assistant. A sidekick.\n\nIt can help a good programmer do the work in less time. It can also make us better \"Full Stack\" developers. I'm a frontend developer, and more comfortable when I team with a good backend developer. But now that ChatGPT is here, I don't know, I'm not so nervous when I have to do some backend too.\n\nI don't like ChatGPT's name too much, Watson sounds much better. Since I like to talk with \"it\" as I would with a real person, I'll refer to it as \"he/him\".\n\n> **I want to call you Watson, it's that OK?** \\\n> Yes, you can call me Watson. I'm here to help with any questions you may have!\n\n\n## The problem with ChatGPT\n\nWe like it or not, ChatGPT and its older sibling, [Github Copilot](https://github.com/features/copilot), will slowly gain traction in our little software development bubble. For better or worse, more and more code will be written with the help of AI. Some of it will be crap, and some will be awesome - like today, when is written without the invisible hand of the AI.\n\nThe next 10x developer will have ChatGPT and Copilot as sidekicks. It might not even be a developer but a bored real-estate guy that wants to laugh. _Look at this shit!_\n\n**The problem is clients/managers/businesses will expect us to be more _prolific_ and _efficient_ because of ChatGPT & Copilot.**\n\n\n## 10 ways in which you can assist me\n\nTo find out how ChatGPT can help us:\n* we can watch a lot of \"big ideas\" on YouTube, \n* buy a lot of \"expert\" ebooks on Gumroad, \n* follow people on Twitter for 421+ \"magic\" prompts \n* or... or... we can ask `it`:\n\n\n**I'm a software developer. Watson, please list 10 ways in which you can assist me**\n> Sure, here are 10 ways I can help you as a software developer:\n\n> 1. Provide code examples and sample solutions to programming problems.\n> 2. Explain programming concepts and algorithms.\n> 3. Answer questions about programming languages and frameworks.\n> 4. Explain best practices for coding and software development.\n> 5. Help debug and troubleshoot code.\n> 6. Provide recommendations for tools and libraries to use.\n> 7. Offer guidance on software architecture and design.\n> 8. Explain how to optimize code for performance and scalability.\n> 9. Offer advice on testing and quality assurance.\n>10. Discuss the trade-offs and considerations for different technical decisions.\n\nThat's a lot, I should have called it Linus, not Watson. I'm thinking of writing a book about this, no kidding:\n> SUPER MASSIVE 100-page ebook: \\\n**The Ultimate Black Book ChatGPT for Agile Programmers and Dummies**\n> * 421+ prompts, \n> * 56+ pieces of advice,\n> * 123+ tips, \n\n> Half price at just **~~$1000~~ $500** for a limited time! \n> [The Ultimate Black Book of ChatGPT](https://app.gumroad.com/the-best-book-ever)\n\nFor now, let's remake the list with web-related topics:\n\n**I'm a web developer. List 10 ways in which you can assist me**\n> Here are 10 ways I can assist you as a web developer:\n\n> 1. Offer advice on web design and user experience.\n> 2. Explain the basics of web technologies, such as HTML, CSS, and JavaScript.\n> 3. Provide code examples and sample solutions to common web development problems.\n> 4. Explain best practices for front-end development, such as accessibility and performance optimization.\n> 5. Offer guidance on how to use popular front-end frameworks, such as React and Angular.\n> 6. Provide advice on server-side development and how to integrate with back-end systems.\n> 7. Discuss the trade-offs and considerations for different technical decisions in web development.\n> 8. Offer suggestions for security and protection against common web vulnerabilities.\n> 9. Provide tips for debugging and troubleshooting web applications.\n>10. Offer resources for learning about web development, such as online courses and tutorials.\n\n## Provide code examples and sample solutions to common web development problems.\nTo test Watson's web programming abilities we'll try to implement a simple website.\n\nMy prompt was: \n\n**I want a single-page website like those at [carrd](https://carrd.co/). It is minimalistic, it contains a picture of a person, their name, and some contact links. Please provide the HTML and CSS for it**\n\n### HTML and CSS\nAfter some back and forth he generated this\n\n\u003Ciframe src=\"/iframes/test1.html\">\u003C/iframe>\n\nThen I told him to \"Add SVG icons to all links\" but that took too long. It generates each SVG path character by character... \n\nThe initial HTML source was:\n```html\n\u003C!DOCTYPE html>\n\u003Chtml>\n  \u003Chead>\n    \u003Cmeta charset=\"UTF-8\">\n    \u003Cmeta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    \u003Clink rel=\"stylesheet\" href=\"styles.css\">\n    \u003Ctitle>My Profile Page\u003C/title>\n  \u003C/head>\n  \u003Cbody>\n    \u003Cdiv class=\"container\">\n      \u003Cimg src=\"jon.jpeg\" alt=\"Person\" style=\"width: 200px; height: 200px; border-radius: 50%;\">\n      \u003Ch1>Jon Snow\u003C/h1>\n      \u003Cp>Lorem ipsum dolor sit amet, consectetur adipiscing elit.\u003C/p>\n      \u003Cp>\n        \u003Ca href=\"https://linkedin.com/in/yourusername\">LinkedIn\u003C/a> | \n        \u003Ca href=\"https://github.com/yourusername\">GitHub\u003C/a> | \n        \u003Ca href=\"mailto:youremail@example.com\">Email\u003C/a>\n      \u003C/p>\n    \u003C/div>\n  \u003C/body>\n\u003C/html>\n```\nThe markup is not perfect. Let's see if we can improve it.\n\n### Accessibility\n\nI've asked: \n**As an accessibility expert, please check the HTML and the CSS for accessibility issues.**\n\nChatGPT was able to provide some recommendations:\n\n> The provided HTML and CSS appear to be accessible, but here are a few additional steps to improve accessibility:\n\n> \"Provide alternate text for images\": The alt attribute of the img element should be used to describe the image in case the image fails to load.\n\n> \"Add semantic HTML\": Currently, the HTML is using div elements for structure and style. To make it more accessible, you could consider using semantic HTML elements such as header, main, article, section, footer, etc.\n\n> \"Use proper headings\": The headings should be used in a proper hierarchy, for example, starting with an `h1` for the main page header and then using `h2`, `h3`, etc. for subheadings.\n\n> \"Color contrast\": Ensure the text has enough color contrast with the background color for easy readability for people with visual impairments. You can use an online color contrast checker to verify.\n\n> \"Keyboard accessibility\": Make sure that all links and buttons can be triggered using only a keyboard.\n\n> By implementing these additional steps, your HTML and CSS will be more accessible to users with disabilities.\n\n\nHere is the result. Why in the world would he replace the entire look & feel with an uglier version? People associate only inaccessible sites with beauty?\n\u003Ciframe src=\"/iframes/test2.html\" >\u003C/iframe>\n\n\nBut the HTML is much better now:\n```html\n\u003C!DOCTYPE html>\n\u003Chtml>\n  \u003Chead>\n    \u003Cmeta charset=\"UTF-8\">\n    \u003Cmeta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    \u003Clink rel=\"stylesheet\" type=\"text/css\" href=\"styles.css\">\n    \u003Ctitle>My Profile Page\u003C/title>\n  \u003C/head>\n  \u003Cbody>\n    \u003Cheader>\n      \u003Cimg src=\"jon.jpeg\" alt=\"Person\" class=\"profile-img\">\n      \u003Ch1>Jon Snow\u003C/h1>\n      \u003Cp>Lorem ipsum dolor sit amet\u003C/p>\n    \u003C/header>\n    \u003Cmain>\n      \u003Cnav>\n        \u003Ca href=\"https://linkedin.com/in/yourusername\" class=\"social-link\">LinkedIn\u003C/a> | \n        \u003Ca href=\"https://github.com/yourusername\" class=\"social-link\">GitHub\u003C/a> | \n        \u003Ca href=\"mailto:youremail@example.com\" class=\"social-link\">Email\u003C/a>\n      \u003C/nav>\n    \u003C/main>\n  \u003C/body>\n\u003C/html>\n```\nWe now have semantic HTML tags like `header`, `main`, and `nav`. I would have used an `h2` instead of the Lorem ipsum `p` but it's fine.\n\n### SEO\nI know this is a small page, but can we improve it?\n\n**The website is for a web developer. How can we improve the SEO?**\n\n> Here are a few suggestions to improve the SEO of the website:\n\n> Page title and description: Add a unique and descriptive title and meta description to each page to give search engines a clear understanding of the content on the page.\n\n> Header tags: Make sure to use header tags (H1, H2, etc.) to structure the content on each page and help search engines understand the importance of each section.\n\n> Keywords: Research and include relevant keywords in the content, titles, and meta description.\n\n> Image optimization: Optimize all images by compressing them and using descriptive, keyword-rich file names and alt text.\n\n> Content: Create high-quality, relevant, and original content on the website.\n\n> Link building: Build quality inbound links to your website to show search engines its importance and relevance.\n\n> Sitemap and robots.txt: Create and submit a sitemap to search engines and use a robots.txt file to control which pages and sections of your site can be crawled.\n\n> Mobile-friendliness: Make sure the website is mobile-friendly and responsive, as search engines favor websites that are optimized for mobile devices.\n\n> URL structure: Use descriptive, keyword-rich URLs for each page on the website.\n\n> Page load speed: Improve the page load speed of the website as search engines consider page load speed as a ranking factor.\n\n> By implementing these SEO best practices, you can help improve the visibility and ranking of your website in search engine results.\n\nTrue to his words, Watson managed to add a description, improve the title, image `alt`, and the `p`. He also suggested \"correct\" links to LinkedIn & co. Not bad.\n```html\n\u003C!DOCTYPE html>\n\u003Chtml>\n  \u003Chead>\n    \u003Cmeta charset=\"UTF-8\">\n    \u003Cmeta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    \u003Ctitle>My Profile Page - Jon Snow - Web Developer\u003C/title>\n    \u003Cmeta name=\"description\" content=\"This is the personal profile page of Jon Snow, a web developer. Here you can find his skills, experience and contact information\">\n    \u003Clink rel=\"stylesheet\" href=\"styles.css\">\n  \u003C/head>\n  \u003Cbody>\n    \u003Cdiv class=\"container\">\n      \u003Cimg src=\"jon.jpeg\" alt=\"Jon Snow, Web Developer\" class=\"person-image\">\n      \u003Ch1>Jon Snow\u003C/h1>\n      \u003Cp>Web Developer\u003C/p>\n      \u003Cp>\n        \u003Ca href=\"https://linkedin.com/in/jonsnow\">LinkedIn\u003C/a> | \n        \u003Ca href=\"https://github.com/jonsnow\">GitHub\u003C/a> | \n        \u003Ca href=\"mailto:jonsnow@example.com\">Email\u003C/a>\n      \u003C/p>\n    \u003C/div>\n  \u003C/body>\n\u003C/html>\n```\nSadly he also lost all the accessibility improvements 😞.\n\n\n## JavaScript\nChatGPT is very good at providing short, focused answers. But when he needs to spit a tone of code, he is not very good.\nSo a good strategy is to divide the answer into several pieces and ask each piece one after the other.\n\nI've asked to add a light and dark theme and implement a toggle button between them. The HTML, CSS, and JavaScript he generated were too much for him. He started to truncate the response.\n\nSo I've asked first for the HTML, then for the CSS, and the for the JavaScript.\n\n\u003Ciframe src=\"/iframes/test3.html\" >\u003C/iframe>\n\nHere is how the toggle button works:\n```js\nconst toggleButton = document.getElementById('theme-toggle-button');\nconst body = document.querySelector('body');\n\ntoggleButton.addEventListener('click', () => {\n  body.classList.toggle('light-theme');\n  body.classList.toggle('dark-theme');\n});\n```\n\nTo explore more of Watson's JavaScript skills, I've changed tactics and (in a new chat) I've asked him:\n\n### Provide code examples \nMy prompt is:\n**I want you to act as a javascript programmer.**\n\n**I will type empty functions with comments. I want you to fill the function body with the correct code. I included as a comment before the function what the function should do.**\n\nThe first function, a duration format:\n```js\n// Format time in duration to a human-readable string, \"hh:mm:ss\", \n// e.g 121 => '00:02:01', 60 =>  '00:01:00'\nfunction formatDuration(duration) {    \n    let result = '';\n\n\n    return result;\n}\n```\n\nWatson was able to fill it. He didn't respect the formatting, but the function works.\n```js\n// Format time in duration to a human-readable string, \"hh:mm:ss\", \n// e.g 121 => '00:02:01', 60 => '00:01:00'\nfunction formatDuration(duration) {\nlet result = '';\nlet hours = Math.floor(duration / 3600);\nlet minutes = Math.floor((duration % 3600) / 60);\nlet seconds = duration % 60;\n\nresult += hours \u003C 10 ? '0' + hours + ':' : hours + ':';\nresult += minutes \u003C 10 ? '0' + minutes + ':' : minutes + ':';\nresult += seconds \u003C 10 ? '0' + seconds : seconds;\n\nreturn result;\n}\n```\n\nAnother function:\n```js\n// Blackout word: Given a phrase and a word, replace each word's chars with *, \n// leave all other words as they are. Use replaceAll and repeat\nconst censor = (phrase, word) => {\n    let result = '';\n    // your code here\n\n    return result;\n}\n```\nThe response was a function that works:\n```js\n// Blackout word: Given a phrase and a word, replace each word's chars with *,\n// leave all other words as they are. Use replaceAll and repeat\nconst censor = (phrase = '', word = '') => {\nlet result = phrase;\nconst censored = '*'.repeat(word.length);\nconst regex = new RegExp(`\\\\b${word}\\\\b`, 'gi');\nresult = result.replace(regex, censored);\nreturn result;\n};\n```\n\n### Help debug and troubleshoot code.\n\nI should provide more context here and make it act as a JavaScript expert or something. But let's see how he handles out-of-context requests too.\n\nI looked online for some tricky questions related to JavaScript and [I found this](https://gist.github.com/jacopotarantino/cbe310d0042527cddc497ce9c709e7a3):\n\n**What does each of these statements return? (assume that they are evaluated individually but in order.)**\n```js\nconst foo = 'asdf'; //=> ?\n\nfoo.bar = 12345; //=> ?\n\nfoo; //=> ?\n\nfoo.bar; //=> ?\n\nObject.getOwnPropertyNames(foo); //=> ? \n```\nWatson responded with:\n```js\nconst foo = 'asdf'; //=> 'asdf'\n\nfoo.bar = 12345; //=> Uncaught TypeError: Cannot create property 'bar' on string 'asdf'\n\nfoo; //=> 'asdf'\n\nfoo.bar; //=> undefined\n\nObject.getOwnPropertyNames(foo); //=> []\n```\nThe first tricky part here is `foo.bar`. foo is a string and you can't set properties on it. Except it throws an error only when the code is evaluated in strict mode (so I guess Watson is right, it should throw.). If foo.bar = 12345 doesn’t throw, when you read foo.bar you get undefined. This is because foo.bar was never set, the operation was ignored, [silent error](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Strict_mode)\n\nThe `Object.getOwnPropertyNames(foo); //=> []` looks wrong. It should either throw an error or return `[\"0\", \"1\", \"2\", \"3\", \"length\"]`\n\nBut let him explain how he decided on that response:\n> const foo = 'asdf'; declares a constant variable foo and assigns the string value \"asdf\" to it.\n\n> foo.bar = 12345 attempts to add a property bar to the string value \"asdf\", but it is not possible to add properties to a string value in JavaScript.\n\n> foo; returns the value of foo which is \"asdf\".\n\n> foo.bar returns undefined because the property bar does not exist on the string value \"asdf\".\n\n> Object.getOwnPropertyNames(foo) returns [] because \"asdf\" is a primitive value and does not have any enumerable properties.\n\n> So, in summary, attempting to add a property to a string value results in an error and accessing a non-existing property on a primitive value returns undefined.\n\n**Reevaluate your response considering all code runs in strict mode**\n> When the code runs in strict mode, the following will occur:\n\n> const foo = 'asdf'; //=> \"asdf\"\n\n> foo.bar = 12345; //=> Uncaught TypeError: Cannot create property 'bar' on string 'asdf'\n\n> foo; //=> \"asdf\"\n\n> foo.bar; //=> Uncaught TypeError: Cannot read property 'bar' of undefined\n\n> Object.getOwnPropertyNames(foo); //=> Uncaught TypeError: Cannot convert undefined or null to object\n\n> In strict mode, you cannot add properties to a string primitive value, which is why the first and fourth statements result in errors. The second and third statements are still valid, however, and would return the string \"asdf\". The fifth statement is invalid because you cannot pass a string primitive to Object.getOwnPropertyNames as it requires an object.\n\nThe last statement about Object.getOwnPropertyNames is still wrong. \n\n## Discuss the trade-offs and considerations for different technical decisions in web development.\n\n**I want you to act as a software architect. I need you to suggest the tech stack of an online course website. Each course is divided into many pages, each can have text, video, and/or embedded code editors. Access to any course is allowed only to users that pay for that course.**\n\n> Here's a suggestion for a tech stack for the online courses website:\n\n> Backend:\n> * Programming language: Node.js\n> * Framework: Express.js\n> * Database: MongoDB\n\n> Frontend:\n> * JavaScript framework: React.js\n> * CSS framework: Material-UI or Bootstrap\n> * Payment gateway integration:\n\n> Stripe API\n\n> Embedded code editors:\n> * CodeMirror or ACE editor\n\n> Video streaming:\n\n> * YouTube or Vimeo API integration\n\n> Authentication and authorization:\n\n> * Passport.js or JWT\n\n> Note: This is just a suggestion and other technologies could be used as well, based on specific requirements and constraints.\n\nNothing surprising. A bit vague. But let's see why he chose React over Angular for example:\n\n**Help me decide between React and Angular**\n> React and Angular are both popular JavaScript frameworks for building web applications. Here are some of the key differences between them:\n\n> Learning curve: React is relatively easier to learn compared to Angular, which has a steeper learning curve. This is because React is just a library for building user interfaces, while Angular is a full-fledged framework that provides a lot of features and tools out of the box.\n\n> Performance: React is known for its fast performance because of its lightweight and modular architecture. Angular, on the other hand, is a bit slower because of its larger code size and more complex architecture.\n\n> Community and ecosystem: React has a large and active community and a well-established ecosystem of libraries and tools. Angular, being developed and maintained by Google, also has a large community and a comprehensive set of tools, but it might be more challenging to find solutions to specific problems compared to React.\n\n> Flexibility: React provides more flexibility in terms of how the application can be structured and organized. Angular, being a full-fledged framework, provides more structure and guidelines, which can be both a blessing and a curse.\n\n> TypeScript support: Angular is built with TypeScript and fully supports it, while React has limited TypeScript support, but can be used with TypeScript through third-party libraries.\n\nLong story short he thinks React is way better. I agree.\n\n**I like React but I don't like that the HTML is empty until React is bootstrapped. What can I do?**\n> If you don't like the fact that the HTML is empty until React is bootstrapped, you could consider using server-side rendering (SSR) to pre-render the HTML on the server and serve it to the client.\n\n> With server-side rendering, the React components are executed on the server, and the generated HTML is sent to the client, so the client receives a fully rendered HTML page right away. This eliminates the delay between the initial loading of the page and the rendering of the React components, making the page appear to load faster.\n\n> Next.js is a popular React-based framework that provides built-in support for server-side rendering and can make it relatively easy to implement. To use Next.js for server-side rendering with React, you would write your components in the usual way and then use the Next.js API to render the components on the server.\n\n> In conclusion, if you want to eliminate the empty HTML issue with React, server-side rendering with Next.js could be a good solution. However, it is important to consider that server-side rendering can increase the complexity of the application and the server requirements, so it may not be suitable for all projects.\n\nHe can provide better answers if you know what to request. But if you know what to request, you know the answer already. It does not have a strong opinion unless you provide as much context as possible.\n\n**What is in your opinion the best JavaScript framework?**\n> As an AI language model, I don't have opinions or personal preferences. The choice of the best JavaScript framework will depend on the specific requirements and constraints of your project.\n\n## Offer guidance on how to use popular front-end frameworks, such as React and Angular.\n\n**I want you to teach me Vue.js using a step-by-step tutorial-like material with examples. First, provide an outline of the tutorial**\n\n> Sure, here's an outline for a step-by-step Vue.js tutorial:\n\n> Introduction to Vue.js:\n\n> * What is Vue.js and its features\n> * Setting up the development environment\n> * Understanding the Vue.js instance and its properties\n> * Components in Vue.js:\n\n> Understanding Components in Vue.js\n> * Creating and using reusable components\n> * Understanding props and custom events\n> * Dynamic Components and Async Components\n\n>Directives and Event handling in Vue.js:\n> ...\n\nLooks like ChatGPT can help us learn new things. One of the tricks here is that you can instruct it to generate personalised texts based on your needs. For example, if you find the text too boring, you can ask ChatGPT to use a funny voice:\n\n> Of course! Let's have some fun with Vue.js!\n\n> Introduction to Vue.js:\n> \"Yo ho ho and a bottle of Vue.js!\" Vue.js is a \"pirate's treasure\" of a JavaScript framework for building user interfaces. Arrr matey! It was created by Evan You in 2014 and it's been growing in popularity ever since. With Vue.js, you'll be able to:\n\n> Reactively bind data to your user interface, making updates a breeze!\n\n> Build reusable UI components, making maintenance a walk in the park!\n\n> Use a virtual DOM to update your user interface quickly and efficiently!\n\n**Rewrite it as a dialog between Jerry Seinfeld and George Costanza**\n> Sure! Let's bring some humor to learning Vue.js with Jerry Seinfeld and George Costanza:\n\n> Jerry: Hey George, have you heard of Vue.js?\n\n> George: Vue.js? Never heard of it. What is it?\n\n> Jerry: It's a JavaScript framework for building user interfaces, George. It's like a Swiss Army Knife for front-end development.\n\n> George: So, what does it do?\n\n> Jerry: Well, with Vue.js, you can bind data to your user interface and updates happen automatically. Plus, you can build reusable UI components that make maintenance a breeze.\n\n> George: That sounds complicated.\n\n> Jerry: No, not at all. It's actually pretty simple. First, you need to set up your development environment with a code editor, local server, and a JavaScript runtime environment like Node.js.\n\n\n## Improve CVs and social profiles\n\n**I want you to rewrite my LinkedIn profile so it's more engaging. Mention more tasks a team lead would do**.\n\nHere is the piece of text that needs rewriting:\n> I design and implement web apps using React and node.js.\n> I love to challenge my creativity by finding solutions to hard problems but I also do a lot of mundane and simple work. I do whatever it takes to get the job done right.\n\n> The final goal is to always exceed client expectations. I design and implement web apps using React and node.js. I love to challenge my creativity by finding solutions to hard problems but I also do a lot of mundane and simple work. I do whatever it takes to get the job done right. The final goal is to always exceed client expectations.\n\nWatson came up with a better version. He loves bullet points.\n> * An enthusiastic and creative web developer, specializing in React and Node.js\n> * Focused on delivering high-quality solutions that exceed client expectations and drive success for the team and the organization\n> * A true leader, overseeing the technical direction of web development projects from ideation to implementation, and ensuring the smooth operation of the development team\n> * Mentoring junior developers and fostering a collaborative, solution-oriented work environment\n> * Consistently sought after for projects requiring innovative solutions and attention to detail\n> Proven ability to design and implement front-end communication, data structures, user interactions, and usability optimizations, while continually seeking to improve performance.\n\n## Conclusion\nChatGPT will amaze you with its responses if you ask it questions about things you have no idea about. However, if you already know a lot, ChatGPT may disappoint you.\n\nThe best way to use ChatGPT is as a sidekick. Ask very detailed and focused questions on very specific topics and it can help. The more specific and exact you are, the better the answers. If you can provide some examples so ChatGPT follows the logic you expect, you'll get even better results.\n\nA common mistake is to ask general questions and expect precise answers. Remember, ChatGPT does not know what is in your head, what you need, or what is the context and it does not have opinions. Make the requests as clear as possible.","src/content/chatgpt-for-web-developers/index.md","01a0aa7b420e28e8",{"html":118,"metadata":119},"\u003Cp>A.k.a. the clickbait of 2023\u003C/p>\n\u003Cblockquote>\n\u003Cp>SUPER MASSIVE 100-page course on ChatGPT\u003C/p>\n\u003Cul>\n\u003Cli>421+ prompts,\u003C/li>\n\u003Cli>56+ resources,\u003C/li>\n\u003Cli>$23455+ per month \u003Cbr>\nAnd for the next 24 hours, it’s free! I’ll even throw some NFTs in. \u003Cbr>\nJust:\u003C/li>\n\u003Cli>Follow\u003C/li>\n\u003Cli>Reply “I’ll bite”\u003C/li>\n\u003C/ul>\n\u003C/blockquote>\n\u003Cp>ChatGPT.\u003C/p>\n\u003Cp>\u003Cem>Who is that Chatt Gepetto guy?\u003C/em> Asks granny, the last person on Earth who hears about ChatGPT. By now it’s all over Twitter, YouTube, and prime-time news.\u003C/p>\n\u003Cp>Every influencer and wannabe talk about ChatGPT. How to dig gold with it. How everybody can produce content without having a clue what are they talking about. \u003Cem>I keep hearing that real-estate guy laughing “Look at this shit!” while he is copying from ChatGPT the script for a Udemy course on AI.\u003C/em> Yes indeed, look at this shit!\u003C/p>\n\u003Cp>They’re using it to:\u003C/p>\n\u003Cul>\n\u003Cli>create articles and ebooks\u003C/li>\n\u003Cli>make scripts for short 10 facts YouTube videos and whole Udemy courses\u003C/li>\n\u003Cli>generate copy that ranks higher on Google\u003C/li>\n\u003Cli>write essays and pass exams\u003C/li>\n\u003Cli>brainstorm ideas, names, and slogans\u003C/li>\n\u003Cli>write tweets, jokes, and limericks\u003C/li>\n\u003Cli>bootstrap AI businesses that put a shiny website over ChatGPT API\u003C/li>\n\u003Cli>generate code, unit tests, JSONs, YAMLs, and even SVGs\u003C/li>\n\u003Cli>create everything that is in text form!\u003C/li>\n\u003C/ul>\n\u003Cp>Of course, there are people  - like me - who are appalled by this trend. I’m horrified that next year this time I’ll see only synthetic content everywhere. I’m horrified that I will not be able to tell if is synthetic or not. I hope, browsers will have built-in detection by then. In the meantime, I’ll keep asking: \u003Ca href=\"https://www.youtube.com/watch?v=CIxYe3G3Iz4\">Is There Anybody Out There?\u003C/a>\u003C/p>\n\u003Cp>I don’t think this AI hysteria will go away. Outnumbered and outgunned, we have to grind on. We have to adapt.\n\u003Ca href=\"https://twitter.com/flaviocopes/status/1620333315919331328?s=43&#x26;t=uSgftvbzL10aeP45t_vQSA\">Stack Overflow searches are down by 60%\u003C/a> since ChatGPT was spawned. Even Google sees a decrease in searches.\u003C/p>\n\u003Cp>\u003Cem>But!\u003C/em>, you ask, \u003Cem>Is ChatCPT any good?\u003C/em> Oh yes, it’s good.\nIt’s like having a “conversation” with Google Search. It’s better than Google Search because (for now) there are no ads and no SEO-doctored content. It can respond in different styles, it can be who you want it to be. ChatGPT is better than a real person - it remembers the context and progress of each conversation. Eerie. Microsoft wants to tune Bing with ChatGPT. I would be very worried right now if I were Google.\u003C/p>\n\u003Cp>\u003Cem>I bet you’re biting your nails that you sold that \u003Ccode>NVDA\u003C/code> stock when the crypto crashed. Guess what, this whole AI bonanza is powered by NVIDIA GPUs too.\u003C/em>\u003C/p>\n\u003Cp>I’ve used it last night to solve some mathematical limits - using differential derivates. I’ve used it to write the missing parts of the lost \u003Ca href=\"https://gist.github.com/jescalan/d0866e7c12e9d0d8fa15\">\u003Ccode>The Book of Programming\u003C/code>\u003C/a> by Master Yuan-Ma, here’s a snippet:\u003C/p>\n\u003Cblockquote>\n\u003Cp>A symphony of code, a symphony of thought, \u003Cbr>\nA masterpiece of engineering, a problem to be fought. \u003Cbr>\nA journey through the machine, a quest to solve, \u003Cbr>\nA symphony of logic, a story to evolve.\u003C/p>\n\u003C/blockquote>\n\u003Cp>But mostly, I’ve explored how ChatGPT can help me do my job as a web developer.\u003C/p>\n\u003Cp>\u003Cem>If it’s that good, will it replace us developers?\u003C/em> No. Someday it will, but it’s not quite there yet. ChatGPT works best if you use it as a personal assistant. A sidekick.\u003C/p>\n\u003Cp>It can help a good programmer do the work in less time. It can also make us better “Full Stack” developers. I’m a frontend developer, and more comfortable when I team with a good backend developer. But now that ChatGPT is here, I don’t know, I’m not so nervous when I have to do some backend too.\u003C/p>\n\u003Cp>I don’t like ChatGPT’s name too much, Watson sounds much better. Since I like to talk with “it” as I would with a real person, I’ll refer to it as “he/him”.\u003C/p>\n\u003Cblockquote>\n\u003Cp>\u003Cstrong>I want to call you Watson, it’s that OK?\u003C/strong> \u003Cbr>\nYes, you can call me Watson. I’m here to help with any questions you may have!\u003C/p>\n\u003C/blockquote>\n\u003Ch2 id=\"the-problem-with-chatgpt\">The problem with ChatGPT\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#the-problem-with-chatgpt\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>We like it or not, ChatGPT and its older sibling, \u003Ca href=\"https://github.com/features/copilot\">Github Copilot\u003C/a>, will slowly gain traction in our little software development bubble. For better or worse, more and more code will be written with the help of AI. Some of it will be crap, and some will be awesome - like today, when is written without the invisible hand of the AI.\u003C/p>\n\u003Cp>The next 10x developer will have ChatGPT and Copilot as sidekicks. It might not even be a developer but a bored real-estate guy that wants to laugh. \u003Cem>Look at this shit!\u003C/em>\u003C/p>\n\u003Cp>\u003Cstrong>The problem is clients/managers/businesses will expect us to be more \u003Cem>prolific\u003C/em> and \u003Cem>efficient\u003C/em> because of ChatGPT &#x26; Copilot.\u003C/strong>\u003C/p>\n\u003Ch2 id=\"10-ways-in-which-you-can-assist-me\">10 ways in which you can assist me\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#10-ways-in-which-you-can-assist-me\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>To find out how ChatGPT can help us:\u003C/p>\n\u003Cul>\n\u003Cli>we can watch a lot of “big ideas” on YouTube,\u003C/li>\n\u003Cli>buy a lot of “expert” ebooks on Gumroad,\u003C/li>\n\u003Cli>follow people on Twitter for 421+ “magic” prompts\u003C/li>\n\u003Cli>or… or… we can ask \u003Ccode>it\u003C/code>:\u003C/li>\n\u003C/ul>\n\u003Cp>\u003Cstrong>I’m a software developer. Watson, please list 10 ways in which you can assist me\u003C/strong>\u003C/p>\n\u003Cblockquote>\n\u003Cp>Sure, here are 10 ways I can help you as a software developer:\u003C/p>\n\u003C/blockquote>\n\u003Cblockquote>\n\u003Col>\n\u003Cli>Provide code examples and sample solutions to programming problems.\u003C/li>\n\u003Cli>Explain programming concepts and algorithms.\u003C/li>\n\u003Cli>Answer questions about programming languages and frameworks.\u003C/li>\n\u003Cli>Explain best practices for coding and software development.\u003C/li>\n\u003Cli>Help debug and troubleshoot code.\u003C/li>\n\u003Cli>Provide recommendations for tools and libraries to use.\u003C/li>\n\u003Cli>Offer guidance on software architecture and design.\u003C/li>\n\u003Cli>Explain how to optimize code for performance and scalability.\u003C/li>\n\u003Cli>Offer advice on testing and quality assurance.\u003C/li>\n\u003Cli>Discuss the trade-offs and considerations for different technical decisions.\u003C/li>\n\u003C/ol>\n\u003C/blockquote>\n\u003Cp>That’s a lot, I should have called it Linus, not Watson. I’m thinking of writing a book about this, no kidding:\u003C/p>\n\u003Cblockquote>\n\u003Cp>SUPER MASSIVE 100-page ebook: \u003Cbr>\n\u003Cstrong>The Ultimate Black Book ChatGPT for Agile Programmers and Dummies\u003C/strong>\u003C/p>\n\u003Cul>\n\u003Cli>421+ prompts,\u003C/li>\n\u003Cli>56+ pieces of advice,\u003C/li>\n\u003Cli>123+ tips,\u003C/li>\n\u003C/ul>\n\u003C/blockquote>\n\u003Cblockquote>\n\u003Cp>Half price at just \u003Cstrong>\u003Cdel>$1000\u003C/del> $500\u003C/strong> for a limited time!\n\u003Ca href=\"https://app.gumroad.com/the-best-book-ever\">The Ultimate Black Book of ChatGPT\u003C/a>\u003C/p>\n\u003C/blockquote>\n\u003Cp>For now, let’s remake the list with web-related topics:\u003C/p>\n\u003Cp>\u003Cstrong>I’m a web developer. List 10 ways in which you can assist me\u003C/strong>\u003C/p>\n\u003Cblockquote>\n\u003Cp>Here are 10 ways I can assist you as a web developer:\u003C/p>\n\u003C/blockquote>\n\u003Cblockquote>\n\u003Col>\n\u003Cli>Offer advice on web design and user experience.\u003C/li>\n\u003Cli>Explain the basics of web technologies, such as HTML, CSS, and JavaScript.\u003C/li>\n\u003Cli>Provide code examples and sample solutions to common web development problems.\u003C/li>\n\u003Cli>Explain best practices for front-end development, such as accessibility and performance optimization.\u003C/li>\n\u003Cli>Offer guidance on how to use popular front-end frameworks, such as React and Angular.\u003C/li>\n\u003Cli>Provide advice on server-side development and how to integrate with back-end systems.\u003C/li>\n\u003Cli>Discuss the trade-offs and considerations for different technical decisions in web development.\u003C/li>\n\u003Cli>Offer suggestions for security and protection against common web vulnerabilities.\u003C/li>\n\u003Cli>Provide tips for debugging and troubleshooting web applications.\u003C/li>\n\u003Cli>Offer resources for learning about web development, such as online courses and tutorials.\u003C/li>\n\u003C/ol>\n\u003C/blockquote>\n\u003Ch2 id=\"provide-code-examples-and-sample-solutions-to-common-web-development-problems\">Provide code examples and sample solutions to common web development problems.\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#provide-code-examples-and-sample-solutions-to-common-web-development-problems\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>To test Watson’s web programming abilities we’ll try to implement a simple website.\u003C/p>\n\u003Cp>My prompt was:\u003C/p>\n\u003Cp>\u003Cstrong>I want a single-page website like those at \u003Ca href=\"https://carrd.co/\">carrd\u003C/a>. It is minimalistic, it contains a picture of a person, their name, and some contact links. Please provide the HTML and CSS for it\u003C/strong>\u003C/p>\n\u003Ch3 id=\"html-and-css\">HTML and CSS\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#html-and-css\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cp>After some back and forth he generated this\u003C/p>\n\u003Ciframe src=\"/iframes/test1.html\">\u003C/iframe>\n\u003Cp>Then I told him to “Add SVG icons to all links” but that took too long. It generates each SVG path character by character…\u003C/p>\n\u003Cp>The initial HTML source was:\u003C/p>\n\u003Cpre class=\"language-html\" data-language=\"html\">\u003Ccode is:raw=\"\" class=\"language-html\">\u003Cspan class=\"token doctype\">\u003Cspan class=\"token punctuation\">&#x3C;!\u003C/span>\u003Cspan class=\"token doctype-tag\">DOCTYPE\u003C/span> \u003Cspan class=\"token name\">html\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>html\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n  \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>head\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>meta\u003C/span> \u003Cspan class=\"token attr-name\">charset\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>UTF-8\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>meta\u003C/span> \u003Cspan class=\"token attr-name\">name\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>viewport\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token attr-name\">content\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>width=device-width, initial-scale=1.0\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>link\u003C/span> \u003Cspan class=\"token attr-name\">rel\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>stylesheet\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token attr-name\">href\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>styles.css\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>title\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>My Profile Page\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>title\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n  \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>head\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n  \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>body\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>div\u003C/span> \u003Cspan class=\"token attr-name\">class\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>container\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n      \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>img\u003C/span> \u003Cspan class=\"token attr-name\">src\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>jon.jpeg\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token attr-name\">alt\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>Person\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token special-attr\">\u003Cspan class=\"token attr-name\">style\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003Cspan class=\"token value css language-css\">\u003Cspan class=\"token property\">width\u003C/span>\u003Cspan class=\"token punctuation\">:\u003C/span> 200px\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token property\">height\u003C/span>\u003Cspan class=\"token punctuation\">:\u003C/span> 200px\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token property\">border-radius\u003C/span>\u003Cspan class=\"token punctuation\">:\u003C/span> 50%\u003Cspan class=\"token punctuation\">;\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n      \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>h1\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>Jon Snow\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>h1\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n      \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>p\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>Lorem ipsum dolor sit amet, consectetur adipiscing elit.\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>p\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n      \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>p\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n        \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>a\u003C/span> \u003Cspan class=\"token attr-name\">href\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>https://linkedin.com/in/yourusername\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>LinkedIn\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>a\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span> | \n        \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>a\u003C/span> \u003Cspan class=\"token attr-name\">href\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>https://github.com/yourusername\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>GitHub\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>a\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span> | \n        \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>a\u003C/span> \u003Cspan class=\"token attr-name\">href\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>mailto:youremail@example.com\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>Email\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>a\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n      \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>p\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>div\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n  \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>body\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>html\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>The markup is not perfect. Let’s see if we can improve it.\u003C/p>\n\u003Ch3 id=\"accessibility\">Accessibility\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#accessibility\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cp>I’ve asked:\n\u003Cstrong>As an accessibility expert, please check the HTML and the CSS for accessibility issues.\u003C/strong>\u003C/p>\n\u003Cp>ChatGPT was able to provide some recommendations:\u003C/p>\n\u003Cblockquote>\n\u003Cp>The provided HTML and CSS appear to be accessible, but here are a few additional steps to improve accessibility:\u003C/p>\n\u003C/blockquote>\n\u003Cblockquote>\n\u003Cp>“Provide alternate text for images”: The alt attribute of the img element should be used to describe the image in case the image fails to load.\u003C/p>\n\u003C/blockquote>\n\u003Cblockquote>\n\u003Cp>“Add semantic HTML”: Currently, the HTML is using div elements for structure and style. To make it more accessible, you could consider using semantic HTML elements such as header, main, article, section, footer, etc.\u003C/p>\n\u003C/blockquote>\n\u003Cblockquote>\n\u003Cp>“Use proper headings”: The headings should be used in a proper hierarchy, for example, starting with an \u003Ccode>h1\u003C/code> for the main page header and then using \u003Ccode>h2\u003C/code>, \u003Ccode>h3\u003C/code>, etc. for subheadings.\u003C/p>\n\u003C/blockquote>\n\u003Cblockquote>\n\u003Cp>“Color contrast”: Ensure the text has enough color contrast with the background color for easy readability for people with visual impairments. You can use an online color contrast checker to verify.\u003C/p>\n\u003C/blockquote>\n\u003Cblockquote>\n\u003Cp>“Keyboard accessibility”: Make sure that all links and buttons can be triggered using only a keyboard.\u003C/p>\n\u003C/blockquote>\n\u003Cblockquote>\n\u003Cp>By implementing these additional steps, your HTML and CSS will be more accessible to users with disabilities.\u003C/p>\n\u003C/blockquote>\n\u003Cp>Here is the result. Why in the world would he replace the entire look &#x26; feel with an uglier version? People associate only inaccessible sites with beauty?\u003C/p>\n\u003Ciframe src=\"/iframes/test2.html\">\u003C/iframe>\n\u003Cp>But the HTML is much better now:\u003C/p>\n\u003Cpre class=\"language-html\" data-language=\"html\">\u003Ccode is:raw=\"\" class=\"language-html\">\u003Cspan class=\"token doctype\">\u003Cspan class=\"token punctuation\">&#x3C;!\u003C/span>\u003Cspan class=\"token doctype-tag\">DOCTYPE\u003C/span> \u003Cspan class=\"token name\">html\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>html\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n  \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>head\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>meta\u003C/span> \u003Cspan class=\"token attr-name\">charset\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>UTF-8\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>meta\u003C/span> \u003Cspan class=\"token attr-name\">name\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>viewport\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token attr-name\">content\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>width=device-width, initial-scale=1.0\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>link\u003C/span> \u003Cspan class=\"token attr-name\">rel\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>stylesheet\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token attr-name\">type\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>text/css\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token attr-name\">href\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>styles.css\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>title\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>My Profile Page\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>title\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n  \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>head\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n  \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>body\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>header\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n      \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>img\u003C/span> \u003Cspan class=\"token attr-name\">src\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>jon.jpeg\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token attr-name\">alt\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>Person\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token attr-name\">class\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>profile-img\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n      \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>h1\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>Jon Snow\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>h1\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n      \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>p\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>Lorem ipsum dolor sit amet\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>p\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>header\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>main\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n      \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>nav\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n        \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>a\u003C/span> \u003Cspan class=\"token attr-name\">href\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>https://linkedin.com/in/yourusername\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token attr-name\">class\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>social-link\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>LinkedIn\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>a\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span> | \n        \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>a\u003C/span> \u003Cspan class=\"token attr-name\">href\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>https://github.com/yourusername\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token attr-name\">class\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>social-link\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>GitHub\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>a\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span> | \n        \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>a\u003C/span> \u003Cspan class=\"token attr-name\">href\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>mailto:youremail@example.com\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token attr-name\">class\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>social-link\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>Email\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>a\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n      \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>nav\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>main\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n  \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>body\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>html\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>We now have semantic HTML tags like \u003Ccode>header\u003C/code>, \u003Ccode>main\u003C/code>, and \u003Ccode>nav\u003C/code>. I would have used an \u003Ccode>h2\u003C/code> instead of the Lorem ipsum \u003Ccode>p\u003C/code> but it’s fine.\u003C/p>\n\u003Ch3 id=\"seo\">SEO\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#seo\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cp>I know this is a small page, but can we improve it?\u003C/p>\n\u003Cp>\u003Cstrong>The website is for a web developer. How can we improve the SEO?\u003C/strong>\u003C/p>\n\u003Cblockquote>\n\u003Cp>Here are a few suggestions to improve the SEO of the website:\u003C/p>\n\u003C/blockquote>\n\u003Cblockquote>\n\u003Cp>Page title and description: Add a unique and descriptive title and meta description to each page to give search engines a clear understanding of the content on the page.\u003C/p>\n\u003C/blockquote>\n\u003Cblockquote>\n\u003Cp>Header tags: Make sure to use header tags (H1, H2, etc.) to structure the content on each page and help search engines understand the importance of each section.\u003C/p>\n\u003C/blockquote>\n\u003Cblockquote>\n\u003Cp>Keywords: Research and include relevant keywords in the content, titles, and meta description.\u003C/p>\n\u003C/blockquote>\n\u003Cblockquote>\n\u003Cp>Image optimization: Optimize all images by compressing them and using descriptive, keyword-rich file names and alt text.\u003C/p>\n\u003C/blockquote>\n\u003Cblockquote>\n\u003Cp>Content: Create high-quality, relevant, and original content on the website.\u003C/p>\n\u003C/blockquote>\n\u003Cblockquote>\n\u003Cp>Link building: Build quality inbound links to your website to show search engines its importance and relevance.\u003C/p>\n\u003C/blockquote>\n\u003Cblockquote>\n\u003Cp>Sitemap and robots.txt: Create and submit a sitemap to search engines and use a robots.txt file to control which pages and sections of your site can be crawled.\u003C/p>\n\u003C/blockquote>\n\u003Cblockquote>\n\u003Cp>Mobile-friendliness: Make sure the website is mobile-friendly and responsive, as search engines favor websites that are optimized for mobile devices.\u003C/p>\n\u003C/blockquote>\n\u003Cblockquote>\n\u003Cp>URL structure: Use descriptive, keyword-rich URLs for each page on the website.\u003C/p>\n\u003C/blockquote>\n\u003Cblockquote>\n\u003Cp>Page load speed: Improve the page load speed of the website as search engines consider page load speed as a ranking factor.\u003C/p>\n\u003C/blockquote>\n\u003Cblockquote>\n\u003Cp>By implementing these SEO best practices, you can help improve the visibility and ranking of your website in search engine results.\u003C/p>\n\u003C/blockquote>\n\u003Cp>True to his words, Watson managed to add a description, improve the title, image \u003Ccode>alt\u003C/code>, and the \u003Ccode>p\u003C/code>. He also suggested “correct” links to LinkedIn &#x26; co. Not bad.\u003C/p>\n\u003Cpre class=\"language-html\" data-language=\"html\">\u003Ccode is:raw=\"\" class=\"language-html\">\u003Cspan class=\"token doctype\">\u003Cspan class=\"token punctuation\">&#x3C;!\u003C/span>\u003Cspan class=\"token doctype-tag\">DOCTYPE\u003C/span> \u003Cspan class=\"token name\">html\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>html\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n  \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>head\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>meta\u003C/span> \u003Cspan class=\"token attr-name\">charset\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>UTF-8\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>meta\u003C/span> \u003Cspan class=\"token attr-name\">name\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>viewport\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token attr-name\">content\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>width=device-width, initial-scale=1.0\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>title\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>My Profile Page - Jon Snow - Web Developer\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>title\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>meta\u003C/span> \u003Cspan class=\"token attr-name\">name\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>description\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token attr-name\">content\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>This is the personal profile page of Jon Snow, a web developer. Here you can find his skills, experience and contact information\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>link\u003C/span> \u003Cspan class=\"token attr-name\">rel\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>stylesheet\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token attr-name\">href\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>styles.css\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n  \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>head\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n  \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>body\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>div\u003C/span> \u003Cspan class=\"token attr-name\">class\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>container\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n      \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>img\u003C/span> \u003Cspan class=\"token attr-name\">src\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>jon.jpeg\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token attr-name\">alt\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>Jon Snow, Web Developer\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token attr-name\">class\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>person-image\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n      \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>h1\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>Jon Snow\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>h1\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n      \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>p\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>Web Developer\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>p\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n      \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>p\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n        \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>a\u003C/span> \u003Cspan class=\"token attr-name\">href\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>https://linkedin.com/in/jonsnow\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>LinkedIn\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>a\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span> | \n        \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>a\u003C/span> \u003Cspan class=\"token attr-name\">href\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>https://github.com/jonsnow\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>GitHub\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>a\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span> | \n        \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>a\u003C/span> \u003Cspan class=\"token attr-name\">href\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>mailto:jonsnow@example.com\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>Email\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>a\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n      \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>p\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>div\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n  \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>body\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>html\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>Sadly he also lost all the accessibility improvements 😞.\u003C/p>\n\u003Ch2 id=\"javascript\">JavaScript\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#javascript\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>ChatGPT is very good at providing short, focused answers. But when he needs to spit a tone of code, he is not very good.\nSo a good strategy is to divide the answer into several pieces and ask each piece one after the other.\u003C/p>\n\u003Cp>I’ve asked to add a light and dark theme and implement a toggle button between them. The HTML, CSS, and JavaScript he generated were too much for him. He started to truncate the response.\u003C/p>\n\u003Cp>So I’ve asked first for the HTML, then for the CSS, and the for the JavaScript.\u003C/p>\n\u003Ciframe src=\"/iframes/test3.html\">\u003C/iframe>\n\u003Cp>Here is how the toggle button works:\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token keyword\">const\u003C/span> toggleButton \u003Cspan class=\"token operator\">=\u003C/span> document\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">getElementById\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">'theme-toggle-button'\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> body \u003Cspan class=\"token operator\">=\u003C/span> document\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">querySelector\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">'body'\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\ntoggleButton\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">addEventListener\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">'click'\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n  body\u003Cspan class=\"token punctuation\">.\u003C/span>classList\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">toggle\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">'light-theme'\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n  body\u003Cspan class=\"token punctuation\">.\u003C/span>classList\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">toggle\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">'dark-theme'\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>To explore more of Watson’s JavaScript skills, I’ve changed tactics and (in a new chat) I’ve asked him:\u003C/p>\n\u003Ch3 id=\"provide-code-examples\">Provide code examples\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#provide-code-examples\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cp>My prompt is:\n\u003Cstrong>I want you to act as a javascript programmer.\u003C/strong>\u003C/p>\n\u003Cp>\u003Cstrong>I will type empty functions with comments. I want you to fill the function body with the correct code. I included as a comment before the function what the function should do.\u003C/strong>\u003C/p>\n\u003Cp>The first function, a duration format:\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token comment\">// Format time in duration to a human-readable string, \"hh:mm:ss\", \u003C/span>\n\u003Cspan class=\"token comment\">// e.g 121 => '00:02:01', 60 =>  '00:01:00'\u003C/span>\n\u003Cspan class=\"token keyword\">function\u003C/span> \u003Cspan class=\"token function\">formatDuration\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">duration\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>    \n    \u003Cspan class=\"token keyword\">let\u003C/span> result \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token string\">''\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\n    \u003Cspan class=\"token keyword\">return\u003C/span> result\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>Watson was able to fill it. He didn’t respect the formatting, but the function works.\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token comment\">// Format time in duration to a human-readable string, \"hh:mm:ss\", \u003C/span>\n\u003Cspan class=\"token comment\">// e.g 121 => '00:02:01', 60 => '00:01:00'\u003C/span>\n\u003Cspan class=\"token keyword\">function\u003C/span> \u003Cspan class=\"token function\">formatDuration\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">duration\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n\u003Cspan class=\"token keyword\">let\u003C/span> result \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token string\">''\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token keyword\">let\u003C/span> hours \u003Cspan class=\"token operator\">=\u003C/span> Math\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">floor\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>duration \u003Cspan class=\"token operator\">/\u003C/span> \u003Cspan class=\"token number\">3600\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token keyword\">let\u003C/span> minutes \u003Cspan class=\"token operator\">=\u003C/span> Math\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">floor\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>duration \u003Cspan class=\"token operator\">%\u003C/span> \u003Cspan class=\"token number\">3600\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">/\u003C/span> \u003Cspan class=\"token number\">60\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token keyword\">let\u003C/span> seconds \u003Cspan class=\"token operator\">=\u003C/span> duration \u003Cspan class=\"token operator\">%\u003C/span> \u003Cspan class=\"token number\">60\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\nresult \u003Cspan class=\"token operator\">+=\u003C/span> hours \u003Cspan class=\"token operator\">&#x3C;\u003C/span> \u003Cspan class=\"token number\">10\u003C/span> \u003Cspan class=\"token operator\">?\u003C/span> \u003Cspan class=\"token string\">'0'\u003C/span> \u003Cspan class=\"token operator\">+\u003C/span> hours \u003Cspan class=\"token operator\">+\u003C/span> \u003Cspan class=\"token string\">':'\u003C/span> \u003Cspan class=\"token operator\">:\u003C/span> hours \u003Cspan class=\"token operator\">+\u003C/span> \u003Cspan class=\"token string\">':'\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\nresult \u003Cspan class=\"token operator\">+=\u003C/span> minutes \u003Cspan class=\"token operator\">&#x3C;\u003C/span> \u003Cspan class=\"token number\">10\u003C/span> \u003Cspan class=\"token operator\">?\u003C/span> \u003Cspan class=\"token string\">'0'\u003C/span> \u003Cspan class=\"token operator\">+\u003C/span> minutes \u003Cspan class=\"token operator\">+\u003C/span> \u003Cspan class=\"token string\">':'\u003C/span> \u003Cspan class=\"token operator\">:\u003C/span> minutes \u003Cspan class=\"token operator\">+\u003C/span> \u003Cspan class=\"token string\">':'\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\nresult \u003Cspan class=\"token operator\">+=\u003C/span> seconds \u003Cspan class=\"token operator\">&#x3C;\u003C/span> \u003Cspan class=\"token number\">10\u003C/span> \u003Cspan class=\"token operator\">?\u003C/span> \u003Cspan class=\"token string\">'0'\u003C/span> \u003Cspan class=\"token operator\">+\u003C/span> seconds \u003Cspan class=\"token operator\">:\u003C/span> seconds\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token keyword\">return\u003C/span> result\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>Another function:\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token comment\">// Blackout word: Given a phrase and a word, replace each word's chars with *, \u003C/span>\n\u003Cspan class=\"token comment\">// leave all other words as they are. Use replaceAll and repeat\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> \u003Cspan class=\"token function-variable function\">censor\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">phrase\u003Cspan class=\"token punctuation\">,\u003C/span> word\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n    \u003Cspan class=\"token keyword\">let\u003C/span> result \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token string\">''\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n    \u003Cspan class=\"token comment\">// your code here\u003C/span>\n\n    \u003Cspan class=\"token keyword\">return\u003C/span> result\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>The response was a function that works:\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token comment\">// Blackout word: Given a phrase and a word, replace each word's chars with *,\u003C/span>\n\u003Cspan class=\"token comment\">// leave all other words as they are. Use replaceAll and repeat\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> censor \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>phrase \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token string\">''\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> word \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token string\">''\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n\u003Cspan class=\"token keyword\">let\u003C/span> result \u003Cspan class=\"token operator\">=\u003C/span> phrase\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> censored \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token string\">'*'\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">repeat\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>word\u003Cspan class=\"token punctuation\">.\u003C/span>length\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> regex \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token keyword\">new\u003C/span> \u003Cspan class=\"token class-name\">RegExp\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token template-string\">\u003Cspan class=\"token template-punctuation string\">`\u003C/span>\u003Cspan class=\"token string\">\\\\b\u003C/span>\u003Cspan class=\"token interpolation\">\u003Cspan class=\"token interpolation-punctuation punctuation\">${\u003C/span>word\u003Cspan class=\"token interpolation-punctuation punctuation\">}\u003C/span>\u003C/span>\u003Cspan class=\"token string\">\\\\b\u003C/span>\u003Cspan class=\"token template-punctuation string\">`\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token string\">'gi'\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\nresult \u003Cspan class=\"token operator\">=\u003C/span> result\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">replace\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>regex\u003Cspan class=\"token punctuation\">,\u003C/span> censored\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token keyword\">return\u003C/span> result\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Ch3 id=\"help-debug-and-troubleshoot-code\">Help debug and troubleshoot code.\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#help-debug-and-troubleshoot-code\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cp>I should provide more context here and make it act as a JavaScript expert or something. But let’s see how he handles out-of-context requests too.\u003C/p>\n\u003Cp>I looked online for some tricky questions related to JavaScript and \u003Ca href=\"https://gist.github.com/jacopotarantino/cbe310d0042527cddc497ce9c709e7a3\">I found this\u003C/a>:\u003C/p>\n\u003Cp>\u003Cstrong>What does each of these statements return? (assume that they are evaluated individually but in order.)\u003C/strong>\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token keyword\">const\u003C/span> foo \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token string\">'asdf'\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token comment\">//=> ?\u003C/span>\n\nfoo\u003Cspan class=\"token punctuation\">.\u003C/span>bar \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token number\">12345\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token comment\">//=> ?\u003C/span>\n\nfoo\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token comment\">//=> ?\u003C/span>\n\nfoo\u003Cspan class=\"token punctuation\">.\u003C/span>bar\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token comment\">//=> ?\u003C/span>\n\nObject\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">getOwnPropertyNames\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>foo\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token comment\">//=> ? \u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>Watson responded with:\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token keyword\">const\u003C/span> foo \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token string\">'asdf'\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token comment\">//=> 'asdf'\u003C/span>\n\nfoo\u003Cspan class=\"token punctuation\">.\u003C/span>bar \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token number\">12345\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token comment\">//=> Uncaught TypeError: Cannot create property 'bar' on string 'asdf'\u003C/span>\n\nfoo\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token comment\">//=> 'asdf'\u003C/span>\n\nfoo\u003Cspan class=\"token punctuation\">.\u003C/span>bar\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token comment\">//=> undefined\u003C/span>\n\nObject\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">getOwnPropertyNames\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>foo\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token comment\">//=> []\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>The first tricky part here is \u003Ccode>foo.bar\u003C/code>. foo is a string and you can’t set properties on it. Except it throws an error only when the code is evaluated in strict mode (so I guess Watson is right, it should throw.). If foo.bar = 12345 doesn’t throw, when you read foo.bar you get undefined. This is because foo.bar was never set, the operation was ignored, \u003Ca href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Strict_mode\">silent error\u003C/a>\u003C/p>\n\u003Cp>The \u003Ccode>Object.getOwnPropertyNames(foo); //=> []\u003C/code> looks wrong. It should either throw an error or return \u003Ccode>[\"0\", \"1\", \"2\", \"3\", \"length\"]\u003C/code>\u003C/p>\n\u003Cp>But let him explain how he decided on that response:\u003C/p>\n\u003Cblockquote>\n\u003Cp>const foo = ‘asdf’; declares a constant variable foo and assigns the string value “asdf” to it.\u003C/p>\n\u003C/blockquote>\n\u003Cblockquote>\n\u003Cp>foo.bar = 12345 attempts to add a property bar to the string value “asdf”, but it is not possible to add properties to a string value in JavaScript.\u003C/p>\n\u003C/blockquote>\n\u003Cblockquote>\n\u003Cp>foo; returns the value of foo which is “asdf”.\u003C/p>\n\u003C/blockquote>\n\u003Cblockquote>\n\u003Cp>foo.bar returns undefined because the property bar does not exist on the string value “asdf”.\u003C/p>\n\u003C/blockquote>\n\u003Cblockquote>\n\u003Cp>Object.getOwnPropertyNames(foo) returns [] because “asdf” is a primitive value and does not have any enumerable properties.\u003C/p>\n\u003C/blockquote>\n\u003Cblockquote>\n\u003Cp>So, in summary, attempting to add a property to a string value results in an error and accessing a non-existing property on a primitive value returns undefined.\u003C/p>\n\u003C/blockquote>\n\u003Cp>\u003Cstrong>Reevaluate your response considering all code runs in strict mode\u003C/strong>\u003C/p>\n\u003Cblockquote>\n\u003Cp>When the code runs in strict mode, the following will occur:\u003C/p>\n\u003C/blockquote>\n\u003Cblockquote>\n\u003Cp>const foo = ‘asdf’; //=> “asdf”\u003C/p>\n\u003C/blockquote>\n\u003Cblockquote>\n\u003Cp>foo.bar = 12345; //=> Uncaught TypeError: Cannot create property ‘bar’ on string ‘asdf’\u003C/p>\n\u003C/blockquote>\n\u003Cblockquote>\n\u003Cp>foo; //=> “asdf”\u003C/p>\n\u003C/blockquote>\n\u003Cblockquote>\n\u003Cp>foo.bar; //=> Uncaught TypeError: Cannot read property ‘bar’ of undefined\u003C/p>\n\u003C/blockquote>\n\u003Cblockquote>\n\u003Cp>Object.getOwnPropertyNames(foo); //=> Uncaught TypeError: Cannot convert undefined or null to object\u003C/p>\n\u003C/blockquote>\n\u003Cblockquote>\n\u003Cp>In strict mode, you cannot add properties to a string primitive value, which is why the first and fourth statements result in errors. The second and third statements are still valid, however, and would return the string “asdf”. The fifth statement is invalid because you cannot pass a string primitive to Object.getOwnPropertyNames as it requires an object.\u003C/p>\n\u003C/blockquote>\n\u003Cp>The last statement about Object.getOwnPropertyNames is still wrong.\u003C/p>\n\u003Ch2 id=\"discuss-the-trade-offs-and-considerations-for-different-technical-decisions-in-web-development\">Discuss the trade-offs and considerations for different technical decisions in web development.\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#discuss-the-trade-offs-and-considerations-for-different-technical-decisions-in-web-development\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>\u003Cstrong>I want you to act as a software architect. I need you to suggest the tech stack of an online course website. Each course is divided into many pages, each can have text, video, and/or embedded code editors. Access to any course is allowed only to users that pay for that course.\u003C/strong>\u003C/p>\n\u003Cblockquote>\n\u003Cp>Here’s a suggestion for a tech stack for the online courses website:\u003C/p>\n\u003C/blockquote>\n\u003Cblockquote>\n\u003Cp>Backend:\u003C/p>\n\u003Cul>\n\u003Cli>Programming language: Node.js\u003C/li>\n\u003Cli>Framework: Express.js\u003C/li>\n\u003Cli>Database: MongoDB\u003C/li>\n\u003C/ul>\n\u003C/blockquote>\n\u003Cblockquote>\n\u003Cp>Frontend:\u003C/p>\n\u003Cul>\n\u003Cli>JavaScript framework: React.js\u003C/li>\n\u003Cli>CSS framework: Material-UI or Bootstrap\u003C/li>\n\u003Cli>Payment gateway integration:\u003C/li>\n\u003C/ul>\n\u003C/blockquote>\n\u003Cblockquote>\n\u003Cp>Stripe API\u003C/p>\n\u003C/blockquote>\n\u003Cblockquote>\n\u003Cp>Embedded code editors:\u003C/p>\n\u003Cul>\n\u003Cli>CodeMirror or ACE editor\u003C/li>\n\u003C/ul>\n\u003C/blockquote>\n\u003Cblockquote>\n\u003Cp>Video streaming:\u003C/p>\n\u003C/blockquote>\n\u003Cblockquote>\n\u003Cul>\n\u003Cli>YouTube or Vimeo API integration\u003C/li>\n\u003C/ul>\n\u003C/blockquote>\n\u003Cblockquote>\n\u003Cp>Authentication and authorization:\u003C/p>\n\u003C/blockquote>\n\u003Cblockquote>\n\u003Cul>\n\u003Cli>Passport.js or JWT\u003C/li>\n\u003C/ul>\n\u003C/blockquote>\n\u003Cblockquote>\n\u003Cp>Note: This is just a suggestion and other technologies could be used as well, based on specific requirements and constraints.\u003C/p>\n\u003C/blockquote>\n\u003Cp>Nothing surprising. A bit vague. But let’s see why he chose React over Angular for example:\u003C/p>\n\u003Cp>\u003Cstrong>Help me decide between React and Angular\u003C/strong>\u003C/p>\n\u003Cblockquote>\n\u003Cp>React and Angular are both popular JavaScript frameworks for building web applications. Here are some of the key differences between them:\u003C/p>\n\u003C/blockquote>\n\u003Cblockquote>\n\u003Cp>Learning curve: React is relatively easier to learn compared to Angular, which has a steeper learning curve. This is because React is just a library for building user interfaces, while Angular is a full-fledged framework that provides a lot of features and tools out of the box.\u003C/p>\n\u003C/blockquote>\n\u003Cblockquote>\n\u003Cp>Performance: React is known for its fast performance because of its lightweight and modular architecture. Angular, on the other hand, is a bit slower because of its larger code size and more complex architecture.\u003C/p>\n\u003C/blockquote>\n\u003Cblockquote>\n\u003Cp>Community and ecosystem: React has a large and active community and a well-established ecosystem of libraries and tools. Angular, being developed and maintained by Google, also has a large community and a comprehensive set of tools, but it might be more challenging to find solutions to specific problems compared to React.\u003C/p>\n\u003C/blockquote>\n\u003Cblockquote>\n\u003Cp>Flexibility: React provides more flexibility in terms of how the application can be structured and organized. Angular, being a full-fledged framework, provides more structure and guidelines, which can be both a blessing and a curse.\u003C/p>\n\u003C/blockquote>\n\u003Cblockquote>\n\u003Cp>TypeScript support: Angular is built with TypeScript and fully supports it, while React has limited TypeScript support, but can be used with TypeScript through third-party libraries.\u003C/p>\n\u003C/blockquote>\n\u003Cp>Long story short he thinks React is way better. I agree.\u003C/p>\n\u003Cp>\u003Cstrong>I like React but I don’t like that the HTML is empty until React is bootstrapped. What can I do?\u003C/strong>\u003C/p>\n\u003Cblockquote>\n\u003Cp>If you don’t like the fact that the HTML is empty until React is bootstrapped, you could consider using server-side rendering (SSR) to pre-render the HTML on the server and serve it to the client.\u003C/p>\n\u003C/blockquote>\n\u003Cblockquote>\n\u003Cp>With server-side rendering, the React components are executed on the server, and the generated HTML is sent to the client, so the client receives a fully rendered HTML page right away. This eliminates the delay between the initial loading of the page and the rendering of the React components, making the page appear to load faster.\u003C/p>\n\u003C/blockquote>\n\u003Cblockquote>\n\u003Cp>Next.js is a popular React-based framework that provides built-in support for server-side rendering and can make it relatively easy to implement. To use Next.js for server-side rendering with React, you would write your components in the usual way and then use the Next.js API to render the components on the server.\u003C/p>\n\u003C/blockquote>\n\u003Cblockquote>\n\u003Cp>In conclusion, if you want to eliminate the empty HTML issue with React, server-side rendering with Next.js could be a good solution. However, it is important to consider that server-side rendering can increase the complexity of the application and the server requirements, so it may not be suitable for all projects.\u003C/p>\n\u003C/blockquote>\n\u003Cp>He can provide better answers if you know what to request. But if you know what to request, you know the answer already. It does not have a strong opinion unless you provide as much context as possible.\u003C/p>\n\u003Cp>\u003Cstrong>What is in your opinion the best JavaScript framework?\u003C/strong>\u003C/p>\n\u003Cblockquote>\n\u003Cp>As an AI language model, I don’t have opinions or personal preferences. The choice of the best JavaScript framework will depend on the specific requirements and constraints of your project.\u003C/p>\n\u003C/blockquote>\n\u003Ch2 id=\"offer-guidance-on-how-to-use-popular-front-end-frameworks-such-as-react-and-angular\">Offer guidance on how to use popular front-end frameworks, such as React and Angular.\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#offer-guidance-on-how-to-use-popular-front-end-frameworks-such-as-react-and-angular\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>\u003Cstrong>I want you to teach me Vue.js using a step-by-step tutorial-like material with examples. First, provide an outline of the tutorial\u003C/strong>\u003C/p>\n\u003Cblockquote>\n\u003Cp>Sure, here’s an outline for a step-by-step Vue.js tutorial:\u003C/p>\n\u003C/blockquote>\n\u003Cblockquote>\n\u003Cp>Introduction to Vue.js:\u003C/p>\n\u003C/blockquote>\n\u003Cblockquote>\n\u003Cul>\n\u003Cli>What is Vue.js and its features\u003C/li>\n\u003Cli>Setting up the development environment\u003C/li>\n\u003Cli>Understanding the Vue.js instance and its properties\u003C/li>\n\u003Cli>Components in Vue.js:\u003C/li>\n\u003C/ul>\n\u003C/blockquote>\n\u003Cblockquote>\n\u003Cp>Understanding Components in Vue.js\u003C/p>\n\u003Cul>\n\u003Cli>Creating and using reusable components\u003C/li>\n\u003Cli>Understanding props and custom events\u003C/li>\n\u003Cli>Dynamic Components and Async Components\u003C/li>\n\u003C/ul>\n\u003C/blockquote>\n\u003Cblockquote>\n\u003Cp>Directives and Event handling in Vue.js:\n…\u003C/p>\n\u003C/blockquote>\n\u003Cp>Looks like ChatGPT can help us learn new things. One of the tricks here is that you can instruct it to generate personalised texts based on your needs. For example, if you find the text too boring, you can ask ChatGPT to use a funny voice:\u003C/p>\n\u003Cblockquote>\n\u003Cp>Of course! Let’s have some fun with Vue.js!\u003C/p>\n\u003C/blockquote>\n\u003Cblockquote>\n\u003Cp>Introduction to Vue.js:\n“Yo ho ho and a bottle of Vue.js!” Vue.js is a “pirate’s treasure” of a JavaScript framework for building user interfaces. Arrr matey! It was created by Evan You in 2014 and it’s been growing in popularity ever since. With Vue.js, you’ll be able to:\u003C/p>\n\u003C/blockquote>\n\u003Cblockquote>\n\u003Cp>Reactively bind data to your user interface, making updates a breeze!\u003C/p>\n\u003C/blockquote>\n\u003Cblockquote>\n\u003Cp>Build reusable UI components, making maintenance a walk in the park!\u003C/p>\n\u003C/blockquote>\n\u003Cblockquote>\n\u003Cp>Use a virtual DOM to update your user interface quickly and efficiently!\u003C/p>\n\u003C/blockquote>\n\u003Cp>\u003Cstrong>Rewrite it as a dialog between Jerry Seinfeld and George Costanza\u003C/strong>\u003C/p>\n\u003Cblockquote>\n\u003Cp>Sure! Let’s bring some humor to learning Vue.js with Jerry Seinfeld and George Costanza:\u003C/p>\n\u003C/blockquote>\n\u003Cblockquote>\n\u003Cp>Jerry: Hey George, have you heard of Vue.js?\u003C/p>\n\u003C/blockquote>\n\u003Cblockquote>\n\u003Cp>George: Vue.js? Never heard of it. What is it?\u003C/p>\n\u003C/blockquote>\n\u003Cblockquote>\n\u003Cp>Jerry: It’s a JavaScript framework for building user interfaces, George. It’s like a Swiss Army Knife for front-end development.\u003C/p>\n\u003C/blockquote>\n\u003Cblockquote>\n\u003Cp>George: So, what does it do?\u003C/p>\n\u003C/blockquote>\n\u003Cblockquote>\n\u003Cp>Jerry: Well, with Vue.js, you can bind data to your user interface and updates happen automatically. Plus, you can build reusable UI components that make maintenance a breeze.\u003C/p>\n\u003C/blockquote>\n\u003Cblockquote>\n\u003Cp>George: That sounds complicated.\u003C/p>\n\u003C/blockquote>\n\u003Cblockquote>\n\u003Cp>Jerry: No, not at all. It’s actually pretty simple. First, you need to set up your development environment with a code editor, local server, and a JavaScript runtime environment like Node.js.\u003C/p>\n\u003C/blockquote>\n\u003Ch2 id=\"improve-cvs-and-social-profiles\">Improve CVs and social profiles\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#improve-cvs-and-social-profiles\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>\u003Cstrong>I want you to rewrite my LinkedIn profile so it’s more engaging. Mention more tasks a team lead would do\u003C/strong>.\u003C/p>\n\u003Cp>Here is the piece of text that needs rewriting:\u003C/p>\n\u003Cblockquote>\n\u003Cp>I design and implement web apps using React and node.js.\nI love to challenge my creativity by finding solutions to hard problems but I also do a lot of mundane and simple work. I do whatever it takes to get the job done right.\u003C/p>\n\u003C/blockquote>\n\u003Cblockquote>\n\u003Cp>The final goal is to always exceed client expectations. I design and implement web apps using React and node.js. I love to challenge my creativity by finding solutions to hard problems but I also do a lot of mundane and simple work. I do whatever it takes to get the job done right. The final goal is to always exceed client expectations.\u003C/p>\n\u003C/blockquote>\n\u003Cp>Watson came up with a better version. He loves bullet points.\u003C/p>\n\u003Cblockquote>\n\u003Cul>\n\u003Cli>An enthusiastic and creative web developer, specializing in React and Node.js\u003C/li>\n\u003Cli>Focused on delivering high-quality solutions that exceed client expectations and drive success for the team and the organization\u003C/li>\n\u003Cli>A true leader, overseeing the technical direction of web development projects from ideation to implementation, and ensuring the smooth operation of the development team\u003C/li>\n\u003Cli>Mentoring junior developers and fostering a collaborative, solution-oriented work environment\u003C/li>\n\u003Cli>Consistently sought after for projects requiring innovative solutions and attention to detail\nProven ability to design and implement front-end communication, data structures, user interactions, and usability optimizations, while continually seeking to improve performance.\u003C/li>\n\u003C/ul>\n\u003C/blockquote>\n\u003Ch2 id=\"conclusion\">Conclusion\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#conclusion\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>ChatGPT will amaze you with its responses if you ask it questions about things you have no idea about. However, if you already know a lot, ChatGPT may disappoint you.\u003C/p>\n\u003Cp>The best way to use ChatGPT is as a sidekick. Ask very detailed and focused questions on very specific topics and it can help. The more specific and exact you are, the better the answers. If you can provide some examples so ChatGPT follows the logic you expect, you’ll get even better results.\u003C/p>\n\u003Cp>A common mistake is to ask general questions and expect precise answers. Remember, ChatGPT does not know what is in your head, what you need, or what is the context and it does not have opinions. Make the requests as clear as possible.\u003C/p>",{"headings":120,"imagePaths":159,"frontmatter":104},[121,124,127,130,133,136,139,141,144,147,150,153,156],{"depth":51,"slug":122,"text":123},"the-problem-with-chatgpt","The problem with ChatGPT",{"depth":51,"slug":125,"text":126},"10-ways-in-which-you-can-assist-me","10 ways in which you can assist me",{"depth":51,"slug":128,"text":129},"provide-code-examples-and-sample-solutions-to-common-web-development-problems","Provide code examples and sample solutions to common web development problems.",{"depth":88,"slug":131,"text":132},"html-and-css","HTML and CSS",{"depth":88,"slug":134,"text":135},"accessibility","Accessibility",{"depth":88,"slug":137,"text":138},"seo","SEO",{"depth":51,"slug":140,"text":14},"javascript",{"depth":88,"slug":142,"text":143},"provide-code-examples","Provide code examples",{"depth":88,"slug":145,"text":146},"help-debug-and-troubleshoot-code","Help debug and troubleshoot code.",{"depth":51,"slug":148,"text":149},"discuss-the-trade-offs-and-considerations-for-different-technical-decisions-in-web-development","Discuss the trade-offs and considerations for different technical decisions in web development.",{"depth":51,"slug":151,"text":152},"offer-guidance-on-how-to-use-popular-front-end-frameworks-such-as-react-and-angular","Offer guidance on how to use popular front-end frameworks, such as React and Angular.",{"depth":51,"slug":154,"text":155},"improve-cvs-and-social-profiles","Improve CVs and social profiles",{"depth":51,"slug":157,"text":158},"conclusion","Conclusion",[],"cyberpunk-2077-glitch-effect",["Map",7,162],{"id":7,"data":163,"body":168,"filePath":169,"digest":170,"legacyId":18,"deferredRender":19},{"title":164,"pubDate":165,"description":166,"keywords":167},"Cyberpunk 2077 glitch effect",["Date","2020-12-16T00:00:00.000Z"],"A deconstruction of the Cyberpunk 2077 game effect done and its CSS variant",[73],"> Note: This post is about a motion intensive CSS animation. The examples will not work if `prefers-reduced-motion` is set to reduce.\n\n[Cyberpunk 2077](https://www.cyberpunk.net/fi/en/) is an impressive RPG game that was released these days (Dec. 2020).\nIt looks very good, it's full of visual effects. Some of these visual effects, the `glitch` effects, appear a lot in the game (just to be clear,\nbecause the game had lots of bugs when was released, I'm not talking here about game issues, about game glitches, but about the _glitch visual effects_)\n\nI've found one of the glitch effects done in CSS and I was very intrigued by the implementation. Here is the effect in action:\n\n\u003Cbr />\n\nimport Glitch from \"../../components/glitch/Glitch.astro\";\n\n\u003CGlitch />\n\nVery nice. So appropriate for a world in which humans survive by enhancing their body with hardware implants. Hardware that\nfails or that can be hacked, bought on the black market from shady individuals.\n\nBut how is this implemented in CSS?\n\n## Implementation\n\nThe trick is to use the same image twice. First as a normal image and secondly as an animated overlay from which parts are cut out\nand rotated.\n\nWe need a container with the relative position in which to put the overlay which will have an absolute position.\nAlso inside the container, we put the image on which we'll apply the effect:\n\n```html\n\u003Cdiv class=\"container\">\n  \u003Cimg src=\"/cyberpunk.jpg\" alt=\"Cyberpunk\" />\n  \u003Cspan class=\"overlay\"> \u003C/span>\n\u003C/div>\n```\n\nHere is the CSS (without the actual animation code).\n\n```css\n.container {\n  max-width: 100%;\n  position: relative;\n  overflow: hidden;\n}\n\n.overlay {\n  display: block;\n  animation-duration: 2s;\n  animation-timing-function: linear;\n  animation-iteration-count: infinite;\n  animation-name: glitch;\n  animation-direction: alternate;\n  background-image: url(\"/cyberpunk.jpg\");\n  transform: rotate(-2deg);\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-size: 100%;\n  background-position: top;\n  background-repeat: no-repeat;\n}\n```\n\n- The container position is relative and hides the content that overflows.\n- The overlay has an absolute position. Uses as background the same image like the one put inside the container.\n- The overlay animation takes 2 seconds, is repeated forever, uses a linear easing, and animation direction alternates\n\nThe animation code will be presented later, first, we need to understand how it works.\n\n### No background image\n\nLet's see how the effect works if we hide the `image` (and replace it with yellow color).\nNow it should be more clear how the overlay _cuts_ pieces from itself.\n\n\u003CGlitch version={1} />\n\nThe `cutting` is realized using a CSS property called `clip-path`. The value can be many things like a circle, an SVG path, or a polygon.\nIn our case, a `polygon` is used to create the clip-path. (Take a look [here](https://bennettfeely.com/clippy/) if you want to see how to create clip-path polygons.)\n\nThe polygon needs the placing of its points:\n\n```css\n.cut {\n  clip-path: polygon(0 78%, 100% 78%, 100% 100%, 0 100%);\n}\n```\n\nTo achieve the full effect, these clippings are moved and rotated a bit:\n\n```css\n.moved-rotated {\n  transform: translate(5px) rotate(-2deg);\n}\n```\n\n### No overlay image\n\nHere we replace the overlay's image with a color.\n\n\u003CGlitch version={2} />\n\nAs you can see the effect can be used with colors only (I'm pretty sure I've seen this somewhere.)\nThe advantage of this version is that we don't have to use the image twice, and so it can simplify the code a bit.\n\n### Slow motion\n\nAnd finally, here is the animation in slow motion (10x slower).\n\nNow it's clearer that the animation runs first from the start and the second time from the end, it alternates the starting point. This is set by `animation-direction: alternate`\n\n\u003CGlitch version={3} />\n\nMost of the steps are displayed for at least a second, except for 4 steps. 3 are much faster (see below steps 13.1%, 20.1%, and 60.1%).\n\nThe last step is the slowest and takes about 40% of the animation duration. And because the second time the animation starts from the end,\nthe gap when nothing happens appears to be very big.\n\n## Animation code\n\nFinally here is the animation code, as I found it on [cyberpunk.net](https://www.cyberpunk.net/en/news/37076/important-update).\nI assume they somehow exported it from the game assets (I've never seen before 13.1% or 20.1% used as keyframes before).\n\n```css\n@keyframes glitch {\n  0% {\n    opacity: 1;\n    transform: translateZ(0) rotate(-2deg);\n    clip-path: polygon(0 2%, 100% 2%, 100% 5%, 0 5%);\n  }\n  2% {\n    clip-path: polygon(0 78%, 100% 78%, 100% 100%, 0 100%);\n    transform: translate(-5px) rotate(-2deg);\n  }\n  6% {\n    clip-path: polygon(0 78%, 100% 78%, 100% 100%, 0 100%);\n    transform: translate(5px) rotate(-2deg);\n  }\n  8% {\n    clip-path: polygon(0 78%, 100% 78%, 100% 100%, 0 100%);\n    transform: translate(-5px) rotate(-2deg);\n  }\n  9% {\n    clip-path: polygon(0 78%, 100% 78%, 100% 100%, 0 100%);\n    transform: translate(0) rotate(-2deg);\n  }\n  10% {\n    clip-path: polygon(0 54%, 100% 54%, 100% 44%, 0 44%);\n    transform: translate3d(5px, 0, 0) rotate(-2deg);\n  }\n  13% {\n    clip-path: polygon(0 54%, 100% 54%, 100% 44%, 0 44%);\n    transform: translateZ(0) rotate(-2deg);\n  }\n  13.1% {\n    clip-path: polygon(0 0, 0 0, 0 0, 0 0);\n    transform: translate3d(5px, 0, 0) rotate(-2deg);\n  }\n  15% {\n    clip-path: polygon(0 60%, 100% 60%, 100% 40%, 0 40%);\n    transform: translate3d(5px, 0, 0) rotate(-2deg);\n  }\n  20% {\n    clip-path: polygon(0 60%, 100% 60%, 100% 40%, 0 40%);\n    transform: translate3d(-5px, 0, 0) rotate(-2deg);\n  }\n  20.1% {\n    clip-path: polygon(0 0, 0 0, 0 0, 0 0);\n    transform: translate3d(5px, 0, 0) rotate(-2deg);\n  }\n  25% {\n    clip-path: polygon(0 85%, 100% 85%, 100% 40%, 0 40%);\n    transform: translate3d(5px, 0, 0) rotate(-2deg);\n  }\n  30% {\n    clip-path: polygon(0 85%, 100% 85%, 100% 40%, 0 40%);\n    transform: translate3d(-5px, 0, 0) rotate(-2deg);\n  }\n  30.1% {\n    clip-path: polygon(0 0, 0 0, 0 0, 0 0) rotate(-2deg);\n  }\n  35% {\n    clip-path: polygon(0 63%, 100% 63%, 100% 80%, 0 80%);\n    transform: translate(-5px) rotate(-2deg);\n  }\n  40% {\n    clip-path: polygon(0 63%, 100% 63%, 100% 80%, 0 80%);\n    transform: translate(5px) rotate(-2deg);\n  }\n  45% {\n    clip-path: polygon(0 63%, 100% 63%, 100% 80%, 0 80%);\n    transform: translate(-5px) rotate(-2deg);\n  }\n  50% {\n    clip-path: polygon(0 63%, 100% 63%, 100% 80%, 0 80%);\n    transform: translate(0) rotate(-2deg);\n  }\n  55% {\n    clip-path: polygon(0 10%, 100% 10%, 100% 0, 0 0);\n    transform: translate3d(5px, 0, 0) rotate(-2deg);\n  }\n  60% {\n    clip-path: polygon(0 10%, 100% 10%, 100% 0, 0 0);\n    transform: translateZ(0) rotate(-2deg);\n    opacity: 1;\n  }\n  60.1% {\n    clip-path: polygon(0 0, 0 0, 0 0, 0 0);\n    opacity: 1;\n  }\n  to {\n    clip-path: polygon(0 0, 0 0, 0 0, 0 0);\n    opacity: 1;\n  }\n}\n```\n\n## Post Scriptum\n\nI've used [MDX](https://www.gatsbyjs.com/docs/how-to/routing/mdx/) and [CSS modules](https://www.gatsbyjs.com/docs/how-to/styling/css-modules/) to implement this blog post.\nThat way I was able to create a React component, `Glitch` that could be used inside markdown, with its own\nCSS and HTML. MDX is incredibly useful, if you're using React (with Gatsby or Next.js) I highly recommend it.\n\n## Resources\n\n- [Original CSS effect from cyberpunk.net](https://www.cyberpunk.net/en/news/37076/important-update)\n- Image from the [Cyberpunk 2077 press kit](https://www.igdb.com/games/cyberpunk-2077/presskit)\n- [CSS Clip-path on MDN](https://developer.mozilla.org/en-US/docs/Web/CSS/clip-path)\n- [CSS Animation on MDN](https://developer.mozilla.org/en-US/docs/Web/CSS/animation)","src/content/cyberpunk-2077-glitch-effect/index.mdx","b590b8e089f8fe6f","easy-sudoku-techniques",["Map",7,173],{"id":7,"data":174,"body":180,"filePath":181,"digest":182,"legacyId":18,"deferredRender":19},{"title":175,"pubDate":176,"description":177,"keywords":178},"Easy Sudoku solving techniques",["Date","2022-11-08T00:00:00.000Z"],"Quick and easy techniques to find some number in (some) Sudokus",[179],"Sudoku","In the first part of the Sudoku series, we built a [Sudoku Solver](/sudoku-solver).\nNext is the Sudoku generator: _a program that can generate games of different difficulty, ideally automated, new games every day._,\nmeaning a program that produces easy, medium, and hard Sudokus (yes, there are also Diabolical\nand Extreme Sudokus but these are out of my league sorry).\n\nBut what is the difference between an easy, medium, and hard Sudoku? The techniques needed to solve them.\nYes, easy Sudokus have more givens (start numbers) but it's not possible to classify a Sudoku only\nby the number of givens.\n\nMy initial (naive) idea of generating the Sudoku was this:\n\n1. Start with an empty board and fill some squares\n2. Solve the puzzle with the solver\n3. Remove some of the numbers (over 50)\n\nPiece of cake right? Not quite. Using the above algorithm it is easy to generate puzzles that are almost impossible\nto solve, or at least harder than they need to be. Why? Because they can be solved only by using some\ncrazy techniques you never heard of like 3D Medusa or Sue-de-Cog.\n\nSo I need to implement the same techniques a human would use to solve the puzzle and check if the puzzle is solvable by these techniques.\n\nThe new algorithm does the following:\n\n1. Starts with an empty board, and fills the first, middle, and last 3x3 boxes with random numbers from 1 to 9.\n2. Uses the solver to solve the puzzle and fill the board with all the numbers.\n3. Removes some of the numbers (about 53-57). After each number is removed, it checks if the puzzle is still solvable\n   using the easy sudoku techniques detailed here:\n\n- Naked/Hidden Singles (Lone rangers)\n- Naked/Hidden pairs (Twins)\n- Naked/Hidden Triples\n- Pointing pairs\n- Box/line reduction\n\nWant to see them in action?\n\nimport { Picture } from \"astro:assets\";\nimport demo from \"./demo.png\";\n\n\u003CPicture\n  src={demo}\n  widths={[480, 800]}\n  formats={[\"webp\"]}\n  sizes=\"(max-width: 600px) 480px, 800px\"\n  alt=\"Demo of easy Sudoku generator\"\n/>\n\nWhy these techniques? Because these are basic Sudoku-solving techniques. I think every person that likes to solve Sudokus\nknows them. Maybe not by the name since they tend to have different names all over the globe, but I'm sure everyone gets the gist of them.\nI'm using the British [Andrew Stuart's](https://www.sudokuwiki.org/) terminology.\n\nThere is one thing we need to implement first, something that is very handy, the\n_pencil marks_ used to show what digits can go in each cell/square, _the square candidates_.\n\n## Pencil marks\n\nIf only one number can go into a cell(square), it means that number is the solution for that cell.\nBut when you solve a Sudoku more often than not you realize that in a certain cell can go two, three, or more numbers.\nWe call _candidates_ the numbers that can be the solution of a cell.\n\nHere is an example where we display all the candidates in all empty cells:\n\nimport { Image } from \"astro:assets\";\nimport pencilMarks from \"./pencil-marks.png\";\n\n\u003CImage src={pencilMarks} width={612} aspectRatio={1/1} alt=\"Pencil marks on a Sudoku\" />\n\n\nAt first glance, these candidates don't look very helpful, and indeed most people don't bother\nto enter candidates in a cell(square) when they are more than 3. But don't be fooled, candidates are\nextremely important in solving any non-trivial Sudoku.\n\nAt least from an algorithm view, solving a Sudoku means reducing the candidates over and over\nuntil there is one candidate left. _All the techniques_ presented below are based on candidates:\nhow many candidates are in a cell(square) and how candidates from a row/column/box influence candidates in\nother rows/columns/boxes.\n\nHow are the candidates determined? To find the candidates one has to check each cell’s row, column, and box to find the cells’ numbers: a number present on the cell‘s row/column/box cannot be the cell’s solution.\n\n> > Note that I use cell and square as the same thing, one of the board's 81 parts.\n\n```js\n/**\n * Returns the grid candidates\n * @param {*} grid Grid object, keys are cell names (A1, B2...)\n * and values are the cell numbers (0,1,..,9).\n * Empty cells have value 0 or '0'\n * @param {*} candidates Current candidates\n * @returns Candidates object, keys are cell names (A1, B2...),\n * values are cell candidates string (\"1235\", \"23\", etc)\n */\nexport function findCandidates(grid, candidates) {\n  const peers = {};\n  Object.keys(grid).forEach(sq => {\n    // find all squares that are not equal to sq\n    const peerSqs = units[sq].map(u => u.filter(s => s != sq)).flat();\n    peers[sq] = [...peerSqs];\n  });\n\n  // initially candidates are not available\n  if(!candidates) {\n    candidates = {};\n    squares.forEach(sq => { candidates[sq] = digits });\n  }\n\n  Object.keys(grid).forEach(sq => {\n    if(grid[sq] !== 0 && grid[sq] !== '0') {\n      candidates[sq] = '';\n      // remove value from peers\n      peers[sq].forEach(p => {\n        candidates[p] = candidates[p].replace(grid[sq], \"\");\n      })\n    }\n  })\n  return candidates;\n}\n```\n\nI've detailed in the [Sudoku Solver](/sudoku-solver) what data models I use. Please take a look there if you don’t understand what peers, units, and unitlists are.\n\n## Naked/Hidden singles\n\nWhen there is only one candidate in a cell, that candidate is the solution for the cell. We\ncall that candidate a \"naked single\". Others (I wonder who) call it \"lone ranger\".\n\nI've highlighted for your benefit one of the candidates:\n\nimport nakedSingleImg from \"./naked-single.png\";\n\n\u003CImage src={nakedSingleImg} width={612} aspectRatio={1/1} alt=\"Naked single on a Sudoku\" />\n\nThis is the ideal (easiest) case.\n\nBut there is another case, when the \"single\" candidate is hidden between\nother candidates, making it much harder to spot. Here are a bunch of hidden singles:\n\nimport nakedHiddenSingles from \"./naked-hidden-singles.png\";\n\n\u003CImage src={nakedHiddenSingles} width={612} aspectRatio={1/1}  alt=\"Naked/Hidden singles on a Sudoku\" />\n\n\nSpotting singles is the most important technique because they are the solution. You can add the\nsolution to a cell only when you're certain only a _single_ number can go in that cell.\n\n```js\n/**\n * Returns all singles on the board\n * @param {*} candidates Candidates object, keys are cell names (like A1, B2)\n * and values are strings with candidates like \"1239\"\n * @returns Object where keys are cell names and values are the single candidate\n */\nexport function findSingles(candidates){\n  const result = {};\n  unitlist.forEach(unit => {\n    const numberCounts = {1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0};\n    // combine all candidates for each square in unit in one big string (e.g 1234123617829563)\n    const unitCandidates = unit.reduce((all, sq) => candidates[sq].length > 0 ? all+candidates[sq]: all, '');\n    // count how many of each digit we have\n    [...unitCandidates].forEach(digit => numberCounts[digit]++);\n    // check if one digit is present only once\n    Object.keys(numberCounts).forEach(key => {\n      if(numberCounts[key] === 1){\n        const sq = unit.find(sq => candidates[sq].includes(`${key}`));\n        result[sq] = key;\n      }\n    })\n  })\n  // naked singles\n  for(let cn in candidates){\n     if(candidates[cn].length === 1) result[cn] = candidates[cn];\n  }\n  return result;\n}\n```\n\n## Naked/Hidden pairs\n\nWhen two numbers(candidates) are present only in the same two cells of a row/column/box, it means the two numbers can _only_ go\nin those two cells -- even if we don't know in which way yet.\n\n_Note: If a candidate must go in certain cells then the candidate cannot go in the rest of the row/column/box cells._\n\nThe important thing is that all the other cells from the pair's row/column/box cannot contain the candidates we've\nfixed in a pair of cells. Thus we can _reduce candidates_ from cells -- we remove the candidates from cells that\ncannot have them.\n\nThis is the purpose of all techniques discussed here -- except \"naked/hidden singles\" -- they _reduce candidates_. They reduce and reduce until there are singles - until we can fill empty cells with correct numbers.\n\nIn the following example we have a naked pair (8 and 9) and a hidden pair (2 and 4):\n\nimport nakedHiddenPairs from \"./naked-hidden-pairs.png\";\n\n\u003CImage src={nakedHiddenPairs} width={612} aspectRatio={1/1}  alt=\"Naked/Hidden pairs on a Sudoku\" />\n\n\n_Note: We label the rows from top to bottom A to I, and columns from left to right 1 to 9. So the first square of the boars, in the top left corner is A1, and the last, in the bottom right corner, is I9._\n\nAn explanation for the pair 8-9:\n\n- 8 and 9 can only go in cells B5 and B6 on row B (they cannot go on B1 and B7 because there is an 8 in the corresponding boxes)\n- All other candidates from the two cells can be removed. B5 and B6 can only take 8 or 9.\n\nAgain, please note that using this technique we can't fill empty cells -- we don't know in which cell will go the 8 or the 9),\nwhat we do is remove other candidates.\n\nThe explanation for 2-4:\n\n- 2 and 4 can only go in cells G9 and H9 on column 9 (there are 2s and 4s on columns 7 and 8, so 2 and 4 can go only on column 9)\n- All other candidates from the two cells can be removed. G9 and H9 can only take 2 or 4.\n\n```js\n/**\n * Returns all candidates that remove candidates and candidates to be removed\n * @param {*} candidates Candidates object, keys are cell names (like A1, B2)\n * and values are strings with candidates like \"1239\"\n * @returns {candidatesToHighlight, candidatesToRemove} candidatesToHighlight is\n * an object where keys are cell names and values are the single candidate,\n * candidatesToRemove is an object where keys are cell names and values are the candidate strings\n */\nexport function findPairs(candidates){\n  const result = {\n    candidatesToHighlight: {},\n    candidatesToRemove: {}\n  };\n  unitlist.forEach(unit => {\n    const numberCounts = {1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0};\n    // combine all candidates for each square in unit in one big string\n    const unitCandidates = unit.reduce((all, sq) => candidates[sq].length > 1 ? all+candidates[sq]: all, '');\n    // count how many of each digit we have\n    [...unitCandidates].forEach(digit => numberCounts[digit]++);\n\n    const doubleCandidates = [];\n    Object.keys(numberCounts).forEach(key => {\n      if(numberCounts[key] === 2){\n        doubleCandidates.push(key);\n      }\n    })\n    // if at least 2 digits are present twice\n    if(doubleCandidates.length === 2){\n      // grup candidates in pairs\n      const pairs = doubleCandidates.flatMap((val, index) => doubleCandidates.slice(index+1).map( w => [val,w] ));\n      pairs.forEach(pair => {\n        const squaresWithPairCandidates = unit.filter(sq => candidates[sq].includes(pair[0]) && candidates[sq].includes(pair[1]) );\n        if(squaresWithPairCandidates.length === 2) {\n          const candidatesToRemove = {};\n          const pairsToAdd = {};\n\n          const firstSquareUnits = units[squaresWithPairCandidates[0]];\n          const secondSquareUnits = units[squaresWithPairCandidates[1]];\n\n          // find the units(row/col/box) that contain both squaresWithPairCandidates\n          const intersection = firstSquareUnits.filter(unit => {\n            // need to transform the unit array to a string\n            return secondSquareUnits.map(u => u.join('')).includes(unit.join(''));\n          })\n\n          // remove the pair from all unit square's candidates\n          intersection.forEach(unit => {\n              unit.forEach(square => {\n                if(!squaresWithPairCandidates.includes(square)) {\n                    const toRemove = (candidates[square].includes(pair[0], '') ? pair[0] : '') +\n                                     (candidates[square].includes(pair[1], '') ? pair[1] : '')\n\n                    if(toRemove.length > 0) {\n                      candidatesToRemove[square] = toRemove;\n                    }\n                }\n              })\n          })\n\n          squaresWithPairCandidates.forEach(sq =>  {\n            pairsToAdd[sq] = pair.join('');\n            // the rest of square candidates must be removed\n            const toRemove = candidates[sq].replace(pair[0], '').replace(pair[1], '');\n            if(toRemove.length > 0) {\n              candidatesToRemove[sq] = toRemove;\n            }\n          });\n\n          // use the pair only if we can remove some candidates\n          if(Object.keys(candidatesToRemove).length !== 0) {\n            for(let p in pairsToAdd) {\n              if(!result.candidatesToHighlight[p]) result.candidatesToHighlight[p] ='';\n              result.candidatesToHighlight[p] = pairsToAdd[p];\n            }\n             for(let c in candidatesToRemove) {\n              if(!result.candidatesToRemove[c]) result.candidatesToRemove[c]='';\n              result.candidatesToRemove[c] = candidatesToRemove[c];\n            }\n          }\n        }\n      });\n    }\n  })\n  return result;\n}\n```\n\n## Naked/Hidden triples\n\nTriples (triple candidates) are also useful, even though it is a bit harder to see them.\nWe can extend the pairs technique to triples, but instead of the two squares that make the pair, we need to look for three squares that are present only in two or three squares from a row/column/box.\n\nThe idea is that if three candidates are present only in three squares, only those candidates\ncan be in those squares and cannot be in the row/column/box that contains the triple (if any).\n\nThe combinations of candidates for a triple are:\n\n- XYZ XYZ XYZ - all three candidates are present in three cells/squares.\n- XYZ XYZ XY - all three candidates are present in two cells and two out of three are present in the third cell.\n- XYZ XY YZ - all three candidates are present in a cell, and combinations of them are present in two cells.\n- XY YZ XZ - each combination of them is present in a different cell.\n\nJust as pairs, we can have naked or hidden triples. Let's see an example of a naked triple:\n\nimport nakedTriples from \"./naked-triples2.png\";\n\n\u003CImage src={nakedTriples} width={612} aspectRatio={1/1}  alt=\"Naked triples on a Sudoku\" />\n\nCandidates 3, 5, and 8 are present only in three cells in box 1. So we can safely remove the\n3s, 5s and 8s from the rest of the candidates from column 1. In this case, we have an XYZ XY YZ\ntype of combination.\n\nHere is another example with hidden triples. These are powerful because they also remove\nthe candidates from their own cells.\n\nimport hiddenTriples from \"./hidden-triples.png\";\n\n\u003CImage src={hiddenTriples} width={612} aspectRatio={1/1} alt=\"Hidden triples on a Sudoku\" />\n\n\nThis is the most complicated code, those combinations killed me.\n\n```js\nfunction combinations3(nrs) {\n  const result = [];\n  for(let i=0; i\u003Cnrs.length;i++) {\n      for(let j=i+1; j\u003Cnrs.length;j++) {\n          for(let k=j+1; k\u003Cnrs.length;k++) {\n              result.push( [ nrs[i], nrs[j], nrs[k] ]);\n          }\n      }\n  }\n  return result;\n}\n\n/**\n * Returns all candidates that remove candidates and candidates to be removed\n * @param {*} candidates Candidates object, keys are cell names (like A1, B2)\n * and values are strings with candidates like \"1239\"\n * @returns {candidatesToHighlight, candidatesToRemove} candidatesToHighlight is an\n * object where keys are cell names and values are the single candidate,\n * candidatesToRemove is an object where keys are cell names and values are the candidate strings\n */\nexport function findTriples(candidates){\n  const result = {\n    candidatesToHighlight: {},\n    candidatesToRemove: {}\n  };\n\n  unitlist.forEach(unit => {\n      const numberCounts = {1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0};\n      // combine all candidates for each square in unit in one big string\n      const unitCandidates = unit.reduce((all, sq) => candidates[sq].length > 1 ? all+candidates[sq]: all, '');\n      // count how many of each digit we have\n      [...unitCandidates].forEach(digit => numberCounts[digit]++);\n\n      const candidatesIn2or3Cells = [];\n      Object.keys(numberCounts).forEach(key => {\n        if(numberCounts[key] === 2 || numberCounts[key] === 3){\n          candidatesIn2or3Cells.push(key);\n        }\n      })\n      const triples = combinations3(candidatesIn2or3Cells);\n      triples.forEach(triple => {\n        // find squares that have the combinations\n        const sq1 =  unit.find(sq => (candidates[sq].includes(triple[0]) && candidates[sq].includes(triple[1])));\n        const sq2 =  unit.filter(sq => sq!== sq1).find(sq => (candidates[sq].includes(triple[0]) && candidates[sq].includes(triple[2])));\n        const sq3 =  unit.filter(sq => sq!== sq1 && sq!==sq2).find(sq => (candidates[sq].includes(triple[1]) && candidates[sq].includes(triple[2])));\n\n        const sqsWithAll = unit.filter(sq => candidates[sq].includes(triple[0]) || candidates[sq].includes(triple[1]) || candidates[sq].includes(triple[2]));\n        if(sqsWithAll.length === 3 && sq1 && sq2 && sq3) {\n          const candidatesToRemove = {};\n          const pairsToAdd = {};\n\n          sqsWithAll.forEach(sq => {\n            pairsToAdd[sq] = triple.join('');\n            const reducedCandidates = candidates[sq].replace(triple[0], '').replace(triple[1], '').replace(triple[2], '');\n            if(reducedCandidates && candidatesToRemove[sq] !== reducedCandidates) candidatesToRemove[sq] = reducedCandidates;\n          });\n\n          const firstSquareUnits = units[sqsWithAll[0]];\n          const secondSquareUnits = units[sqsWithAll[1]];\n          const thirdSquareUnits = units[sqsWithAll[2]];\n\n          // find the units(row/col/3x3 box) that contain all 3 squares\n          let intersection = firstSquareUnits.filter(unit => {\n            // need to transform the unit array to a string\n            return secondSquareUnits.map(u => u.join('')).includes(unit.join(''));\n          }).filter(unit => {\n            return thirdSquareUnits.map(u => u.join('')).includes(unit.join(''));\n          })\n\n          intersection.forEach(unit => {\n              unit.forEach(square => {\n                if(!sqsWithAll.includes(square) && candidates[square]) {\n                  const reducedCandidates = candidates[square].replace(triple[0], '').replace(triple[1], '').replace(triple[2], '');\n                  if(reducedCandidates !== candidates[square]) {\n                    if(!candidatesToRemove[square]) candidatesToRemove[square] =''\n                    candidatesToRemove[square] += triple.join('');\n                  }\n                }\n              })\n          })\n\n          // use the pair only if we can remove some candidates\n          if(Object.keys(candidatesToRemove).length !== 0) {\n            for(let p in pairsToAdd) {\n              if(!result.candidatesToHighlight[p]) result.candidatesToHighlight[p]=''\n              result.candidatesToHighlight[p] = pairsToAdd[p];\n            }\n            for(let c in candidatesToRemove) {\n              if(!result.candidatesToRemove[c]) result.candidatesToRemove[c]= ''\n              result.candidatesToRemove[c] += candidatesToRemove[c];\n            }\n          }\n        }\n      })\n  });\n\n  return result;\n}\n```\n\n## Pointing pairs\n\nWe look at each box. If there is a box candidate that is present only\ninside a row/column, we can safely remove that candidate from the rest of the row/column.\n\nIn this example, box 3 has candidate 9 only in column 7(in A7 and C7). This means that\n7 will go in either A7 or C7. But this also means there cannot be any 9s on the rest of  \nthe column 7, so we can remove the other 9s from the column:\n\nimport poitingPairs from \"./pointing-pairs.png\";\n\n\u003CImage src={poitingPairs} width={612} aspectRatio={1/1}  alt=\"Poiting pairs on a Sudoku\" />\n\n\nHere is the code.\n\n```js\n/**\n * Returns all candiates that remove candidates and candidates to be removed\n * @param {*} candidates Candidates object, keys are cell names (like A1, B2)\n * and values are strings with candidates like \"1239\"\n * @returns {candidatesToHighlight, candidatesToRemove} candidatesToHighlight is an\n * object where keys are cell names and values are the single candidate,\n * candidatesToRemove is an object where keys are cell names and values are the candidate strings\n */\nexport function findPoitingPairs(candidates){\n  const result = {\n    candidatesToHighlight: {},\n    candidatesToRemove: {}\n  };\n\n  // we're intersted only in boxes this time\n  const boxes = unitlist.filter((v, index) => index >= 18);\n  boxes.forEach(unit => {\n    const numberCounts = {1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0};\n    // combine all candidates for each square in unit in one big string\n    const unitCandidates = unit.reduce((all, sq) => candidates[sq].length > 1 ? all+candidates[sq]: all, '');\n    // count how many of each digit we have\n    [...unitCandidates].forEach(digit => numberCounts[digit]++);\n\n    const multipleCandidates = [];\n    Object.keys(numberCounts).forEach(key => {\n      if(numberCounts[key] === 2 || numberCounts[key] === 3){\n        multipleCandidates.push(key);\n      }\n    })\n\n    // check if all candidates are on same row or same column\n    multipleCandidates.forEach(candidate => {\n      const candidatesSquares = unit.filter(sq => candidates[sq].includes(candidate));\n      // all square name start with same letter A, B, C...\n      const sameRow = new Set(candidatesSquares.map(sq => sq[0])).size === 1;\n      if(sameRow) {\n        const row = units[candidatesSquares[0]][1];\n        const candidatesToRemove = row.filter(sq => !candidatesSquares.includes(sq)).filter(sq => candidates[sq].includes(candidate));\n        if(candidatesToRemove.length > 0) {\n          candidatesSquares.forEach(sq => {\n            if(!result.candidatesToHighlight[sq]) result.candidatesToHighlight[sq]= '';\n            result.candidatesToHighlight[sq] += candidate;\n          })\n          candidatesToRemove.forEach(sq => {\n            if(!result.candidatesToRemove[sq]) result.candidatesToRemove[sq] ='';\n            result.candidatesToRemove[sq] += candidate;\n          })\n        }\n      }\n      else {\n        // all square name start with same digit 1, 2, 3...\n        const sameCol = new Set(candidatesSquares.map(sq => sq[1])).size === 1;\n        if(sameCol) {\n          const col = units[candidatesSquares[0]][0];\n          const candidatesToRemove = col.filter(sq => !candidatesSquares.includes(sq)).filter(sq => candidates[sq].includes(candidate));\n          if(candidatesToRemove.length > 0) {\n            candidatesSquares.forEach(sq => {\n              if(!result.candidatesToHighlight[sq]) result.candidatesToHighlight[sq]= '';\n              result.candidatesToHighlight[sq] += candidate;\n            })\n            candidatesToRemove.forEach(sq => {\n              if(!result.candidatesToRemove[sq]) result.candidatesToRemove[sq] ='';\n              result.candidatesToRemove[sq] += candidate;\n            })\n          }\n        }\n      }\n    })\n  });\n\n  return result;\n}\n```\n\n## Box/Line reduction\n\nThis is very similar to pointing pairs, but instead of looking at boxes are removing candidates\nfrom rows/columns, we look at lines(rows/columns) are remove candidates from boxes.\n\nIn column 2, candidate 2 is present only in box 1 (A2 and B2). Thus the box needs to contain\na 2 in one of those cells and it cannot have 2 in the rest of the cells.\n\nimport boxLineReduction from \"./box-line-reduction.png\";\n\n\u003CImage src={boxLineReduction} width={612} aspectRatio={1/1} alt=\"Box/line reduction on a Sudoku\" />\n\n\nHere it is, in all its glory.\n\n```js\n/**\n * Returns all candidates that remove candidates and candidates to be removed\n * @param {*} candidates Candidates object, keys are cell names (like A1, B2)\n * and values are strings with candidates like \"1239\"\n * @returns {candidatesToHighlight, candidatesToRemove} candidatesToHighlight is an\n * object where keys are cell names and values are the single candidate,\n * candidatesToRemove is an object where keys are cell names and values are the candidate strings\n */\nexport function findBoxLinePairs(candidates){\n  const result = {\n    candidatesToHighlight: {},\n    candidatesToRemove: {}\n  };\n\n  // we're intersted only in rows/colums this time\n  const rowAndCols = unitlist.filter((v, index) => index \u003C 18);\n\n  rowAndCols.forEach((unit, index) => {\n    const numberCounts = {1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0};\n    // combine all candidates for each square in unit in one big string\n    const unitCandidates = unit.reduce((all, sq) => candidates[sq].length > 1 ? all+candidates[sq]: all, '');\n    // count how many of each digit we have\n    [...unitCandidates].forEach(digit => numberCounts[digit]++);\n\n    const multipleCandidates = [];\n    Object.keys(numberCounts).forEach(key => {\n      if(numberCounts[key] === 2 || numberCounts[key] === 3){\n        multipleCandidates.push(key);\n      }\n    })\n    // check if all candidates are on same row or same column\n    multipleCandidates.forEach(candidate => {\n      const candidatesSquares = unit.filter(sq => candidates[sq].includes(candidate));\n      // get one square box, for example the first square box\n      const boxSquares =  units[candidatesSquares[0]][2];\n      const sameBox = candidatesSquares.reduce((all, current) => all && boxSquares.includes(current), true);\n      if(sameBox) {\n          const candidatesToRemove = boxSquares.filter(sq => !candidatesSquares.includes(sq) && candidates[sq].includes(candidate));\n          if(candidatesToRemove.length > 0) {\n            candidatesSquares.forEach(sq => {\n              if(!result.candidatesToHighlight[sq]) result.candidatesToHighlight[sq]='';\n              result.candidatesToHighlight[sq] = candidate;\n            })\n            candidatesToRemove.forEach(sq => {\n              if(!result.candidatesToRemove[sq]) result.candidatesToRemove[sq] ='';\n              result.candidatesToRemove[sq] += candidate;\n            })\n          }\n      }\n\n\n\n      // all square name start with same letter A, B, C...\n      const sameRow = new Set(candidatesSquares.map(sq => sq[0])).size === 1;\n      if(sameRow) {\n        const row = units[candidatesSquares[0]][1];\n        const candidatesToRemove = row.filter(sq => !candidatesSquares.includes(sq)).filter(sq => candidates[sq].includes(candidate));\n        if(candidatesToRemove.length > 0) {\n          candidatesSquares.forEach(sq => {\n            if(!result.candidatesToHighlight[sq]) result.candidatesToHighlight[sq]= '';\n            result.candidatesToHighlight[sq] += candidate;\n          })\n          candidatesToRemove.forEach(sq => {\n            if(!result.candidatesToRemove[sq]) result.candidatesToRemove[sq] ='';\n            result.candidatesToRemove[sq] += candidate;\n          })\n        }\n      }\n      else {\n        // all square name start with same digit 1, 2, 3...\n        const sameCol = new Set(candidatesSquares.map(sq => sq[1])).size === 1;\n        if(sameCol) {\n          const col = units[candidatesSquares[0]][0];\n          const candidatesToRemove = col.filter(sq => !candidatesSquares.includes(sq)).filter(sq => candidates[sq].includes(candidate));\n          if(candidatesToRemove.length > 0) {\n            candidatesSquares.forEach(sq => {\n              if(!result.candidatesToHighlight[sq]) result.candidatesToHighlight[sq]= '';\n              result.candidatesToHighlight[sq] += candidate;\n            })\n            candidatesToRemove.forEach(sq => {\n              if(!result.candidatesToRemove[sq]) result.candidatesToRemove[sq] ='';\n              result.candidatesToRemove[sq] += candidate;\n            })\n          }\n        }\n      }\n    })\n\n  });\n\n  return result;\n}\n```\n\nThat's the last one, finally.\n\n## Putting them all together\n\nTo solve the puzzle, the techniques must be called in a specific order:\n\n- First, we always need to check if there are singles because they are the solving progress\n- Next, we use techniques based on algorithm difficulty. This is a bit controversial, as I think\n  the triples is the most complex one, at least in my implementation.\n- If a technique yields results, we remove those candidates and restart from checking singles,\n  yes using a recursive function (one of those things I was supposed to use only in school)\n\n```js\nfunction isGridSolved(grid) {\n    return Object.keys(grid).reduce((result, sq) => result && grid[sq]!= 0, true);\n}\n\nfunction solveGrid(grd, cndts){\n    let found = true;\n    while(found) {\n        const hiddenSingles = findSingles(cndts);\n        const hiddenSinglesKeys = Object.keys(hiddenSingles);\n        if(hiddenSinglesKeys.length > 0) {\n            Object.keys(hiddenSingles).forEach(sq => {\n                grd[sq] = hiddenSingles[sq];\n            })\n            cndts = findCandidates(grd, cndts);\n        } else{\n            found = false;\n        }\n    }\n\n    const solved = isGridSolved(grd);\n    if(solved) {\n        return true;\n    }\n\n    let result = findPairs(cndts);\n    if(Object.keys(result.candidatesToRemove).length > 0) {\n        removeCandidates(cndts, result.candidatesToRemove);\n        return solveGrid(grd, cndts);\n    }\n\n    result = findTriples(cndts);\n    if(Object.keys(result.candidatesToRemove).length > 0) {\n        removeCandidates(cndts, result.candidatesToRemove);\n        return solveGrid(grd, cndts);\n    }\n\n    result = findPoitingPairs(cndts);\n    if(Object.keys(result.candidatesToRemove).length > 0) {\n        removeCandidates(cndts, result.candidatesToRemove);\n        return solveGrid(grd, cndts);\n    }\n\n    result = findBoxLinePairs(cndts);\n    if(Object.keys(result.candidatesToRemove).length > 0) {\n        removeCandidates(cndts, result.candidatesToRemove);\n        return solveGrid(grd, cndts);\n    }\n\n    return isGridSolved(grd);\n}\n```\n\nThe Sudoku generator then works like this:\n\n```js\nfunction generate() {\n\n    // start from empty\n    let grid = emptyGrid();\n    iterator = null;\n\n    function cross(A, B){\n        return A.map(a => B.map(b => a+b)).flat();\n    }\n\n    // fill first, middle and last boxes\n    const boxRows = [['A','B','C'], ['D','E','F'], ['G','H','I']];\n    const boxCols = [['1','2','3'], ['4','5','6'], ['7','8','9']];\n    for(let i=0;i\u003C3;i++) {\n        const sqs = cross(boxRows[i],boxCols[i]);\n        const sorted = [1,2,3,4,5,6,7,8,9].sort((a, b) => 0.5 - Math.random());\n        sqs.forEach(sq => {\n            grid[sq] = sorted.pop();\n        })\n    }\n\n    // solve the grid\n    grid = solve(toLine(grid));\n\n    // remove cells as many as possible\n    const emptySquares = [];\n    let tries = 0;\n    let count = 1;\n    let currentGrid = {...grid};\n    const LIMIT = 60;\n    while(emptySquares.length \u003C LIMIT && tries \u003C 200)  {\n        tries++;\n        if(emptySquares.length >= LIMIT) {\n            tries = 200;\n            break;\n        }\n\n        // pick a random cell and try to remove it\n        let row = Math.floor(Math.random() * (9 - 1 + 1) + 1);\n        let col = Math.floor(Math.random() * (9 - 1 + 1) + 1);\n        let position = rows[row-1]+cols[col-1];\n        if(!emptySquares.includes(position)) {\n            let gridToTry = {...currentGrid};\n            gridToTry[position] = \"0\";\n            const cnds = findCandidates(gridToTry);\n\n            // try to solve the grid without the removed cell\n            if(solveGrid({...gridToTry}, cnds)){\n                emptySquares.push(position);\n                currentGrid = {...gridToTry};\n            }\n        }\n    }\n\n    return grid;\n});\n\n```\n\nAgain, if you want to see it in action, I'm very proud of it :)\n[Easy Sudoku solving techniques](https://solving-sudoku.netlify.app/easy)\n\nOf course, I need to write unit tests for each function (which as you can see is as pure as it gets,\nso it will be easy to test). And then refactor and refine the code because it has a lot of duplications.\n\nAfter that we'll try to implement the _medium_ sudoku techniques:\n\n- X-Wing\n- Simple Colouring\n- Y-Wing\n- Swordfish\n- XYZ Wing\n- BUG\n\n## Resources\n\n- [SudokuWiki](https://www.sudokuwiki.org/sudoku.htm)\n- [Cracking the Cryptic](https://www.youtube.com/c/CrackingTheCryptic)\n- [NYTimes Sudoku](https://www.nytimes.com/puzzles/sudoku/easy)\n- [Telegraph Sudoku](https://www.telegraph.co.uk/puzzles/puzzles/sudoku/)","src/content/easy-sudoku-techniques/index.mdx","3f3de78dbd8ce332","eleventy-part-five",["Map",7,185],{"id":7,"data":186,"body":196,"filePath":197,"digest":198,"rendered":199,"legacyId":64},{"title":187,"pubDate":188,"description":189,"keywords":190,"twitterImage":193,"minutesRead":194,"excerpt":195},"Let's Learn Eleventy (11ty) - How to make a JavaScript bundle",["Date","2021-04-25T00:00:00.000Z"],"In the fifth part of the Let't Learn Eleventy series, we'll learn how handle JavaScript",[191,192],"Eleventy","11ty","https://www.raresportan.com/twitter-cards/let's-learn-eleventy-11ty---how-to-make-a-javascript-bundle.png","6 min read","“Let’s Learn Eleventy” series continues with something hard to find in the official documentation or various Eleventy tutorials:\nHow to bund","\"Let's Learn Eleventy\" series continues with something hard to find in the official documentation or various Eleventy tutorials:\nHow to bundle runtime JavaScript.\n\nInterestingly, Eleventy has **strong support** for JavaScript at **build time**: templates, plugins, filters, shortcodes, data loaders, and so on.\nBut all that JavaScript is used to create the website and is not present at **runtime**, is not present in the browser.\n\nI think there are two good reasons why Eleventy doesn't provide great support for runtime JavaScript:\n\n- Sites with a lot of JavaScript are slow and Eleventy doesn't want to encourage this.\n- JavaScript code can't be used as it is. It must be transpiled and minified. For this, we usually use a tool like Webpack, Gulp, or Rollup.\n\nSo far in this series we've seen:\n\n- [Eleventy basics](/eleventy-part-one)\n- [Eleventy collections](/eleventy-part-two)\n- [What are slots, includes, and shortcodes, or how to create components](/eleventy-part-three)\n- [How to use images](/eleventy-part-four)\n\nAnd now we'll see how to bundle runtime JavaScript.\n\n## Passthrough\n\nAssuming you have the JavaScript ready to be used (transpiled, minified, etc), you can tell Eleventy to copy the JavaScript files\nin the build. Let's say we keep all our JavaScript files inside `src/assets/scripts`. Then we add the following in the `.eleventy.js`:\n\n```js\nmodule.exports = config => {\n  ...\n  // Copy JavaScript files\n  config.addPassthroughCopy('./src/assets/scripts/');\n  ...\n};\n```\n\nThat's it. You can use them in HTML like this:\n\n```html\n\u003Cscript src=\"{{ '/assets/scripts/main.js' | url }}\" defer>\u003C/script>\n```\n\n## Inline script content\n\nInlining script content can be useful to limit the network calls and to load some of the JavaScript earlier.\n\nIf you put your scripts under the `_includes` folder, you can get the script content and put it inside a `script`.\n\nFor example, let's assume we have a `main.js` with the following content:\n\n```\nconsole.log('main.js source');\n```\n\nAnd we put it inside \\_includes:\n\n```\nsrc/\n  _includes/\n    main.js\n```\n\nWe can use main.js like this inside a \".njk\" file:\n\n```html\n{% set js %} {% include \"main.js\" %} {% endset %}\n\u003Cscript>\n  {\n    {\n      js | safe;\n    }\n  }\n\u003C/script>\n```\n\nThe content of the script will be inlined and will look like this:\n\n```html\n\u003Cscript>\n  console.log(\"main.js source\");\n\u003C/script>\n```\n\n### Minification\n\nWe can go further and create a filter the minimize the script content.\nFirst, we need to install a minifier, like `terser`:\n\n```\nnpm install terser\n```\n\nThen, create the filter in `./src/filters.js`:\n\n```js\nconst { minify } = require(\"terser\");\n\nmodule.exports = {\n  jsmin: async function (code, callback) {\n    try {\n      const minified = await minify(code);\n      callback(null, minified.code);\n    } catch (err) {\n      console.error(\"Minify error: \", err);\n      callback(null, code);\n    }\n  },\n};\n```\n\nAdd the filters to the `.eleventy.js` configuration file:\n\n```js\nconst filters = require('./src/filters.js');\n\nmodule.exports = config => {\n  ...\n  // Copy async filter\n  config.addNunjucksAsyncFilter('jsmin', filters.jsmin);\n  ...\n};\n```\n\nThe finally we can use it:\n\n```html\n{% set js %} {% include \"main.js\" %} {% endset %}\n\u003Cscript>\n  {\n    {\n      js | jsmin | safe;\n    }\n  }\n\u003C/script>\n```\n\n## Webpack pipeline\n\nIf all the above options are not sufficient, we can create a Webpack pipeline that will do the transpiling and minification.\nNote that this option is complex and **is not documented anywhere**, but I've seen it used on some Eleventy starters.\n\nThere are several versions of this integration between [Eleventy and Webpack](https://www.codecookbook.dev/asset-bundling-eleventy-webpack-tailwind/), but the one I'm presenting here is in my opinion the nicest\nand cleanest because the Webpack code is in one file only and we don't need to mess with Webpack from the command line. We only need to\nstart Eleventy and that will take care of Webpack too.\n\nWe need to install a bunch of packages:\n\n```\nnpm install --save-dev webpack\nnpm install --save-dev memfs\nnpm install --save-dev babel-loader @babel/core @babel/plugin-transform-runtime @babel/preset-env\n```\n\nThis pipeline will use Webpack and Babel to transpile our code and will keep the JavaScript files in memory while the build is running.\nWhen the JavaScript files are used inside HTML, the files will be copied to the build folder.\n\nThis technique uses Eleventy's JavaScript template, files with `11ty.js` extension. These templates must provide a `render` method that\nis used by Eleventy to get the template's content.\n\nWe need to create a `scripts.11ty.js` file that used webpack to transpile and minify our JavaScript.\nSee [Max Böck's Eleventastic starter](https://github.com/maxboeck/eleventastic/blob/master/src/assets/scripts/__scripts.11ty.js) and\n[Mike Riethmuller's Supermaya starter](https://github.com/MadeByMike/supermaya/blob/master/site/utils/compile-webpack.js)\n\n```js\n// This file handles the JS build.\n// It will run webpack with babel over all JS defined in the main entry file.\n\n// main entry point name\nconst ENTRY_FILE_NAME = \"main.js\";\n\nconst fs = require(\"fs\");\nconst path = require(\"path\");\nconst webpack = require(\"webpack\");\nconst { fs: mfs } = require(\"memfs\");\n\nconst isProd = process.env.ELEVENTY_ENV === \"production\";\n\nmodule.exports = class {\n  // Configure Webpack in Here\n  async data() {\n    const entryPath = path.join(__dirname, `/${ENTRY_FILE_NAME}`);\n    const outputPath = path.resolve(__dirname, \"../../memory-fs/js/\");\n\n    // Transform .js files, run through Babel\n    const rules = [\n      {\n        test: /\\.m?js$/,\n        exclude: /(node_modules|bower_components)/,\n        use: {\n          loader: \"babel-loader\",\n          options: {\n            presets: [\"@babel/preset-env\"],\n            plugins: [\"@babel/plugin-transform-runtime\"],\n          },\n        },\n      },\n    ];\n\n    // pass environment down to scripts\n    const envPlugin = new webpack.EnvironmentPlugin({\n      ELEVENTY_ENV: process.env.ELEVENTY_ENV,\n    });\n\n    // Main Config\n    const webpackConfig = {\n      mode: isProd ? \"production\" : \"development\",\n      entry: entryPath,\n      output: { path: outputPath },\n      module: { rules },\n      plugins: [envPlugin],\n    };\n\n    return {\n      permalink: `/assets/scripts/${ENTRY_FILE_NAME}`,\n      eleventyExcludeFromCollections: true,\n      webpackConfig,\n    };\n  }\n\n  // Compile JS with Webpack, write the result to Memory Filesystem.\n  // this brilliant idea is taken from Mike Riethmuller / Supermaya\n  // @see https://github.com/MadeByMike/supermaya/blob/master/site/utils/compile-webpack.js\n  compile(webpackConfig) {\n    const compiler = webpack(webpackConfig);\n    compiler.outputFileSystem = mfs;\n    compiler.inputFileSystem = fs;\n    compiler.intermediateFileSystem = mfs;\n\n    return new Promise((resolve, reject) => {\n      compiler.run((err, stats) => {\n        if (err || stats.hasErrors()) {\n          const errors =\n            err || (stats.compilation ? stats.compilation.errors : null);\n\n          reject(errors);\n          return;\n        }\n\n        mfs.readFile(\n          webpackConfig.output.path + \"/\" + ENTRY_FILE_NAME,\n          \"utf8\",\n          (err, data) => {\n            if (err) reject(err);\n            else resolve(data);\n          }\n        );\n      });\n    });\n  }\n\n  // render the JS file\n  async render({ webpackConfig }) {\n    try {\n      const result = await this.compile(webpackConfig);\n      return result;\n    } catch (err) {\n      console.log(err);\n      return null;\n    }\n  }\n};\n```\n\nWe don't need to understand all the details, the only thing we need to know is that this file is looking for a `main.js` file in the same folder,\nso we should have a `main.js` that can import other scripts if necessary.\n\nSo for example if we have several JavaScript files, we need to import them all in main.js:\n\n```js\nimport 'eleventy-plugin-share-highlight/share-highlight'\n...\n\nimport './navigation'\nimport './lazyload'\n...\n\n```\n\nAs you can see, we import both packages like 'eleventy-plugin-share-highlight/share-highlight' and our code from 'navigation' and 'lazyload'.\nNow, all we have to do is to use `main.js`(src/assets/scripts/main.js) in a template:\n\n```html\n\u003Cscript\n  type=\"text/javascript\"\n  src=\"{{ '/assets/scripts/main.js' | url }}\"\n>\u003C/script>\n```\n\nIf you need to bundle your JavaScript in several files please check [Max Böck's personal site](https://github.com/maxboeck/mxb/blob/57c0abd216ba0d93dfc5f7e6cfe74c1f9d1c69d6/src/tasks/scripts.11ty.js)\nwhere instead of `ENTRY_FILE_NAME` he is working with `ENTRY_POINTS`.\n\n## Resources\n\n- [Eleventy docs](https://www.11ty.dev/docs/quicktips/inline-js/)\n- [Max Böck's Eleventastic starter](https://github.com/maxboeck/eleventastic/blob/master/src/assets/scripts/__scripts.11ty.js)\n- [Mike Riethmuller's Supermaya starter](https://github.com/MadeByMike/supermaya/blob/master/site/utils/compile-webpack.js)\n- [Asset Bundling Workflow for Eleventy with Webpack](https://www.codecookbook.dev/asset-bundling-eleventy-webpack-tailwind/)\n- [Eleventy Official Asset Pipeline Issue](https://github.com/11ty/eleventy/issues/272)","src/content/eleventy-part-five/index.md","63985f570a88adc8",{"html":200,"metadata":201},"\u003Cp>“Let’s Learn Eleventy” series continues with something hard to find in the official documentation or various Eleventy tutorials:\nHow to bundle runtime JavaScript.\u003C/p>\n\u003Cp>Interestingly, Eleventy has \u003Cstrong>strong support\u003C/strong> for JavaScript at \u003Cstrong>build time\u003C/strong>: templates, plugins, filters, shortcodes, data loaders, and so on.\nBut all that JavaScript is used to create the website and is not present at \u003Cstrong>runtime\u003C/strong>, is not present in the browser.\u003C/p>\n\u003Cp>I think there are two good reasons why Eleventy doesn’t provide great support for runtime JavaScript:\u003C/p>\n\u003Cul>\n\u003Cli>Sites with a lot of JavaScript are slow and Eleventy doesn’t want to encourage this.\u003C/li>\n\u003Cli>JavaScript code can’t be used as it is. It must be transpiled and minified. For this, we usually use a tool like Webpack, Gulp, or Rollup.\u003C/li>\n\u003C/ul>\n\u003Cp>So far in this series we’ve seen:\u003C/p>\n\u003Cul>\n\u003Cli>\u003Ca href=\"/eleventy-part-one\">Eleventy basics\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"/eleventy-part-two\">Eleventy collections\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"/eleventy-part-three\">What are slots, includes, and shortcodes, or how to create components\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"/eleventy-part-four\">How to use images\u003C/a>\u003C/li>\n\u003C/ul>\n\u003Cp>And now we’ll see how to bundle runtime JavaScript.\u003C/p>\n\u003Ch2 id=\"passthrough\">Passthrough\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#passthrough\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>Assuming you have the JavaScript ready to be used (transpiled, minified, etc), you can tell Eleventy to copy the JavaScript files\nin the build. Let’s say we keep all our JavaScript files inside \u003Ccode>src/assets/scripts\u003C/code>. Then we add the following in the \u003Ccode>.eleventy.js\u003C/code>:\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">module\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function-variable function\">exports\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token parameter\">config\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n  \u003Cspan class=\"token operator\">...\u003C/span>\n  \u003Cspan class=\"token comment\">// Copy JavaScript files\u003C/span>\n  config\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">addPassthroughCopy\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">'./src/assets/scripts/'\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n  \u003Cspan class=\"token operator\">...\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>That’s it. You can use them in HTML like this:\u003C/p>\n\u003Cpre class=\"language-html\" data-language=\"html\">\u003Ccode is:raw=\"\" class=\"language-html\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>script\u003C/span> \u003Cspan class=\"token attr-name\">src\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>{{ '/assets/scripts/main.js' | url }}\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token attr-name\">defer\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\u003Cspan class=\"token script\">\u003C/span>\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>script\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Ch2 id=\"inline-script-content\">Inline script content\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#inline-script-content\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>Inlining script content can be useful to limit the network calls and to load some of the JavaScript earlier.\u003C/p>\n\u003Cp>If you put your scripts under the \u003Ccode>_includes\u003C/code> folder, you can get the script content and put it inside a \u003Ccode>script\u003C/code>.\u003C/p>\n\u003Cp>For example, let’s assume we have a \u003Ccode>main.js\u003C/code> with the following content:\u003C/p>\n\u003Cpre class=\"language-plaintext\" data-language=\"plaintext\">\u003Ccode is:raw=\"\" class=\"language-plaintext\">console.log('main.js source');\n\u003C/code>\u003C/pre>\n\u003Cp>And we put it inside _includes:\u003C/p>\n\u003Cpre class=\"language-plaintext\" data-language=\"plaintext\">\u003Ccode is:raw=\"\" class=\"language-plaintext\">src/\n  _includes/\n    main.js\n\u003C/code>\u003C/pre>\n\u003Cp>We can use main.js like this inside a “.njk” file:\u003C/p>\n\u003Cpre class=\"language-html\" data-language=\"html\">\u003Ccode is:raw=\"\" class=\"language-html\">{% set js %} {% include \"main.js\" %} {% endset %}\n\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>script\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\u003Cspan class=\"token script\">\u003Cspan class=\"token language-javascript\">\n  \u003Cspan class=\"token punctuation\">{\u003C/span>\n    \u003Cspan class=\"token punctuation\">{\u003C/span>\n      js \u003Cspan class=\"token operator\">|\u003C/span> safe\u003Cspan class=\"token punctuation\">;\u003C/span>\n    \u003Cspan class=\"token punctuation\">}\u003C/span>\n  \u003Cspan class=\"token punctuation\">}\u003C/span>\n\u003C/span>\u003C/span>\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>script\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>The content of the script will be inlined and will look like this:\u003C/p>\n\u003Cpre class=\"language-html\" data-language=\"html\">\u003Ccode is:raw=\"\" class=\"language-html\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>script\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\u003Cspan class=\"token script\">\u003Cspan class=\"token language-javascript\">\n  console\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">log\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"main.js source\"\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003C/span>\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>script\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Ch3 id=\"minification\">Minification\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#minification\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cp>We can go further and create a filter the minimize the script content.\nFirst, we need to install a minifier, like \u003Ccode>terser\u003C/code>:\u003C/p>\n\u003Cpre class=\"language-plaintext\" data-language=\"plaintext\">\u003Ccode is:raw=\"\" class=\"language-plaintext\">npm install terser\n\u003C/code>\u003C/pre>\n\u003Cp>Then, create the filter in \u003Ccode>./src/filters.js\u003C/code>:\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token keyword\">const\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span> minify \u003Cspan class=\"token punctuation\">}\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token function\">require\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"terser\"\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\nmodule\u003Cspan class=\"token punctuation\">.\u003C/span>exports \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n  \u003Cspan class=\"token function-variable function\">jsmin\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token keyword\">async\u003C/span> \u003Cspan class=\"token keyword\">function\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">code\u003Cspan class=\"token punctuation\">,\u003C/span> callback\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n    \u003Cspan class=\"token keyword\">try\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n      \u003Cspan class=\"token keyword\">const\u003C/span> minified \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token keyword\">await\u003C/span> \u003Cspan class=\"token function\">minify\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>code\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n      \u003Cspan class=\"token function\">callback\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token keyword\">null\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> minified\u003Cspan class=\"token punctuation\">.\u003C/span>code\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n    \u003Cspan class=\"token punctuation\">}\u003C/span> \u003Cspan class=\"token keyword\">catch\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>err\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n      console\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">error\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"Minify error: \"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> err\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n      \u003Cspan class=\"token function\">callback\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token keyword\">null\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> code\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n    \u003Cspan class=\"token punctuation\">}\u003C/span>\n  \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>Add the filters to the \u003Ccode>.eleventy.js\u003C/code> configuration file:\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token keyword\">const\u003C/span> filters \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token function\">require\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">'./src/filters.js'\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\nmodule\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function-variable function\">exports\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token parameter\">config\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n  \u003Cspan class=\"token operator\">...\u003C/span>\n  \u003Cspan class=\"token comment\">// Copy async filter\u003C/span>\n  config\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">addNunjucksAsyncFilter\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">'jsmin'\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> filters\u003Cspan class=\"token punctuation\">.\u003C/span>jsmin\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n  \u003Cspan class=\"token operator\">...\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>The finally we can use it:\u003C/p>\n\u003Cpre class=\"language-html\" data-language=\"html\">\u003Ccode is:raw=\"\" class=\"language-html\">{% set js %} {% include \"main.js\" %} {% endset %}\n\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>script\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\u003Cspan class=\"token script\">\u003Cspan class=\"token language-javascript\">\n  \u003Cspan class=\"token punctuation\">{\u003C/span>\n    \u003Cspan class=\"token punctuation\">{\u003C/span>\n      js \u003Cspan class=\"token operator\">|\u003C/span> jsmin \u003Cspan class=\"token operator\">|\u003C/span> safe\u003Cspan class=\"token punctuation\">;\u003C/span>\n    \u003Cspan class=\"token punctuation\">}\u003C/span>\n  \u003Cspan class=\"token punctuation\">}\u003C/span>\n\u003C/span>\u003C/span>\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>script\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Ch2 id=\"webpack-pipeline\">Webpack pipeline\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#webpack-pipeline\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>If all the above options are not sufficient, we can create a Webpack pipeline that will do the transpiling and minification.\nNote that this option is complex and \u003Cstrong>is not documented anywhere\u003C/strong>, but I’ve seen it used on some Eleventy starters.\u003C/p>\n\u003Cp>There are several versions of this integration between \u003Ca href=\"https://www.codecookbook.dev/asset-bundling-eleventy-webpack-tailwind/\">Eleventy and Webpack\u003C/a>, but the one I’m presenting here is in my opinion the nicest\nand cleanest because the Webpack code is in one file only and we don’t need to mess with Webpack from the command line. We only need to\nstart Eleventy and that will take care of Webpack too.\u003C/p>\n\u003Cp>We need to install a bunch of packages:\u003C/p>\n\u003Cpre class=\"language-plaintext\" data-language=\"plaintext\">\u003Ccode is:raw=\"\" class=\"language-plaintext\">npm install --save-dev webpack\nnpm install --save-dev memfs\nnpm install --save-dev babel-loader @babel/core @babel/plugin-transform-runtime @babel/preset-env\n\u003C/code>\u003C/pre>\n\u003Cp>This pipeline will use Webpack and Babel to transpile our code and will keep the JavaScript files in memory while the build is running.\nWhen the JavaScript files are used inside HTML, the files will be copied to the build folder.\u003C/p>\n\u003Cp>This technique uses Eleventy’s JavaScript template, files with \u003Ccode>11ty.js\u003C/code> extension. These templates must provide a \u003Ccode>render\u003C/code> method that\nis used by Eleventy to get the template’s content.\u003C/p>\n\u003Cp>We need to create a \u003Ccode>scripts.11ty.js\u003C/code> file that used webpack to transpile and minify our JavaScript.\nSee \u003Ca href=\"https://github.com/maxboeck/eleventastic/blob/master/src/assets/scripts/__scripts.11ty.js\">Max Böck’s Eleventastic starter\u003C/a> and\n\u003Ca href=\"https://github.com/MadeByMike/supermaya/blob/master/site/utils/compile-webpack.js\">Mike Riethmuller’s Supermaya starter\u003C/a>\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token comment\">// This file handles the JS build.\u003C/span>\n\u003Cspan class=\"token comment\">// It will run webpack with babel over all JS defined in the main entry file.\u003C/span>\n\n\u003Cspan class=\"token comment\">// main entry point name\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> \u003Cspan class=\"token constant\">ENTRY_FILE_NAME\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token string\">\"main.js\"\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token keyword\">const\u003C/span> fs \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token function\">require\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"fs\"\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> path \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token function\">require\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"path\"\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> webpack \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token function\">require\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"webpack\"\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span> \u003Cspan class=\"token literal-property property\">fs\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> mfs \u003Cspan class=\"token punctuation\">}\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token function\">require\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"memfs\"\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token keyword\">const\u003C/span> isProd \u003Cspan class=\"token operator\">=\u003C/span> process\u003Cspan class=\"token punctuation\">.\u003C/span>env\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token constant\">ELEVENTY_ENV\u003C/span> \u003Cspan class=\"token operator\">===\u003C/span> \u003Cspan class=\"token string\">\"production\"\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\nmodule\u003Cspan class=\"token punctuation\">.\u003C/span>exports \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token keyword\">class\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n  \u003Cspan class=\"token comment\">// Configure Webpack in Here\u003C/span>\n  \u003Cspan class=\"token keyword\">async\u003C/span> \u003Cspan class=\"token function\">data\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n    \u003Cspan class=\"token keyword\">const\u003C/span> entryPath \u003Cspan class=\"token operator\">=\u003C/span> path\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">join\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>__dirname\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token template-string\">\u003Cspan class=\"token template-punctuation string\">`\u003C/span>\u003Cspan class=\"token string\">/\u003C/span>\u003Cspan class=\"token interpolation\">\u003Cspan class=\"token interpolation-punctuation punctuation\">${\u003C/span>\u003Cspan class=\"token constant\">ENTRY_FILE_NAME\u003C/span>\u003Cspan class=\"token interpolation-punctuation punctuation\">}\u003C/span>\u003C/span>\u003Cspan class=\"token template-punctuation string\">`\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n    \u003Cspan class=\"token keyword\">const\u003C/span> outputPath \u003Cspan class=\"token operator\">=\u003C/span> path\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">resolve\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>__dirname\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token string\">\"../../memory-fs/js/\"\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n    \u003Cspan class=\"token comment\">// Transform .js files, run through Babel\u003C/span>\n    \u003Cspan class=\"token keyword\">const\u003C/span> rules \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>\n      \u003Cspan class=\"token punctuation\">{\u003C/span>\n        \u003Cspan class=\"token literal-property property\">test\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token regex\">\u003Cspan class=\"token regex-delimiter\">/\u003C/span>\u003Cspan class=\"token regex-source language-regex\">\\.m?js$\u003C/span>\u003Cspan class=\"token regex-delimiter\">/\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n        \u003Cspan class=\"token literal-property property\">exclude\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token regex\">\u003Cspan class=\"token regex-delimiter\">/\u003C/span>\u003Cspan class=\"token regex-source language-regex\">(node_modules|bower_components)\u003C/span>\u003Cspan class=\"token regex-delimiter\">/\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n        \u003Cspan class=\"token literal-property property\">use\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n          \u003Cspan class=\"token literal-property property\">loader\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token string\">\"babel-loader\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n          \u003Cspan class=\"token literal-property property\">options\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n            \u003Cspan class=\"token literal-property property\">presets\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>\u003Cspan class=\"token string\">\"@babel/preset-env\"\u003C/span>\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n            \u003Cspan class=\"token literal-property property\">plugins\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>\u003Cspan class=\"token string\">\"@babel/plugin-transform-runtime\"\u003C/span>\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n          \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n        \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n      \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n    \u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n    \u003Cspan class=\"token comment\">// pass environment down to scripts\u003C/span>\n    \u003Cspan class=\"token keyword\">const\u003C/span> envPlugin \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token keyword\">new\u003C/span> \u003Cspan class=\"token class-name\">webpack\u003Cspan class=\"token punctuation\">.\u003C/span>EnvironmentPlugin\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">{\u003C/span>\n      \u003Cspan class=\"token constant\">ELEVENTY_ENV\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> process\u003Cspan class=\"token punctuation\">.\u003C/span>env\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token constant\">ELEVENTY_ENV\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n    \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n    \u003Cspan class=\"token comment\">// Main Config\u003C/span>\n    \u003Cspan class=\"token keyword\">const\u003C/span> webpackConfig \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n      \u003Cspan class=\"token literal-property property\">mode\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> isProd \u003Cspan class=\"token operator\">?\u003C/span> \u003Cspan class=\"token string\">\"production\"\u003C/span> \u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token string\">\"development\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n      \u003Cspan class=\"token literal-property property\">entry\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> entryPath\u003Cspan class=\"token punctuation\">,\u003C/span>\n      \u003Cspan class=\"token literal-property property\">output\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span> \u003Cspan class=\"token literal-property property\">path\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> outputPath \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n      \u003Cspan class=\"token literal-property property\">module\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span> rules \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n      \u003Cspan class=\"token literal-property property\">plugins\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>envPlugin\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n    \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n    \u003Cspan class=\"token keyword\">return\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n      \u003Cspan class=\"token literal-property property\">permalink\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token template-string\">\u003Cspan class=\"token template-punctuation string\">`\u003C/span>\u003Cspan class=\"token string\">/assets/scripts/\u003C/span>\u003Cspan class=\"token interpolation\">\u003Cspan class=\"token interpolation-punctuation punctuation\">${\u003C/span>\u003Cspan class=\"token constant\">ENTRY_FILE_NAME\u003C/span>\u003Cspan class=\"token interpolation-punctuation punctuation\">}\u003C/span>\u003C/span>\u003Cspan class=\"token template-punctuation string\">`\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n      \u003Cspan class=\"token literal-property property\">eleventyExcludeFromCollections\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token boolean\">true\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n      webpackConfig\u003Cspan class=\"token punctuation\">,\u003C/span>\n    \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n  \u003Cspan class=\"token punctuation\">}\u003C/span>\n\n  \u003Cspan class=\"token comment\">// Compile JS with Webpack, write the result to Memory Filesystem.\u003C/span>\n  \u003Cspan class=\"token comment\">// this brilliant idea is taken from Mike Riethmuller / Supermaya\u003C/span>\n  \u003Cspan class=\"token comment\">// @see https://github.com/MadeByMike/supermaya/blob/master/site/utils/compile-webpack.js\u003C/span>\n  \u003Cspan class=\"token function\">compile\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">webpackConfig\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n    \u003Cspan class=\"token keyword\">const\u003C/span> compiler \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token function\">webpack\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>webpackConfig\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n    compiler\u003Cspan class=\"token punctuation\">.\u003C/span>outputFileSystem \u003Cspan class=\"token operator\">=\u003C/span> mfs\u003Cspan class=\"token punctuation\">;\u003C/span>\n    compiler\u003Cspan class=\"token punctuation\">.\u003C/span>inputFileSystem \u003Cspan class=\"token operator\">=\u003C/span> fs\u003Cspan class=\"token punctuation\">;\u003C/span>\n    compiler\u003Cspan class=\"token punctuation\">.\u003C/span>intermediateFileSystem \u003Cspan class=\"token operator\">=\u003C/span> mfs\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n    \u003Cspan class=\"token keyword\">return\u003C/span> \u003Cspan class=\"token keyword\">new\u003C/span> \u003Cspan class=\"token class-name\">Promise\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">resolve\u003Cspan class=\"token punctuation\">,\u003C/span> reject\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n      compiler\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">run\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">err\u003Cspan class=\"token punctuation\">,\u003C/span> stats\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n        \u003Cspan class=\"token keyword\">if\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>err \u003Cspan class=\"token operator\">||\u003C/span> stats\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">hasErrors\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n          \u003Cspan class=\"token keyword\">const\u003C/span> errors \u003Cspan class=\"token operator\">=\u003C/span>\n            err \u003Cspan class=\"token operator\">||\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>stats\u003Cspan class=\"token punctuation\">.\u003C/span>compilation \u003Cspan class=\"token operator\">?\u003C/span> stats\u003Cspan class=\"token punctuation\">.\u003C/span>compilation\u003Cspan class=\"token punctuation\">.\u003C/span>errors \u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token keyword\">null\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n          \u003Cspan class=\"token function\">reject\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>errors\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n          \u003Cspan class=\"token keyword\">return\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n        \u003Cspan class=\"token punctuation\">}\u003C/span>\n\n        mfs\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">readFile\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\n          webpackConfig\u003Cspan class=\"token punctuation\">.\u003C/span>output\u003Cspan class=\"token punctuation\">.\u003C/span>path \u003Cspan class=\"token operator\">+\u003C/span> \u003Cspan class=\"token string\">\"/\"\u003C/span> \u003Cspan class=\"token operator\">+\u003C/span> \u003Cspan class=\"token constant\">ENTRY_FILE_NAME\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n          \u003Cspan class=\"token string\">\"utf8\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n          \u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">err\u003Cspan class=\"token punctuation\">,\u003C/span> data\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n            \u003Cspan class=\"token keyword\">if\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>err\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token function\">reject\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>err\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n            \u003Cspan class=\"token keyword\">else\u003C/span> \u003Cspan class=\"token function\">resolve\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>data\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n          \u003Cspan class=\"token punctuation\">}\u003C/span>\n        \u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n      \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n    \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n  \u003Cspan class=\"token punctuation\">}\u003C/span>\n\n  \u003Cspan class=\"token comment\">// render the JS file\u003C/span>\n  \u003Cspan class=\"token keyword\">async\u003C/span> \u003Cspan class=\"token function\">render\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">\u003Cspan class=\"token punctuation\">{\u003C/span> webpackConfig \u003Cspan class=\"token punctuation\">}\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n    \u003Cspan class=\"token keyword\">try\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n      \u003Cspan class=\"token keyword\">const\u003C/span> result \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token keyword\">await\u003C/span> \u003Cspan class=\"token keyword\">this\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">compile\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>webpackConfig\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n      \u003Cspan class=\"token keyword\">return\u003C/span> result\u003Cspan class=\"token punctuation\">;\u003C/span>\n    \u003Cspan class=\"token punctuation\">}\u003C/span> \u003Cspan class=\"token keyword\">catch\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>err\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n      console\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">log\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>err\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n      \u003Cspan class=\"token keyword\">return\u003C/span> \u003Cspan class=\"token keyword\">null\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n    \u003Cspan class=\"token punctuation\">}\u003C/span>\n  \u003Cspan class=\"token punctuation\">}\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>We don’t need to understand all the details, the only thing we need to know is that this file is looking for a \u003Ccode>main.js\u003C/code> file in the same folder,\nso we should have a \u003Ccode>main.js\u003C/code> that can import other scripts if necessary.\u003C/p>\n\u003Cp>So for example if we have several JavaScript files, we need to import them all in main.js:\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token keyword\">import\u003C/span> \u003Cspan class=\"token string\">'eleventy-plugin-share-highlight/share-highlight'\u003C/span>\n\u003Cspan class=\"token operator\">...\u003C/span>\n\n\u003Cspan class=\"token keyword\">import\u003C/span> \u003Cspan class=\"token string\">'./navigation'\u003C/span>\n\u003Cspan class=\"token keyword\">import\u003C/span> \u003Cspan class=\"token string\">'./lazyload'\u003C/span>\n\u003Cspan class=\"token operator\">...\u003C/span>\n\n\u003C/code>\u003C/pre>\n\u003Cp>As you can see, we import both packages like ‘eleventy-plugin-share-highlight/share-highlight’ and our code from ‘navigation’ and ‘lazyload’.\nNow, all we have to do is to use \u003Ccode>main.js\u003C/code>(src/assets/scripts/main.js) in a template:\u003C/p>\n\u003Cpre class=\"language-html\" data-language=\"html\">\u003Ccode is:raw=\"\" class=\"language-html\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>script\u003C/span>\n  \u003Cspan class=\"token attr-name\">type\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>text/javascript\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\n  \u003Cspan class=\"token attr-name\">src\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>{{ '/assets/scripts/main.js' | url }}\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\n\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\u003Cspan class=\"token script\">\u003C/span>\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>script\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>If you need to bundle your JavaScript in several files please check \u003Ca href=\"https://github.com/maxboeck/mxb/blob/57c0abd216ba0d93dfc5f7e6cfe74c1f9d1c69d6/src/tasks/scripts.11ty.js\">Max Böck’s personal site\u003C/a>\nwhere instead of \u003Ccode>ENTRY_FILE_NAME\u003C/code> he is working with \u003Ccode>ENTRY_POINTS\u003C/code>.\u003C/p>\n\u003Ch2 id=\"resources\">Resources\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#resources\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cul>\n\u003Cli>\u003Ca href=\"https://www.11ty.dev/docs/quicktips/inline-js/\">Eleventy docs\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"https://github.com/maxboeck/eleventastic/blob/master/src/assets/scripts/__scripts.11ty.js\">Max Böck’s Eleventastic starter\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"https://github.com/MadeByMike/supermaya/blob/master/site/utils/compile-webpack.js\">Mike Riethmuller’s Supermaya starter\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"https://www.codecookbook.dev/asset-bundling-eleventy-webpack-tailwind/\">Asset Bundling Workflow for Eleventy with Webpack\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"https://github.com/11ty/eleventy/issues/272\">Eleventy Official Asset Pipeline Issue\u003C/a>\u003C/li>\n\u003C/ul>",{"headings":202,"imagePaths":216,"frontmatter":186},[203,206,209,212,215],{"depth":51,"slug":204,"text":205},"passthrough","Passthrough",{"depth":51,"slug":207,"text":208},"inline-script-content","Inline script content",{"depth":88,"slug":210,"text":211},"minification","Minification",{"depth":51,"slug":213,"text":214},"webpack-pipeline","Webpack pipeline",{"depth":51,"slug":98,"text":99},[],"10-reasons-why-you-are-not-a-great-programmer",["Map",7,219],{"id":7,"data":220,"body":229,"filePath":230,"digest":231,"rendered":232,"legacyId":64},{"title":221,"pubDate":222,"description":223,"keywords":224,"twitterImage":226,"minutesRead":227,"excerpt":228},"10 reasons why you are not a great programmer",["Date","2020-05-14T00:00:00.000Z"],"What you have to admit before you become a better programmer",[225],"How to Write Better Software","https://www.raresportan.com/twitter-cards/10-reasons-why-you-are-not-a-great-programmer.png","7 min read","Let’s assume you are a programmer with a few problems: Hard to implement change requests, buried under bugs, missed deadlines, overtime, str","Let’s assume you are a programmer with a few problems: Hard to implement change requests, buried under bugs, missed deadlines, overtime, stress, patching weak software, hating your codebase, thinking of finding another gig. \n\n**Why are you in such a bad shape? 🤔**\n\n## You write magic code\n\nSometimes a piece of code implements a sophisticated algorithm that few people can understand. \nThat code is total magic for everyone else. \n\nThis situation should be rare and code like that should be an exception. But you make most of your code so obfuscated that is total magic for anyone else. You fantasise about people marvelling at the genius of your code, when they most likely think quite the opposite about you.  \n\nMagic numbers, voodoo people. That’s your thing. And you end up writing code comments like this:\n```\n// Magic. Do not touch !!!\n```\n\n## Your code is hard to understand\n\nWe spend most time reading, *not writing code*. To add a new feature, to fix a bug, to do a code review: we read code. \nIf your code is hard to read, a huge amount of time is spent by anyone who tries to understand it. \nIf somebody modifies code that is hard to understand, they are very likely adding new bugs. \nEven more, after they’re done, the code will be even harder to understand.\n\nAfter a while, even you can’t understand your code anymore and  you just write frustrating comments like this:\n```\n// When I wrote this, only God and I understood \n// what I was doing. \n// Now, God only knows\n```\n\n\n## Your code is hard to use\n\nYour code is used by other programmers. When they complain about your code, you think: \n*“What a jerk! He has the nerve to tell ME that my code is not working properly. I bet he is using it in some twisted way.”*\n\nPeople use your code because they want to solve a problem not because they want to start a quarrel. When they make these type of comments about your code, it’s your fault, not theirs:\n```\n// At this point, I'd like to take a moment \n// to speak to you  about the Adobe PSD format. \n// PSD is not a  good format. PSD is not even a \n// bad format. Calling  it such would be an insult \n// to other bad formats,  such as PCX or JPEG. \n// \n// No, PSD is an abysmal format. \n// Having worked on this code for several weeks\n// now, my hate for PSD has grown to a raging \n// fire that burns with the fierce passion of \n// a million suns.\n//\n// PSD is not my favorite file format.\n```\n\n\n## Your code is a mess\n\nSometimes we need to deliver the software ASAP and we must write fast trashy code to do that. \nThat it’s OK as long as we remember to rewrite that code when the things cool down a bit.\n\nBut you forget and let trashy code pile up. \nThe more you have, the harder your life is. \nYou don’t know that trashy code is like a debt. \nSooner or later you’ll have to pay it back. \nThe good news is that is always easier to criticise and improve something real and \nworking instead of a perfect unicorn that lives only in the minds of some. \n\nDon’t expect to write the best code of the bat, but be brutally honest with where you are so far:\n\n```\n// This code sucks,\n// you know it and I know it.  \n// Move on and call me an idiot later.\n```\n\n## You come up with lame excuses\n\nSome people are so good at providing lame excuses. They can find an excuse for anything. \nNobody likes to deal with these people. These people never provide options.\n\nThey don’t think about the issue, they don’t try to find reasonable ways to handle the issue. \nThey never do something about it. \n\nThe only thing the do is to spread their lame excuses everywhere:\n```\n// This isn't the right way to deal \n// with this, but today  is my last day, \n// Ron just spilled coffee on my desk,\n// and I'm hungry, \n// so this will have to do...\nreturn 42; \n```\n\n## Your code ignores errors\n\nYou always think only about the ideal situation, you don’t care also about the blank state and all the error states.\nYou never think about the case when somebody opens the app for the first time. \nThere is no data, nothing. \n\nYou never let the user know what you expect him to do, how to add data, what he can do with the app. \nLanding texts, on-boarding tips, there should be something but it’s not. \nWorst, you also ignore errors. \nYou never let the user know there is a problem and you never provide options for fixing it. \nAt least they should be able to save their work and restart the app. \n\nYou always say *“This should never happen!”*\nIf people will use your software, they will break it. \nSometimes, the way an error is handled, it’s all it takes to make the difference between a good day and a bad day for somebody.\n\nAnd yet, your code just doesn’t care:\n```\n} \ncatch (SQLException ex) {\n    // Basically, without saying too much, \n    // you're screwed!\n    // Royally and totally.\n}\ncatch(Exception ex){\n    // If you thought you \n    // were screwed before, \n    // boy have I news for you!!!\n}\n```\n\n## You don’t take responsibility\n\nYour piece of code is just that, a piece. \nIt works together with other pieces. Or should. \nThere are always problems when different pieces of code are integrated in the one big app.\n\nWhen problems arise, you blame others. \nYou never try to find the root cause of the problem but you say strange things like: “After looking at the logs I couldn't find any error, so I think the problem is on your side!” \nYou always assume is other people’s fault. \nLike a good detective, you need solid proof.\n\nYou never take responsibility for anything and prefer to blame others or you simply don’t care:\n```\n// Author here: \n// If this code works, it was written by Paul D. \n// If not then I don't know who wrote it.\n```\n\n## You are under thinking\n\nYou work on a piece of code. \nYou need a solution to a problem so you search for it in the existing code base or online. \nThe minute you find something close enough, you just copy-paste it and you’re done. \nFast and easy, but also wrong.\n\nYou never adapt the solution to your specific context. \nYou never fully understand the problem and the solution, you just copy somebody else’s solution.\nYou prefer to not use your brain, but borrowing someone else’s. \n\nYou never discover the one simple fact, that everything around you was made up by people that were no smarter than you. \nAnd that you can change what you don’t like or what you think can be better.\n```\n// The following was stolen in large part from \n// MSDN  by John & I. I tried to give it back, \n// but they wouldn't take it.\n// I don't blame them…\n```\n\n## Your software is slow\n\nSometimes the client says: “Finally we were not able to find any defects, everything works correctly. Just a little issue, we think the app is too slow, it must run at least ten times faster.”\n\nYour first priority should be to make the code work and that is correct. \nBut don’t ignore the performance. \nPeople can live with bugs and learn how to move around them but they cannot ignore slow software. \n\nEverybody hates slow software and will try to get rid of it as soon as possible. \nNever ship slow software.\nYou ignore the software performance until is too late. \nWhen you finally try to fix it, you learn they need a big redesign. \n\nAnd the more expensive it is to make a change, the less likely you’ll make it.\n```\n// This was way too slow. \n// Just say we didn't find the file.\n```\n\n\n## The end\n\nAll the above problems can be fixed. \nThe first step is to admit you have them, and the next time you write a piece of code\nask yourself how you could do it better.\n\nAll you need to do is to care a bit about your work.","src/content/10-reasons-why-you-are-not-a-great-programmer/index.md","310a571c3f3d458c",{"html":233,"metadata":234},"\u003Cp>Let’s assume you are a programmer with a few problems: Hard to implement change requests, buried under bugs, missed deadlines, overtime, stress, patching weak software, hating your codebase, thinking of finding another gig.\u003C/p>\n\u003Cp>\u003Cstrong>Why are you in such a bad shape? 🤔\u003C/strong>\u003C/p>\n\u003Ch2 id=\"you-write-magic-code\">You write magic code\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#you-write-magic-code\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>Sometimes a piece of code implements a sophisticated algorithm that few people can understand.\nThat code is total magic for everyone else.\u003C/p>\n\u003Cp>This situation should be rare and code like that should be an exception. But you make most of your code so obfuscated that is total magic for anyone else. You fantasise about people marvelling at the genius of your code, when they most likely think quite the opposite about you.\u003C/p>\n\u003Cp>Magic numbers, voodoo people. That’s your thing. And you end up writing code comments like this:\u003C/p>\n\u003Cpre class=\"language-plaintext\" data-language=\"plaintext\">\u003Ccode is:raw=\"\" class=\"language-plaintext\">// Magic. Do not touch !!!\n\u003C/code>\u003C/pre>\n\u003Ch2 id=\"your-code-is-hard-to-understand\">Your code is hard to understand\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#your-code-is-hard-to-understand\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>We spend most time reading, \u003Cem>not writing code\u003C/em>. To add a new feature, to fix a bug, to do a code review: we read code.\nIf your code is hard to read, a huge amount of time is spent by anyone who tries to understand it.\nIf somebody modifies code that is hard to understand, they are very likely adding new bugs.\nEven more, after they’re done, the code will be even harder to understand.\u003C/p>\n\u003Cp>After a while, even you can’t understand your code anymore and  you just write frustrating comments like this:\u003C/p>\n\u003Cpre class=\"language-plaintext\" data-language=\"plaintext\">\u003Ccode is:raw=\"\" class=\"language-plaintext\">// When I wrote this, only God and I understood \n// what I was doing. \n// Now, God only knows\n\u003C/code>\u003C/pre>\n\u003Ch2 id=\"your-code-is-hard-to-use\">Your code is hard to use\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#your-code-is-hard-to-use\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>Your code is used by other programmers. When they complain about your code, you think:\n\u003Cem>“What a jerk! He has the nerve to tell ME that my code is not working properly. I bet he is using it in some twisted way.”\u003C/em>\u003C/p>\n\u003Cp>People use your code because they want to solve a problem not because they want to start a quarrel. When they make these type of comments about your code, it’s your fault, not theirs:\u003C/p>\n\u003Cpre class=\"language-plaintext\" data-language=\"plaintext\">\u003Ccode is:raw=\"\" class=\"language-plaintext\">// At this point, I'd like to take a moment \n// to speak to you  about the Adobe PSD format. \n// PSD is not a  good format. PSD is not even a \n// bad format. Calling  it such would be an insult \n// to other bad formats,  such as PCX or JPEG. \n// \n// No, PSD is an abysmal format. \n// Having worked on this code for several weeks\n// now, my hate for PSD has grown to a raging \n// fire that burns with the fierce passion of \n// a million suns.\n//\n// PSD is not my favorite file format.\n\u003C/code>\u003C/pre>\n\u003Ch2 id=\"your-code-is-a-mess\">Your code is a mess\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#your-code-is-a-mess\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>Sometimes we need to deliver the software ASAP and we must write fast trashy code to do that.\nThat it’s OK as long as we remember to rewrite that code when the things cool down a bit.\u003C/p>\n\u003Cp>But you forget and let trashy code pile up.\nThe more you have, the harder your life is.\nYou don’t know that trashy code is like a debt.\nSooner or later you’ll have to pay it back.\nThe good news is that is always easier to criticise and improve something real and\nworking instead of a perfect unicorn that lives only in the minds of some.\u003C/p>\n\u003Cp>Don’t expect to write the best code of the bat, but be brutally honest with where you are so far:\u003C/p>\n\u003Cpre class=\"language-plaintext\" data-language=\"plaintext\">\u003Ccode is:raw=\"\" class=\"language-plaintext\">// This code sucks,\n// you know it and I know it.  \n// Move on and call me an idiot later.\n\u003C/code>\u003C/pre>\n\u003Ch2 id=\"you-come-up-with-lame-excuses\">You come up with lame excuses\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#you-come-up-with-lame-excuses\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>Some people are so good at providing lame excuses. They can find an excuse for anything.\nNobody likes to deal with these people. These people never provide options.\u003C/p>\n\u003Cp>They don’t think about the issue, they don’t try to find reasonable ways to handle the issue.\nThey never do something about it.\u003C/p>\n\u003Cp>The only thing the do is to spread their lame excuses everywhere:\u003C/p>\n\u003Cpre class=\"language-plaintext\" data-language=\"plaintext\">\u003Ccode is:raw=\"\" class=\"language-plaintext\">// This isn't the right way to deal \n// with this, but today  is my last day, \n// Ron just spilled coffee on my desk,\n// and I'm hungry, \n// so this will have to do...\nreturn 42; \n\u003C/code>\u003C/pre>\n\u003Ch2 id=\"your-code-ignores-errors\">Your code ignores errors\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#your-code-ignores-errors\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>You always think only about the ideal situation, you don’t care also about the blank state and all the error states.\nYou never think about the case when somebody opens the app for the first time.\nThere is no data, nothing.\u003C/p>\n\u003Cp>You never let the user know what you expect him to do, how to add data, what he can do with the app.\nLanding texts, on-boarding tips, there should be something but it’s not.\nWorst, you also ignore errors.\nYou never let the user know there is a problem and you never provide options for fixing it.\nAt least they should be able to save their work and restart the app.\u003C/p>\n\u003Cp>You always say \u003Cem>“This should never happen!”\u003C/em>\nIf people will use your software, they will break it.\nSometimes, the way an error is handled, it’s all it takes to make the difference between a good day and a bad day for somebody.\u003C/p>\n\u003Cp>And yet, your code just doesn’t care:\u003C/p>\n\u003Cpre class=\"language-plaintext\" data-language=\"plaintext\">\u003Ccode is:raw=\"\" class=\"language-plaintext\">} \ncatch (SQLException ex) {\n    // Basically, without saying too much, \n    // you're screwed!\n    // Royally and totally.\n}\ncatch(Exception ex){\n    // If you thought you \n    // were screwed before, \n    // boy have I news for you!!!\n}\n\u003C/code>\u003C/pre>\n\u003Ch2 id=\"you-dont-take-responsibility\">You don’t take responsibility\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#you-dont-take-responsibility\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>Your piece of code is just that, a piece.\nIt works together with other pieces. Or should.\nThere are always problems when different pieces of code are integrated in the one big app.\u003C/p>\n\u003Cp>When problems arise, you blame others.\nYou never try to find the root cause of the problem but you say strange things like: “After looking at the logs I couldn’t find any error, so I think the problem is on your side!”\nYou always assume is other people’s fault.\nLike a good detective, you need solid proof.\u003C/p>\n\u003Cp>You never take responsibility for anything and prefer to blame others or you simply don’t care:\u003C/p>\n\u003Cpre class=\"language-plaintext\" data-language=\"plaintext\">\u003Ccode is:raw=\"\" class=\"language-plaintext\">// Author here: \n// If this code works, it was written by Paul D. \n// If not then I don't know who wrote it.\n\u003C/code>\u003C/pre>\n\u003Ch2 id=\"you-are-under-thinking\">You are under thinking\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#you-are-under-thinking\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>You work on a piece of code.\nYou need a solution to a problem so you search for it in the existing code base or online.\nThe minute you find something close enough, you just copy-paste it and you’re done.\nFast and easy, but also wrong.\u003C/p>\n\u003Cp>You never adapt the solution to your specific context.\nYou never fully understand the problem and the solution, you just copy somebody else’s solution.\nYou prefer to not use your brain, but borrowing someone else’s.\u003C/p>\n\u003Cp>You never discover the one simple fact, that everything around you was made up by people that were no smarter than you.\nAnd that you can change what you don’t like or what you think can be better.\u003C/p>\n\u003Cpre class=\"language-plaintext\" data-language=\"plaintext\">\u003Ccode is:raw=\"\" class=\"language-plaintext\">// The following was stolen in large part from \n// MSDN  by John &#x26; I. I tried to give it back, \n// but they wouldn't take it.\n// I don't blame them…\n\u003C/code>\u003C/pre>\n\u003Ch2 id=\"your-software-is-slow\">Your software is slow\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#your-software-is-slow\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>Sometimes the client says: “Finally we were not able to find any defects, everything works correctly. Just a little issue, we think the app is too slow, it must run at least ten times faster.”\u003C/p>\n\u003Cp>Your first priority should be to make the code work and that is correct.\nBut don’t ignore the performance.\nPeople can live with bugs and learn how to move around them but they cannot ignore slow software.\u003C/p>\n\u003Cp>Everybody hates slow software and will try to get rid of it as soon as possible.\nNever ship slow software.\nYou ignore the software performance until is too late.\nWhen you finally try to fix it, you learn they need a big redesign.\u003C/p>\n\u003Cp>And the more expensive it is to make a change, the less likely you’ll make it.\u003C/p>\n\u003Cpre class=\"language-plaintext\" data-language=\"plaintext\">\u003Ccode is:raw=\"\" class=\"language-plaintext\">// This was way too slow. \n// Just say we didn't find the file.\n\u003C/code>\u003C/pre>\n\u003Ch2 id=\"the-end\">The end\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#the-end\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>All the above problems can be fixed.\nThe first step is to admit you have them, and the next time you write a piece of code\nask yourself how you could do it better.\u003C/p>\n\u003Cp>All you need to do is to care a bit about your work.\u003C/p>",{"headings":235,"imagePaths":266,"frontmatter":220},[236,239,242,245,248,251,254,257,260,263],{"depth":51,"slug":237,"text":238},"you-write-magic-code","You write magic code",{"depth":51,"slug":240,"text":241},"your-code-is-hard-to-understand","Your code is hard to understand",{"depth":51,"slug":243,"text":244},"your-code-is-hard-to-use","Your code is hard to use",{"depth":51,"slug":246,"text":247},"your-code-is-a-mess","Your code is a mess",{"depth":51,"slug":249,"text":250},"you-come-up-with-lame-excuses","You come up with lame excuses",{"depth":51,"slug":252,"text":253},"your-code-ignores-errors","Your code ignores errors",{"depth":51,"slug":255,"text":256},"you-dont-take-responsibility","You don’t take responsibility",{"depth":51,"slug":258,"text":259},"you-are-under-thinking","You are under thinking",{"depth":51,"slug":261,"text":262},"your-software-is-slow","Your software is slow",{"depth":51,"slug":264,"text":265},"the-end","The end",[],"eleventy-part-one",["Map",7,269],{"id":7,"data":270,"body":277,"filePath":278,"digest":279,"rendered":280,"legacyId":64},{"title":271,"pubDate":272,"description":273,"keywords":274,"twitterImage":275,"minutesRead":227,"excerpt":276},"Let's Learn Eleventy (11ty) -  What is Eleventy",["Date","2020-08-26T00:00:00.000Z"],"This is the first part of the Let't Learn Eleventy series. We'll learn what is Eleventy and how to get started with it.",[191,192],"https://www.raresportan.com/twitter-cards/let's-learn-eleventy-11ty----what-is-eleventy.png","Eleventy is a static site generator like Jekyll, Hugo\n,or Gatsby. Like Gatsby, Eleventy is a node.js application. But unlike Gatsby,\nit isn’","[Eleventy](https://www.11ty.dev/) is a static site generator like [Jekyll](https://jekyllrb.com/), [Hugo](https://gohugo.io/)\n,or [Gatsby](https://www.gatsbyjs.org/). Like Gatsby, Eleventy is a node.js application. But unlike Gatsby,\nit isn't a React framework, so the generated website doesn't need to include JavaScript at all, and thus is\nmore performant out of the box.\n\nA static site generator is a tool that creates web pages out of templates and pieces of content.\nThe main advantage over a manually created website is that you don't have to reimplement the same thing in\nall pages, you just do it once in a template and it's included in all pages.\n\nEqually important, the content is created outside of the HTML, maybe in a [CMS](https://en.wikipedia.org/wiki/Content_management_system).\nso the people maintaining the content don't have to be programmers.\n\n## Install node.js\n\nFirst, you need to have node.js and npm installed on your machine.\n\n```bash\n$ node -v\nv11.15.0\n$ npm -v\n6.7.0\n```\n\nEleventy requires node.js version 8 or newer. If you don't have it, head on to [node.js](https://nodejs.org/) to get it.\n\n## Install Eleventy\n\nCreate a project folder on disk somewhere, and move inside it:\n\n```bash\n$ mkdir eleventy-project\n$ cd eleventy-project\n```\n\nInside your project folder, initialize a new npm project:\n\n```bash\neleventy-project$ npm init -y\n```\n\nNow it's time to install Eleventy:\n\n```bash\neleventy-project$ npm install --save-dev @11ty/eleventy\n```\n\nVerify that the installation is successful:\n\n```bash\neleventy-project$ npx @11ty/eleventy\nWrote 0 files in 0.03 seconds (v0.11.0)\n```\n\nIf the above command gives errors, one of the reasons might be that you have some\nfiles in the project that should be ignored by Eleventy. To do this you need to\ncreate a `.eleventyignore` and put inside the folders or files that should be ignored.\nIf you already have a `.gitignore` that will work too, Eleventy automatically ignores\nthose also.\n\n## Eleventy basics\n\nIn your project folder create an `index.html` file with the following content:\n\n```html\n---\ntitle: 11ty website\ndescription: Created using 11ty\n---\n\n\u003C!DOCTYPE html>\n\u003Chtml lang=\"en\">\n  \u003Chead>\n    \u003Cmeta charset=\"UTF-8\" />\n    \u003Ctitle>{{ title }}\u003C/title>\n    \u003Cmeta name=\"description\" content=\"{{ description }}\" />\n    \u003Cmeta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n  \u003C/head>\n  \u003Cbody>\n    \u003Ch1>{{ title }}\u003C/h1>\n  \u003C/body>\n\u003C/html>\n```\n\nBesides the regular HTML tags, we did add some unusual things:\n\n- Front matter. The section between `---` is called front matter and it's a place where we can define\n  some data to be used on the page. We defined a `title` and a `description` inside it.\n- Used the front matter data. We used the data by enclosing it inside double curly braces like `{{ title }}`\n  We can use this because by default Eleventy allows [liquid](https://shopify.github.io/liquid/basics/introduction/)\n  templating syntax.\n\nWe can build the site using:\n\n```bash\neleventy-project$ npx @11ty/eleventy\nWrote 1 file in 0.11 seconds (v0.11.0)\n```\n\nYou'll notice that there is a new folder in the project, called `_site`. This is the folder\nthat contains our generated website. For now, it contains only one file: `index.html`:\n\n```html\n\u003C!DOCTYPE html>\n\u003Chtml lang=\"en\">\n  \u003Chead>\n    \u003Cmeta charset=\"UTF-8\" />\n    \u003Ctitle>11ty website\u003C/title>\n    \u003Cmeta name=\"description\" content=\"Created using 11ty\" />\n    \u003Cmeta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n  \u003C/head>\n  \u003Cbody>\n    \u003Ch1>11ty website\u003C/h1>\n  \u003C/body>\n\u003C/html>\n```\n\nAs you can see the `{{ title }}` and `{{ description }}` placeholders were replaced with the values defined\nin the front matter.\n\nTo see the website running, use the following command:\n\n```bash\neleventy-project$ npx @11ty/eleventy --serve\nWrote 1 file in 0.11 seconds (v0.11.0)\n[Browsersync] Access URLs:\n --------------------------------------\n       Local: http://localhost:8080\n    External: http://192.123.123.123:8080\n --------------------------------------\n          UI: http://localhost:3001\n UI External: http://localhost:3001\n --------------------------------------\n[Browsersync] Serving files from: _site\n```\n\nOpen `http://localhost:8080` in the browser.\n\n## Eleventy configuration basics\n\nLet's add a `styles.css` file next to `index.html`:\n\n```css\nh1 {\n  color: #444;\n  background-color: #ffd490;\n}\n```\n\nAnd use it inside the index.html:\n\n```html\n---\ntitle: 11ty website\ndescription: Created using 11ty\n---\n\n\u003C!DOCTYPE html>\n\u003Chtml lang=\"en\">\n  \u003Chead>\n    \u003Cmeta charset=\"UTF-8\" />\n    \u003Ctitle>{{ title }}\u003C/title>\n    \u003Cmeta name=\"description\" content=\"{{ description }}\" />\n    \u003Cmeta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n    \u003Clink rel=\"stylesheet\" href=\"/styles.css\" />\n  \u003C/head>\n  \u003Cbody>\n    \u003Ch1>{{ title }}\u003C/h1>\n  \u003C/body>\n\u003C/html>\n```\n\nIf you run Eleventy now, the `_site` folder still contains only the `index.html`, the CSS file is ignored.\nWe can fix this in several ways. One is to specify `css` in the formats flag:\n\n```bash\neleventy-project$ npx @11ty/eleventy --formats=html,css\nWriting _site/index.html from ./index.html.\nCopied 1 file / Wrote 1 file in 0.08 seconds (v0.11.0\n```\n\nAnother way to solve this is to create an Eleventy configuration file and setup CSS handling there.\nSo let's create a new file called `.eleventy.js`. Notice the `.` at the beginning.\n\n```js\nmodule.exports = function (eleventyConfig) {\n  // copy css passthough\n  eleventyConfig.addPassthroughCopy(\"styles.css\");\n};\n```\n\nThe above configuration will tell Eleventy to just copy `styles.css` in the `_site` folder.\nNow we can use the usual build command again.\n\n```bash\neleventy-project$ npx @11ty/eleventy\nWriting _site/index.html from ./index.html.\nCopied 1 file / Wrote 1 file in 0.08 seconds (v0.11.0\n```\n\n## Templates\n\nAs I've mentioned, the power of a static site generator is using templates.\n\nLet's create a new folder called `_includes` and a `base.njk` file inside it.\nOur project structure should look like this:\n\n```\n📁eleventy-project/\n    📁_includes/\n        base.njk\n    📁_site\n    📁node_modules\n    .eleventy.js\n    index.html\n    package.json\n    package-lock.json\n    styles.css\n```\n\nBase.njk is a file that uses the [nunjacks templating language.](https://mozilla.github.io/nunjucks/),\nhence the `.njk` extension.\n\nThis file will be the main template for all our pages, and has the following content:\n\n```html\n\u003C!DOCTYPE html>\n\u003Chtml lang=\"en\">\n  \u003Chead>\n    \u003Cmeta charset=\"UTF-8\" />\n    \u003Ctitle>{{ title }}\u003C/title>\n    \u003Cmeta name=\"description\" content=\"{{ description }}\" />\n    \u003Cmeta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n    \u003Clink rel=\"stylesheet\" href=\"/styles.css\" />\n  \u003C/head>\n  \u003Cbody>\n    \u003Cheader>\n      \u003Ca href=\"/\">Hey, I'm Joe Doe\u003C/a>\n      \u003Cnav>\n        \u003Cul>\n          \u003Cli>\n            \u003Ca href=\"/about/\">About\u003C/a>\n          \u003C/li>\n          \u003Cli>\n            \u003Ca href=\"/work/\">Work\u003C/a>\n          \u003C/li>\n        \u003C/ul>\n      \u003C/nav>\n    \u003C/header>\n    {{ content | safe }}\n    \u003Cfooter>&copy; 2020 Jon Doe\u003C/footer>\n  \u003C/body>\n\u003C/html>\n```\n\nWe set up the basic HTML for all the pages:\n\n- head with metadata\n- body with a header and a footer displayed on all pages\n- a spot where the pages will insert their own content, with `{{ content }}`, a special\n  variable\n- the footer\n\nWhat might be a bit strange here is that the template uses `{{ title }}` and `{{ description }}`\nbut these are not defined in the front matter, so the question is how base.njk has them?\nWell, it turns out that if a page that uses this template defines title and description,\nthe layout has access to them.\n\nWe specified the spot where a page will insert its content using `{{ content | safe }}`.\n`{{ content }}` is the page-specific content, and `| safe` is a filter.\n\nEleventy supports by default the njk templates, but just to be sure, we can specify that in\nthe configuration, along with other types of content we use:\n\n```js\nmodule.exports = function (eleventyConfig) {\n  // copy css passthough\n  eleventyConfig.addPassthroughCopy(\"styles.css\");\n\n  return {\n    markdownTemplateEngine: \"njk\",\n    templateFormats: [\"html\", \"njk\", \"md\"],\n  };\n};\n```\n\nNow that we have the template, let's modify index.html to use it:\n\n```html\n---\nlayout: base.njk\ntitle: 11ty website\ndescription: Created using 11ty\n---\n\n\u003Ch1>{{ title }}\u003C/h1>\n```\n\nWe make index.html use the base.njk layout by setting the `layout` front matter.\nAlso notice that we still declare the `title` and `description` here, because the\nvalues are specific to this particular page and because we use the base.njk layout,\nthe values are available to base.njk.\n\nWe can create two new pages, About and Work, let's use Markdown for them:\n\nabout.md\n\n```html\n---\nlayout: base.njk\ntitle: About\ndescription: About me\n---\n\n# {{ title }} I'm a developer and designer living in New York. I love Eleventy,\nI do all my websites using it.\n```\n\nwork.md\n\n```html\n---\nlayout: base.njk\ntitle: Work\ndescription: My work\n---\n\n# {{ title }} I've worked with many happy clients like * Levi's * Nike * etc.\n```\n\nIf you didn't already, start the server and go to http://localhost:8080:\n\n```bash\neleventy-project$ npx @11ty/eleventy --serve\n```\n\n## Recap\n\n- What is Eleventy and how to install it\n- How to use data inside a page\n- Basic configuration\n- Using the same template in multiple pages","src/content/eleventy-part-one/index.md","cf5b1788dcd0d32a",{"html":281,"metadata":282},"\u003Cp>\u003Ca href=\"https://www.11ty.dev/\">Eleventy\u003C/a> is a static site generator like \u003Ca href=\"https://jekyllrb.com/\">Jekyll\u003C/a>, \u003Ca href=\"https://gohugo.io/\">Hugo\u003C/a>\n,or \u003Ca href=\"https://www.gatsbyjs.org/\">Gatsby\u003C/a>. Like Gatsby, Eleventy is a node.js application. But unlike Gatsby,\nit isn’t a React framework, so the generated website doesn’t need to include JavaScript at all, and thus is\nmore performant out of the box.\u003C/p>\n\u003Cp>A static site generator is a tool that creates web pages out of templates and pieces of content.\nThe main advantage over a manually created website is that you don’t have to reimplement the same thing in\nall pages, you just do it once in a template and it’s included in all pages.\u003C/p>\n\u003Cp>Equally important, the content is created outside of the HTML, maybe in a \u003Ca href=\"https://en.wikipedia.org/wiki/Content_management_system\">CMS\u003C/a>.\nso the people maintaining the content don’t have to be programmers.\u003C/p>\n\u003Ch2 id=\"install-nodejs\">Install node.js\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#install-nodejs\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>First, you need to have node.js and npm installed on your machine.\u003C/p>\n\u003Cpre class=\"language-bash\" data-language=\"bash\">\u003Ccode is:raw=\"\" class=\"language-bash\">$ \u003Cspan class=\"token function\">node\u003C/span> \u003Cspan class=\"token parameter variable\">-v\u003C/span>\nv11.15.0\n$ \u003Cspan class=\"token function\">npm\u003C/span> \u003Cspan class=\"token parameter variable\">-v\u003C/span>\n\u003Cspan class=\"token number\">6.7\u003C/span>.0\n\u003C/code>\u003C/pre>\n\u003Cp>Eleventy requires node.js version 8 or newer. If you don’t have it, head on to \u003Ca href=\"https://nodejs.org/\">node.js\u003C/a> to get it.\u003C/p>\n\u003Ch2 id=\"install-eleventy\">Install Eleventy\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#install-eleventy\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>Create a project folder on disk somewhere, and move inside it:\u003C/p>\n\u003Cpre class=\"language-bash\" data-language=\"bash\">\u003Ccode is:raw=\"\" class=\"language-bash\">$ \u003Cspan class=\"token function\">mkdir\u003C/span> eleventy-project\n$ \u003Cspan class=\"token builtin class-name\">cd\u003C/span> eleventy-project\n\u003C/code>\u003C/pre>\n\u003Cp>Inside your project folder, initialize a new npm project:\u003C/p>\n\u003Cpre class=\"language-bash\" data-language=\"bash\">\u003Ccode is:raw=\"\" class=\"language-bash\">eleventy-project$ \u003Cspan class=\"token function\">npm\u003C/span> init \u003Cspan class=\"token parameter variable\">-y\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>Now it’s time to install Eleventy:\u003C/p>\n\u003Cpre class=\"language-bash\" data-language=\"bash\">\u003Ccode is:raw=\"\" class=\"language-bash\">eleventy-project$ \u003Cspan class=\"token function\">npm\u003C/span> \u003Cspan class=\"token function\">install\u003C/span> --save-dev @11ty/eleventy\n\u003C/code>\u003C/pre>\n\u003Cp>Verify that the installation is successful:\u003C/p>\n\u003Cpre class=\"language-bash\" data-language=\"bash\">\u003Ccode is:raw=\"\" class=\"language-bash\">eleventy-project$ npx @11ty/eleventy\nWrote \u003Cspan class=\"token number\">0\u003C/span> files \u003Cspan class=\"token keyword\">in\u003C/span> \u003Cspan class=\"token number\">0.03\u003C/span> seconds \u003Cspan class=\"token punctuation\">(\u003C/span>v0.11.0\u003Cspan class=\"token punctuation\">)\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>If the above command gives errors, one of the reasons might be that you have some\nfiles in the project that should be ignored by Eleventy. To do this you need to\ncreate a \u003Ccode>.eleventyignore\u003C/code> and put inside the folders or files that should be ignored.\nIf you already have a \u003Ccode>.gitignore\u003C/code> that will work too, Eleventy automatically ignores\nthose also.\u003C/p>\n\u003Ch2 id=\"eleventy-basics\">Eleventy basics\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#eleventy-basics\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>In your project folder create an \u003Ccode>index.html\u003C/code> file with the following content:\u003C/p>\n\u003Cpre class=\"language-html\" data-language=\"html\">\u003Ccode is:raw=\"\" class=\"language-html\">---\ntitle: 11ty website\ndescription: Created using 11ty\n---\n\n\u003Cspan class=\"token doctype\">\u003Cspan class=\"token punctuation\">&#x3C;!\u003C/span>\u003Cspan class=\"token doctype-tag\">DOCTYPE\u003C/span> \u003Cspan class=\"token name\">html\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>html\u003C/span> \u003Cspan class=\"token attr-name\">lang\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>en\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n  \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>head\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>meta\u003C/span> \u003Cspan class=\"token attr-name\">charset\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>UTF-8\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token punctuation\">/>\u003C/span>\u003C/span>\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>title\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>{{ title }}\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>title\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>meta\u003C/span> \u003Cspan class=\"token attr-name\">name\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>description\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token attr-name\">content\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>{{ description }}\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token punctuation\">/>\u003C/span>\u003C/span>\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>meta\u003C/span> \u003Cspan class=\"token attr-name\">name\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>viewport\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token attr-name\">content\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>width=device-width, initial-scale=1.0\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token punctuation\">/>\u003C/span>\u003C/span>\n  \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>head\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n  \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>body\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>h1\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>{{ title }}\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>h1\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n  \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>body\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>html\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>Besides the regular HTML tags, we did add some unusual things:\u003C/p>\n\u003Cul>\n\u003Cli>Front matter. The section between \u003Ccode>---\u003C/code> is called front matter and it’s a place where we can define\nsome data to be used on the page. We defined a \u003Ccode>title\u003C/code> and a \u003Ccode>description\u003C/code> inside it.\u003C/li>\n\u003Cli>Used the front matter data. We used the data by enclosing it inside double curly braces like \u003Ccode>{{ title }}\u003C/code>\nWe can use this because by default Eleventy allows \u003Ca href=\"https://shopify.github.io/liquid/basics/introduction/\">liquid\u003C/a>\ntemplating syntax.\u003C/li>\n\u003C/ul>\n\u003Cp>We can build the site using:\u003C/p>\n\u003Cpre class=\"language-bash\" data-language=\"bash\">\u003Ccode is:raw=\"\" class=\"language-bash\">eleventy-project$ npx @11ty/eleventy\nWrote \u003Cspan class=\"token number\">1\u003C/span> \u003Cspan class=\"token function\">file\u003C/span> \u003Cspan class=\"token keyword\">in\u003C/span> \u003Cspan class=\"token number\">0.11\u003C/span> seconds \u003Cspan class=\"token punctuation\">(\u003C/span>v0.11.0\u003Cspan class=\"token punctuation\">)\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>You’ll notice that there is a new folder in the project, called \u003Ccode>_site\u003C/code>. This is the folder\nthat contains our generated website. For now, it contains only one file: \u003Ccode>index.html\u003C/code>:\u003C/p>\n\u003Cpre class=\"language-html\" data-language=\"html\">\u003Ccode is:raw=\"\" class=\"language-html\">\u003Cspan class=\"token doctype\">\u003Cspan class=\"token punctuation\">&#x3C;!\u003C/span>\u003Cspan class=\"token doctype-tag\">DOCTYPE\u003C/span> \u003Cspan class=\"token name\">html\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>html\u003C/span> \u003Cspan class=\"token attr-name\">lang\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>en\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n  \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>head\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>meta\u003C/span> \u003Cspan class=\"token attr-name\">charset\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>UTF-8\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token punctuation\">/>\u003C/span>\u003C/span>\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>title\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>11ty website\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>title\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>meta\u003C/span> \u003Cspan class=\"token attr-name\">name\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>description\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token attr-name\">content\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>Created using 11ty\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token punctuation\">/>\u003C/span>\u003C/span>\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>meta\u003C/span> \u003Cspan class=\"token attr-name\">name\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>viewport\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token attr-name\">content\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>width=device-width, initial-scale=1.0\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token punctuation\">/>\u003C/span>\u003C/span>\n  \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>head\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n  \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>body\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>h1\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>11ty website\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>h1\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n  \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>body\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>html\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>As you can see the \u003Ccode>{{ title }}\u003C/code> and \u003Ccode>{{ description }}\u003C/code> placeholders were replaced with the values defined\nin the front matter.\u003C/p>\n\u003Cp>To see the website running, use the following command:\u003C/p>\n\u003Cpre class=\"language-bash\" data-language=\"bash\">\u003Ccode is:raw=\"\" class=\"language-bash\">eleventy-project$ npx @11ty/eleventy \u003Cspan class=\"token parameter variable\">--serve\u003C/span>\nWrote \u003Cspan class=\"token number\">1\u003C/span> \u003Cspan class=\"token function\">file\u003C/span> \u003Cspan class=\"token keyword\">in\u003C/span> \u003Cspan class=\"token number\">0.11\u003C/span> seconds \u003Cspan class=\"token punctuation\">(\u003C/span>v0.11.0\u003Cspan class=\"token punctuation\">)\u003C/span>\n\u003Cspan class=\"token punctuation\">[\u003C/span>Browsersync\u003Cspan class=\"token punctuation\">]\u003C/span> Access URLs:\n --------------------------------------\n       Local: http://localhost:8080\n    External: http://192.123.123.123:8080\n --------------------------------------\n          UI: http://localhost:3001\n UI External: http://localhost:3001\n --------------------------------------\n\u003Cspan class=\"token punctuation\">[\u003C/span>Browsersync\u003Cspan class=\"token punctuation\">]\u003C/span> Serving files from: _site\n\u003C/code>\u003C/pre>\n\u003Cp>Open \u003Ccode>http://localhost:8080\u003C/code> in the browser.\u003C/p>\n\u003Ch2 id=\"eleventy-configuration-basics\">Eleventy configuration basics\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#eleventy-configuration-basics\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>Let’s add a \u003Ccode>styles.css\u003C/code> file next to \u003Ccode>index.html\u003C/code>:\u003C/p>\n\u003Cpre class=\"language-css\" data-language=\"css\">\u003Ccode is:raw=\"\" class=\"language-css\">\u003Cspan class=\"token selector\">h1\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n  \u003Cspan class=\"token property\">color\u003C/span>\u003Cspan class=\"token punctuation\">:\u003C/span> #444\u003Cspan class=\"token punctuation\">;\u003C/span>\n  \u003Cspan class=\"token property\">background-color\u003C/span>\u003Cspan class=\"token punctuation\">:\u003C/span> #ffd490\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>And use it inside the index.html:\u003C/p>\n\u003Cpre class=\"language-html\" data-language=\"html\">\u003Ccode is:raw=\"\" class=\"language-html\">---\ntitle: 11ty website\ndescription: Created using 11ty\n---\n\n\u003Cspan class=\"token doctype\">\u003Cspan class=\"token punctuation\">&#x3C;!\u003C/span>\u003Cspan class=\"token doctype-tag\">DOCTYPE\u003C/span> \u003Cspan class=\"token name\">html\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>html\u003C/span> \u003Cspan class=\"token attr-name\">lang\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>en\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n  \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>head\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>meta\u003C/span> \u003Cspan class=\"token attr-name\">charset\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>UTF-8\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token punctuation\">/>\u003C/span>\u003C/span>\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>title\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>{{ title }}\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>title\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>meta\u003C/span> \u003Cspan class=\"token attr-name\">name\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>description\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token attr-name\">content\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>{{ description }}\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token punctuation\">/>\u003C/span>\u003C/span>\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>meta\u003C/span> \u003Cspan class=\"token attr-name\">name\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>viewport\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token attr-name\">content\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>width=device-width, initial-scale=1.0\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token punctuation\">/>\u003C/span>\u003C/span>\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>link\u003C/span> \u003Cspan class=\"token attr-name\">rel\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>stylesheet\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token attr-name\">href\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>/styles.css\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token punctuation\">/>\u003C/span>\u003C/span>\n  \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>head\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n  \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>body\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>h1\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>{{ title }}\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>h1\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n  \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>body\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>html\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>If you run Eleventy now, the \u003Ccode>_site\u003C/code> folder still contains only the \u003Ccode>index.html\u003C/code>, the CSS file is ignored.\nWe can fix this in several ways. One is to specify \u003Ccode>css\u003C/code> in the formats flag:\u003C/p>\n\u003Cpre class=\"language-bash\" data-language=\"bash\">\u003Ccode is:raw=\"\" class=\"language-bash\">eleventy-project$ npx @11ty/eleventy \u003Cspan class=\"token parameter variable\">--formats\u003C/span>\u003Cspan class=\"token operator\">=\u003C/span>html,css\nWriting _site/index.html from ./index.html.\nCopied \u003Cspan class=\"token number\">1\u003C/span> \u003Cspan class=\"token function\">file\u003C/span> / Wrote \u003Cspan class=\"token number\">1\u003C/span> \u003Cspan class=\"token function\">file\u003C/span> \u003Cspan class=\"token keyword\">in\u003C/span> \u003Cspan class=\"token number\">0.08\u003C/span> seconds \u003Cspan class=\"token punctuation\">(\u003C/span>v0.11.0\n\u003C/code>\u003C/pre>\n\u003Cp>Another way to solve this is to create an Eleventy configuration file and setup CSS handling there.\nSo let’s create a new file called \u003Ccode>.eleventy.js\u003C/code>. Notice the \u003Ccode>.\u003C/code> at the beginning.\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">module\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function-variable function\">exports\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token keyword\">function\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">eleventyConfig\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n  \u003Cspan class=\"token comment\">// copy css passthough\u003C/span>\n  eleventyConfig\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">addPassthroughCopy\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"styles.css\"\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>The above configuration will tell Eleventy to just copy \u003Ccode>styles.css\u003C/code> in the \u003Ccode>_site\u003C/code> folder.\nNow we can use the usual build command again.\u003C/p>\n\u003Cpre class=\"language-bash\" data-language=\"bash\">\u003Ccode is:raw=\"\" class=\"language-bash\">eleventy-project$ npx @11ty/eleventy\nWriting _site/index.html from ./index.html.\nCopied \u003Cspan class=\"token number\">1\u003C/span> \u003Cspan class=\"token function\">file\u003C/span> / Wrote \u003Cspan class=\"token number\">1\u003C/span> \u003Cspan class=\"token function\">file\u003C/span> \u003Cspan class=\"token keyword\">in\u003C/span> \u003Cspan class=\"token number\">0.08\u003C/span> seconds \u003Cspan class=\"token punctuation\">(\u003C/span>v0.11.0\n\u003C/code>\u003C/pre>\n\u003Ch2 id=\"templates\">Templates\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#templates\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>As I’ve mentioned, the power of a static site generator is using templates.\u003C/p>\n\u003Cp>Let’s create a new folder called \u003Ccode>_includes\u003C/code> and a \u003Ccode>base.njk\u003C/code> file inside it.\nOur project structure should look like this:\u003C/p>\n\u003Cpre class=\"language-plaintext\" data-language=\"plaintext\">\u003Ccode is:raw=\"\" class=\"language-plaintext\">📁eleventy-project/\n    📁_includes/\n        base.njk\n    📁_site\n    📁node_modules\n    .eleventy.js\n    index.html\n    package.json\n    package-lock.json\n    styles.css\n\u003C/code>\u003C/pre>\n\u003Cp>Base.njk is a file that uses the \u003Ca href=\"https://mozilla.github.io/nunjucks/\">nunjacks templating language.\u003C/a>,\nhence the \u003Ccode>.njk\u003C/code> extension.\u003C/p>\n\u003Cp>This file will be the main template for all our pages, and has the following content:\u003C/p>\n\u003Cpre class=\"language-html\" data-language=\"html\">\u003Ccode is:raw=\"\" class=\"language-html\">\u003Cspan class=\"token doctype\">\u003Cspan class=\"token punctuation\">&#x3C;!\u003C/span>\u003Cspan class=\"token doctype-tag\">DOCTYPE\u003C/span> \u003Cspan class=\"token name\">html\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>html\u003C/span> \u003Cspan class=\"token attr-name\">lang\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>en\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n  \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>head\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>meta\u003C/span> \u003Cspan class=\"token attr-name\">charset\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>UTF-8\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token punctuation\">/>\u003C/span>\u003C/span>\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>title\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>{{ title }}\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>title\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>meta\u003C/span> \u003Cspan class=\"token attr-name\">name\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>description\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token attr-name\">content\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>{{ description }}\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token punctuation\">/>\u003C/span>\u003C/span>\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>meta\u003C/span> \u003Cspan class=\"token attr-name\">name\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>viewport\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token attr-name\">content\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>width=device-width, initial-scale=1.0\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token punctuation\">/>\u003C/span>\u003C/span>\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>link\u003C/span> \u003Cspan class=\"token attr-name\">rel\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>stylesheet\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token attr-name\">href\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>/styles.css\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token punctuation\">/>\u003C/span>\u003C/span>\n  \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>head\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n  \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>body\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>header\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n      \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>a\u003C/span> \u003Cspan class=\"token attr-name\">href\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>/\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>Hey, I'm Joe Doe\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>a\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n      \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>nav\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n        \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>ul\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n          \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>li\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n            \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>a\u003C/span> \u003Cspan class=\"token attr-name\">href\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>/about/\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>About\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>a\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n          \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>li\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n          \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>li\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n            \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>a\u003C/span> \u003Cspan class=\"token attr-name\">href\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>/work/\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>Work\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>a\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n          \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>li\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n        \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>ul\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n      \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>nav\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>header\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n    {{ content | safe }}\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>footer\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\u003Cspan class=\"token entity named-entity\" title=\"©\">&#x26;copy;\u003C/span> 2020 Jon Doe\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>footer\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n  \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>body\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>html\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>We set up the basic HTML for all the pages:\u003C/p>\n\u003Cul>\n\u003Cli>head with metadata\u003C/li>\n\u003Cli>body with a header and a footer displayed on all pages\u003C/li>\n\u003Cli>a spot where the pages will insert their own content, with \u003Ccode>{{ content }}\u003C/code>, a special\nvariable\u003C/li>\n\u003Cli>the footer\u003C/li>\n\u003C/ul>\n\u003Cp>What might be a bit strange here is that the template uses \u003Ccode>{{ title }}\u003C/code> and \u003Ccode>{{ description }}\u003C/code>\nbut these are not defined in the front matter, so the question is how base.njk has them?\nWell, it turns out that if a page that uses this template defines title and description,\nthe layout has access to them.\u003C/p>\n\u003Cp>We specified the spot where a page will insert its content using \u003Ccode>{{ content | safe }}\u003C/code>.\n\u003Ccode>{{ content }}\u003C/code> is the page-specific content, and \u003Ccode>| safe\u003C/code> is a filter.\u003C/p>\n\u003Cp>Eleventy supports by default the njk templates, but just to be sure, we can specify that in\nthe configuration, along with other types of content we use:\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">module\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function-variable function\">exports\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token keyword\">function\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">eleventyConfig\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n  \u003Cspan class=\"token comment\">// copy css passthough\u003C/span>\n  eleventyConfig\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">addPassthroughCopy\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"styles.css\"\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n  \u003Cspan class=\"token keyword\">return\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n    \u003Cspan class=\"token literal-property property\">markdownTemplateEngine\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token string\">\"njk\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n    \u003Cspan class=\"token literal-property property\">templateFormats\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>\u003Cspan class=\"token string\">\"html\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token string\">\"njk\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token string\">\"md\"\u003C/span>\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n  \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>Now that we have the template, let’s modify index.html to use it:\u003C/p>\n\u003Cpre class=\"language-html\" data-language=\"html\">\u003Ccode is:raw=\"\" class=\"language-html\">---\nlayout: base.njk\ntitle: 11ty website\ndescription: Created using 11ty\n---\n\n\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>h1\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>{{ title }}\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>h1\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>We make index.html use the base.njk layout by setting the \u003Ccode>layout\u003C/code> front matter.\nAlso notice that we still declare the \u003Ccode>title\u003C/code> and \u003Ccode>description\u003C/code> here, because the\nvalues are specific to this particular page and because we use the base.njk layout,\nthe values are available to base.njk.\u003C/p>\n\u003Cp>We can create two new pages, About and Work, let’s use Markdown for them:\u003C/p>\n\u003Cp>about.md\u003C/p>\n\u003Cpre class=\"language-html\" data-language=\"html\">\u003Ccode is:raw=\"\" class=\"language-html\">---\nlayout: base.njk\ntitle: About\ndescription: About me\n---\n\n# {{ title }} I'm a developer and designer living in New York. I love Eleventy,\nI do all my websites using it.\n\u003C/code>\u003C/pre>\n\u003Cp>work.md\u003C/p>\n\u003Cpre class=\"language-html\" data-language=\"html\">\u003Ccode is:raw=\"\" class=\"language-html\">---\nlayout: base.njk\ntitle: Work\ndescription: My work\n---\n\n# {{ title }} I've worked with many happy clients like * Levi's * Nike * etc.\n\u003C/code>\u003C/pre>\n\u003Cp>If you didn’t already, start the server and go to \u003Ca href=\"http://localhost:8080\">http://localhost:8080\u003C/a>:\u003C/p>\n\u003Cpre class=\"language-bash\" data-language=\"bash\">\u003Ccode is:raw=\"\" class=\"language-bash\">eleventy-project$ npx @11ty/eleventy \u003Cspan class=\"token parameter variable\">--serve\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Ch2 id=\"recap\">Recap\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#recap\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cul>\n\u003Cli>What is Eleventy and how to install it\u003C/li>\n\u003Cli>How to use data inside a page\u003C/li>\n\u003Cli>Basic configuration\u003C/li>\n\u003Cli>Using the same template in multiple pages\u003C/li>\n\u003C/ul>",{"headings":283,"imagePaths":302,"frontmatter":270},[284,287,290,293,296,299],{"depth":51,"slug":285,"text":286},"install-nodejs","Install node.js",{"depth":51,"slug":288,"text":289},"install-eleventy","Install Eleventy",{"depth":51,"slug":291,"text":292},"eleventy-basics","Eleventy basics",{"depth":51,"slug":294,"text":295},"eleventy-configuration-basics","Eleventy configuration basics",{"depth":51,"slug":297,"text":298},"templates","Templates",{"depth":51,"slug":300,"text":301},"recap","Recap",[],"eleventy-part-two",["Map",7,305],{"id":7,"data":306,"body":313,"filePath":314,"digest":315,"rendered":316,"legacyId":64},{"title":307,"pubDate":308,"description":309,"keywords":310,"twitterImage":311,"minutesRead":75,"excerpt":312},"Let's Learn Eleventy (11ty) - Collections",["Date","2020-09-03T00:00:00.000Z"],"This is the second part of the Let't Learn Eleventy series. We'll learn how to use collections.",[191,192],"https://www.raresportan.com/twitter-cards/let's-learn-eleventy-11ty---collections.png","This is the second part of Let’s Learn Eleventy series and will talk about collections.\nIn the first part we have seen:\n\nWhat is Eleventy an","This is the second part of _Let's Learn Eleventy_ series and will talk about collections.\nIn the [first part](/eleventy-part-one) we have seen:\n\n- What is Eleventy and how to install it\n- How to use data inside a page\n- Basic configuration\n- Using the same template in multiple pages\n\n## What is a collection in 11ty?\n\nA collection is a group of content pieces.\n\nFor example a blog has a posts collection, a landing page has a testimonials collection, a portfolio is a collection of showcases.\n\n### Tip\n\nBefore we begin, I want to share a debugging tip.\nIt can be very useful to have a way of inspecting the collections or an item from\na collection. Today, 11ty comes with a `dump` filter for this purpose but it doesn't work in some cases.\nWe need to overwrite it by creating our own `dump` filter inside the `.eleventy.js` config:\n\n```js\nconst util = require(\"util\");\n\nmodule.exports = function (eleventyConfig) {\n  //..\n\n  eleventyConfig.addFilter(\"dump\", (obj) => {\n    return util.inspect(obj);\n  });\n\n  // ...\n};\n```\n\nIn a page you can do:\n\n```markdown\n{% set items = [1, 2, 3] %}\n{{ items | dump }}\n\n{{ collection.portfolio | dump }}\n```\n\n## Group content with tags\n\nThe simplest way to create a collection is by setting the same tag to all the content pieces that must be in\nthe collection.\n\nIf you have a portfolio page where you want to show your work, create a folder called `portfolio` and create a\nmarkdown file for each of your portfolio item (it doesn't really matter where you put the files, but it's nice\nto organize the content a bit).\n\nrestaurant.md\n\n```markdown\n---\ntitle: Restaurant website\ndescription: Allow clients to make reservations online\ntags: portfolio\n---\n```\n\nshop.md\n\n```markdown\n---\ntitle: Shop website\ndescription: Local shop website, allowed them to survive during lockdown\ntags: portfolio\n---\n```\n\ntravel.md\n\n```markdown\n---\ntitle: Travel website\ndescription: Travel agency website, complex location search and recomandations\ntags: portfolio\n---\n```\n\nAll these files have a `tag` set to `portfolio` and because of this, 11ty will create a portfolio colletion with them.\n\nNow, on the page where you want to show them, e.g portfolio.md, you can do this:\n\nportfolio.md\n\n```markdown\n{%- for portfolio in collections.portfolio -%}\n\n  \u003Carticle>\n    \u003Cheader>{{ portfolio.data.title }}\u003C/header>\n    {{ portfolio.data.description }}    \n  \u003C/article>\n{%- endfor -%}\n```\n\nYou might wonder how the items are sorted. 11ty docs say that:\n\n> The default collection sorting algorithm sorts in ascending order using:\n\n- The input file’s Created Date (you can override using date in front matter)\n- Files created at the exact same time are tie-broken using the input file’s full path including filename\n\nSo the simplest way to make sure the items are sorted in the exact order you want, is to add `date`\nin each file frontmatter.\n\nrestaurant.md\n\n```markdown\n---\ntitle: Restaurant website\ndate: 2020-01-01\n---\n```\n\nshop.md\n\n```markdown\n---\ntitle: Shop website\ndate: 2020-01-03\n---\n```\n\ntravel.md\n\n```markdown\n---\ntitle: Travel website\ndate: 2020-01-02\n---\n```\n\nIf you want them reversed, you can add `reversed` next to collection name:\n\n```markdown\n{%- for portfolio in collections.portfolio reversed -%}\n\n\u003Carticle>\n  \u003Cheader>{{ portfolio.data.title }}\u003C/header>\n\u003C/article>\n{%- endfor -%}\n```\n\n### Multiple tags\n\nYou can use multiple tags with a single content and there are two ways to set it.\n\nSingle line:\n\n```markdown\ntags: ['portfolio', 'highlight']\n```\n\nMultiple lines:\n\n```markdown\ntags: - 'portfolio' - 'highlight'\n```\n\nNow the same piece of content, will be present in two different collections.\n\nPortfolio collection\n\n```markdown\n{%- for portfolio in collections.portfolio -%}\n\n  \u003Cheader>{{ portfolio.data.title }}\u003C/header>\n{%- endfor -%}\n```\n\nHighlight collection\n\n```markdown\n{%- for highlight in collections.highlight -%}\n\n  \u003Cheader>{{ highlight.data.title }}\u003C/header>\n{%- endfor -%}\n```\n\n### Exclude content from collection\n\nIf you want a piece of content to be excluded from a collection, use `eleventyExcludeFromCollections: true`\nin frontmatter. For example, to exclude restaurant item you can do:\n\nrestaurant.md\n\n```markdown\n---\neleventyExcludeFromCollections: true\ntitle: Restaurant website\ndescription: Allow clients to make reservations online\ntags: portfolio\n---\n```\n\nNow only the other two piece of content will be present in the portfolio collection.\n\n## Custom collections\n\n11ty puts all the content, with or withour tags, into the `collections.all` collection.\nThis way you have access to all the content by iterating over a single collection.\n\nWe can use the `collection.all` to create our own collections by filtering and/or sorting\nthis collections inside the 11ty configuration file, `.eleventy.js`\n\nWe could have created the portfolio collection without tags, by using the fact that\nthey are in the same folder, /portfolio:\n\n```js\nmodule.exports = function (eleventyConfig) {\n  eleventyConfig.addCollection(\"portfolio\", function (collectionApi) {\n    return collectionApi\n      .getAllSorted()\n      .filter((item) => item.url && item.inputPath.startsWith(\"./portfolio\"));\n  });\n};\n```\n\nHere is another example, how to create a collection with Top 3 highlights:\n\n```js\nmodule.exports = function (eleventyConfig) {\n  // ...\n\n  // collection with first top 3 portfolio highlights\n  eleventyConfig.addCollection(\"top3\", function (collectionApi) {\n    // get content with highlight tag\n    const highlights = collectionApi.getFilteredByTags(\"highlight\");\n    // return first 3\n    return highlights.slice(0, 3);\n  });\n};\n```\n\n## Global data\n\n11ty has a special folder where you can put global data, by default this folder is `_data` ( but\nyou can specify your own if you want in the .eleventy.js).\n\nThe global data can be objects or arrays. If an array is there, we can use it as a collection.\n\nSo another way to create the portfolio items is to create a `portfolio.json` inside the `_data` folder:\n\n```json\n[\n  {\n    \"title\": \"Restaurant website\",\n    \"description\": \"Allow clients to make reservations online\"\n  },\n  {\n    \"title\": \"Shop website\",\n    \"description\": \"Local shop website, allowed them to survive during lockdown\"\n  },\n  {\n    \"title\": \"Travel website\",\n    \"description\": \"Travel agency website, complex location search and recomandations\"\n  }\n]\n```\n\nInside a page we have access to `portfolio` data directly:\n\n```markdown\n{%- for item in portfolio -%}\n\n\u003Carticle>\n  \u003Cheader>{{ item.title }}\u003C/header>\n\u003C/article>\n{%- endfor -%}\n```\n\nTwo things to note here:\n\n- use `portfolio` not `collections.portfolio`\n- use `item.title` not `item.data.title`\n\n## Recap\n\n- Add tags to content and 11ty automatically creates collections\n- Create custom collections by filtering and/or sorting existing collections\n- Can use global data collections","src/content/eleventy-part-two/index.md","45c13957b534cea4",{"html":317,"metadata":318},"\u003Cp>This is the second part of \u003Cem>Let’s Learn Eleventy\u003C/em> series and will talk about collections.\nIn the \u003Ca href=\"/eleventy-part-one\">first part\u003C/a> we have seen:\u003C/p>\n\u003Cul>\n\u003Cli>What is Eleventy and how to install it\u003C/li>\n\u003Cli>How to use data inside a page\u003C/li>\n\u003Cli>Basic configuration\u003C/li>\n\u003Cli>Using the same template in multiple pages\u003C/li>\n\u003C/ul>\n\u003Ch2 id=\"what-is-a-collection-in-11ty\">What is a collection in 11ty?\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#what-is-a-collection-in-11ty\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>A collection is a group of content pieces.\u003C/p>\n\u003Cp>For example a blog has a posts collection, a landing page has a testimonials collection, a portfolio is a collection of showcases.\u003C/p>\n\u003Ch3 id=\"tip\">Tip\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#tip\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cp>Before we begin, I want to share a debugging tip.\nIt can be very useful to have a way of inspecting the collections or an item from\na collection. Today, 11ty comes with a \u003Ccode>dump\u003C/code> filter for this purpose but it doesn’t work in some cases.\nWe need to overwrite it by creating our own \u003Ccode>dump\u003C/code> filter inside the \u003Ccode>.eleventy.js\u003C/code> config:\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token keyword\">const\u003C/span> util \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token function\">require\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"util\"\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\nmodule\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function-variable function\">exports\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token keyword\">function\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">eleventyConfig\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n  \u003Cspan class=\"token comment\">//..\u003C/span>\n\n  eleventyConfig\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">addFilter\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"dump\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">obj\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n    \u003Cspan class=\"token keyword\">return\u003C/span> util\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">inspect\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>obj\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n  \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n  \u003Cspan class=\"token comment\">// ...\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>In a page you can do:\u003C/p>\n\u003Cpre class=\"language-markdown\" data-language=\"markdown\">\u003Ccode is:raw=\"\" class=\"language-markdown\">{% set items = [1, 2, 3] %}\n{{ items | dump }}\n\n{{ collection.portfolio | dump }}\n\u003C/code>\u003C/pre>\n\u003Ch2 id=\"group-content-with-tags\">Group content with tags\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#group-content-with-tags\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>The simplest way to create a collection is by setting the same tag to all the content pieces that must be in\nthe collection.\u003C/p>\n\u003Cp>If you have a portfolio page where you want to show your work, create a folder called \u003Ccode>portfolio\u003C/code> and create a\nmarkdown file for each of your portfolio item (it doesn’t really matter where you put the files, but it’s nice\nto organize the content a bit).\u003C/p>\n\u003Cp>restaurant.md\u003C/p>\n\u003Cpre class=\"language-markdown\" data-language=\"markdown\">\u003Ccode is:raw=\"\" class=\"language-markdown\">\u003Cspan class=\"token front-matter-block\">\u003Cspan class=\"token punctuation\">---\u003C/span>\n\u003Cspan class=\"token front-matter yaml language-yaml\">title: Restaurant website\ndescription: Allow clients to make reservations online\ntags: portfolio\u003C/span>\n\u003Cspan class=\"token punctuation\">---\u003C/span>\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>shop.md\u003C/p>\n\u003Cpre class=\"language-markdown\" data-language=\"markdown\">\u003Ccode is:raw=\"\" class=\"language-markdown\">\u003Cspan class=\"token front-matter-block\">\u003Cspan class=\"token punctuation\">---\u003C/span>\n\u003Cspan class=\"token front-matter yaml language-yaml\">title: Shop website\ndescription: Local shop website, allowed them to survive during lockdown\ntags: portfolio\u003C/span>\n\u003Cspan class=\"token punctuation\">---\u003C/span>\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>travel.md\u003C/p>\n\u003Cpre class=\"language-markdown\" data-language=\"markdown\">\u003Ccode is:raw=\"\" class=\"language-markdown\">\u003Cspan class=\"token front-matter-block\">\u003Cspan class=\"token punctuation\">---\u003C/span>\n\u003Cspan class=\"token front-matter yaml language-yaml\">title: Travel website\ndescription: Travel agency website, complex location search and recomandations\ntags: portfolio\u003C/span>\n\u003Cspan class=\"token punctuation\">---\u003C/span>\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>All these files have a \u003Ccode>tag\u003C/code> set to \u003Ccode>portfolio\u003C/code> and because of this, 11ty will create a portfolio colletion with them.\u003C/p>\n\u003Cp>Now, on the page where you want to show them, e.g portfolio.md, you can do this:\u003C/p>\n\u003Cp>portfolio.md\u003C/p>\n\u003Cpre class=\"language-markdown\" data-language=\"markdown\">\u003Ccode is:raw=\"\" class=\"language-markdown\">{%- for portfolio in collections.portfolio -%}\n\n  \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>article\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>header\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>{{ portfolio.data.title }}\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>header\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n    {{ portfolio.data.description }}    \n  \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>article\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n{%- endfor -%}\n\u003C/code>\u003C/pre>\n\u003Cp>You might wonder how the items are sorted. 11ty docs say that:\u003C/p>\n\u003Cblockquote>\n\u003Cp>The default collection sorting algorithm sorts in ascending order using:\u003C/p>\n\u003C/blockquote>\n\u003Cul>\n\u003Cli>The input file’s Created Date (you can override using date in front matter)\u003C/li>\n\u003Cli>Files created at the exact same time are tie-broken using the input file’s full path including filename\u003C/li>\n\u003C/ul>\n\u003Cp>So the simplest way to make sure the items are sorted in the exact order you want, is to add \u003Ccode>date\u003C/code>\nin each file frontmatter.\u003C/p>\n\u003Cp>restaurant.md\u003C/p>\n\u003Cpre class=\"language-markdown\" data-language=\"markdown\">\u003Ccode is:raw=\"\" class=\"language-markdown\">\u003Cspan class=\"token front-matter-block\">\u003Cspan class=\"token punctuation\">---\u003C/span>\n\u003Cspan class=\"token front-matter yaml language-yaml\">title: Restaurant website\ndate: 2020-01-01\u003C/span>\n\u003Cspan class=\"token punctuation\">---\u003C/span>\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>shop.md\u003C/p>\n\u003Cpre class=\"language-markdown\" data-language=\"markdown\">\u003Ccode is:raw=\"\" class=\"language-markdown\">\u003Cspan class=\"token front-matter-block\">\u003Cspan class=\"token punctuation\">---\u003C/span>\n\u003Cspan class=\"token front-matter yaml language-yaml\">title: Shop website\ndate: 2020-01-03\u003C/span>\n\u003Cspan class=\"token punctuation\">---\u003C/span>\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>travel.md\u003C/p>\n\u003Cpre class=\"language-markdown\" data-language=\"markdown\">\u003Ccode is:raw=\"\" class=\"language-markdown\">\u003Cspan class=\"token front-matter-block\">\u003Cspan class=\"token punctuation\">---\u003C/span>\n\u003Cspan class=\"token front-matter yaml language-yaml\">title: Travel website\ndate: 2020-01-02\u003C/span>\n\u003Cspan class=\"token punctuation\">---\u003C/span>\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>If you want them reversed, you can add \u003Ccode>reversed\u003C/code> next to collection name:\u003C/p>\n\u003Cpre class=\"language-markdown\" data-language=\"markdown\">\u003Ccode is:raw=\"\" class=\"language-markdown\">{%- for portfolio in collections.portfolio reversed -%}\n\n\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>article\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n  \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>header\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>{{ portfolio.data.title }}\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>header\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>article\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n{%- endfor -%}\n\u003C/code>\u003C/pre>\n\u003Ch3 id=\"multiple-tags\">Multiple tags\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#multiple-tags\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cp>You can use multiple tags with a single content and there are two ways to set it.\u003C/p>\n\u003Cp>Single line:\u003C/p>\n\u003Cpre class=\"language-markdown\" data-language=\"markdown\">\u003Ccode is:raw=\"\" class=\"language-markdown\">tags: ['portfolio', 'highlight']\n\u003C/code>\u003C/pre>\n\u003Cp>Multiple lines:\u003C/p>\n\u003Cpre class=\"language-markdown\" data-language=\"markdown\">\u003Ccode is:raw=\"\" class=\"language-markdown\">tags: - 'portfolio' - 'highlight'\n\u003C/code>\u003C/pre>\n\u003Cp>Now the same piece of content, will be present in two different collections.\u003C/p>\n\u003Cp>Portfolio collection\u003C/p>\n\u003Cpre class=\"language-markdown\" data-language=\"markdown\">\u003Ccode is:raw=\"\" class=\"language-markdown\">{%- for portfolio in collections.portfolio -%}\n\n  \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>header\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>{{ portfolio.data.title }}\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>header\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n{%- endfor -%}\n\u003C/code>\u003C/pre>\n\u003Cp>Highlight collection\u003C/p>\n\u003Cpre class=\"language-markdown\" data-language=\"markdown\">\u003Ccode is:raw=\"\" class=\"language-markdown\">{%- for highlight in collections.highlight -%}\n\n  \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>header\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>{{ highlight.data.title }}\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>header\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n{%- endfor -%}\n\u003C/code>\u003C/pre>\n\u003Ch3 id=\"exclude-content-from-collection\">Exclude content from collection\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#exclude-content-from-collection\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cp>If you want a piece of content to be excluded from a collection, use \u003Ccode>eleventyExcludeFromCollections: true\u003C/code>\nin frontmatter. For example, to exclude restaurant item you can do:\u003C/p>\n\u003Cp>restaurant.md\u003C/p>\n\u003Cpre class=\"language-markdown\" data-language=\"markdown\">\u003Ccode is:raw=\"\" class=\"language-markdown\">\u003Cspan class=\"token front-matter-block\">\u003Cspan class=\"token punctuation\">---\u003C/span>\n\u003Cspan class=\"token front-matter yaml language-yaml\">eleventyExcludeFromCollections: true\ntitle: Restaurant website\ndescription: Allow clients to make reservations online\ntags: portfolio\u003C/span>\n\u003Cspan class=\"token punctuation\">---\u003C/span>\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>Now only the other two piece of content will be present in the portfolio collection.\u003C/p>\n\u003Ch2 id=\"custom-collections\">Custom collections\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#custom-collections\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>11ty puts all the content, with or withour tags, into the \u003Ccode>collections.all\u003C/code> collection.\nThis way you have access to all the content by iterating over a single collection.\u003C/p>\n\u003Cp>We can use the \u003Ccode>collection.all\u003C/code> to create our own collections by filtering and/or sorting\nthis collections inside the 11ty configuration file, \u003Ccode>.eleventy.js\u003C/code>\u003C/p>\n\u003Cp>We could have created the portfolio collection without tags, by using the fact that\nthey are in the same folder, /portfolio:\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">module\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function-variable function\">exports\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token keyword\">function\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">eleventyConfig\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n  eleventyConfig\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">addCollection\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"portfolio\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token keyword\">function\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">collectionApi\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n    \u003Cspan class=\"token keyword\">return\u003C/span> collectionApi\n      \u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">getAllSorted\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\n      \u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">filter\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">item\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> item\u003Cspan class=\"token punctuation\">.\u003C/span>url \u003Cspan class=\"token operator\">&#x26;&#x26;\u003C/span> item\u003Cspan class=\"token punctuation\">.\u003C/span>inputPath\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">startsWith\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"./portfolio\"\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n  \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>Here is another example, how to create a collection with Top 3 highlights:\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">module\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function-variable function\">exports\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token keyword\">function\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">eleventyConfig\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n  \u003Cspan class=\"token comment\">// ...\u003C/span>\n\n  \u003Cspan class=\"token comment\">// collection with first top 3 portfolio highlights\u003C/span>\n  eleventyConfig\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">addCollection\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"top3\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token keyword\">function\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">collectionApi\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n    \u003Cspan class=\"token comment\">// get content with highlight tag\u003C/span>\n    \u003Cspan class=\"token keyword\">const\u003C/span> highlights \u003Cspan class=\"token operator\">=\u003C/span> collectionApi\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">getFilteredByTags\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"highlight\"\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n    \u003Cspan class=\"token comment\">// return first 3\u003C/span>\n    \u003Cspan class=\"token keyword\">return\u003C/span> highlights\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">slice\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token number\">0\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token number\">3\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n  \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Ch2 id=\"global-data\">Global data\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#global-data\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>11ty has a special folder where you can put global data, by default this folder is \u003Ccode>_data\u003C/code> ( but\nyou can specify your own if you want in the .eleventy.js).\u003C/p>\n\u003Cp>The global data can be objects or arrays. If an array is there, we can use it as a collection.\u003C/p>\n\u003Cp>So another way to create the portfolio items is to create a \u003Ccode>portfolio.json\u003C/code> inside the \u003Ccode>_data\u003C/code> folder:\u003C/p>\n\u003Cpre class=\"language-json\" data-language=\"json\">\u003Ccode is:raw=\"\" class=\"language-json\">\u003Cspan class=\"token punctuation\">[\u003C/span>\n  \u003Cspan class=\"token punctuation\">{\u003C/span>\n    \u003Cspan class=\"token property\">\"title\"\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token string\">\"Restaurant website\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n    \u003Cspan class=\"token property\">\"description\"\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token string\">\"Allow clients to make reservations online\"\u003C/span>\n  \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n  \u003Cspan class=\"token punctuation\">{\u003C/span>\n    \u003Cspan class=\"token property\">\"title\"\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token string\">\"Shop website\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n    \u003Cspan class=\"token property\">\"description\"\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token string\">\"Local shop website, allowed them to survive during lockdown\"\u003C/span>\n  \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n  \u003Cspan class=\"token punctuation\">{\u003C/span>\n    \u003Cspan class=\"token property\">\"title\"\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token string\">\"Travel website\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n    \u003Cspan class=\"token property\">\"description\"\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token string\">\"Travel agency website, complex location search and recomandations\"\u003C/span>\n  \u003Cspan class=\"token punctuation\">}\u003C/span>\n\u003Cspan class=\"token punctuation\">]\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>Inside a page we have access to \u003Ccode>portfolio\u003C/code> data directly:\u003C/p>\n\u003Cpre class=\"language-markdown\" data-language=\"markdown\">\u003Ccode is:raw=\"\" class=\"language-markdown\">{%- for item in portfolio -%}\n\n\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>article\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n  \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>header\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>{{ item.title }}\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>header\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>article\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n{%- endfor -%}\n\u003C/code>\u003C/pre>\n\u003Cp>Two things to note here:\u003C/p>\n\u003Cul>\n\u003Cli>use \u003Ccode>portfolio\u003C/code> not \u003Ccode>collections.portfolio\u003C/code>\u003C/li>\n\u003Cli>use \u003Ccode>item.title\u003C/code> not \u003Ccode>item.data.title\u003C/code>\u003C/li>\n\u003C/ul>\n\u003Ch2 id=\"recap\">Recap\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#recap\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cul>\n\u003Cli>Add tags to content and 11ty automatically creates collections\u003C/li>\n\u003Cli>Create custom collections by filtering and/or sorting existing collections\u003C/li>\n\u003Cli>Can use global data collections\u003C/li>\n\u003C/ul>",{"headings":319,"imagePaths":342,"frontmatter":306},[320,323,326,329,332,335,338,341],{"depth":51,"slug":321,"text":322},"what-is-a-collection-in-11ty","What is a collection in 11ty?",{"depth":88,"slug":324,"text":325},"tip","Tip",{"depth":51,"slug":327,"text":328},"group-content-with-tags","Group content with tags",{"depth":88,"slug":330,"text":331},"multiple-tags","Multiple tags",{"depth":88,"slug":333,"text":334},"exclude-content-from-collection","Exclude content from collection",{"depth":51,"slug":336,"text":337},"custom-collections","Custom collections",{"depth":51,"slug":339,"text":340},"global-data","Global data",{"depth":51,"slug":300,"text":301},[],"eleventy-part-three",["Map",7,345],{"id":7,"data":346,"body":354,"filePath":355,"digest":356,"rendered":357,"legacyId":64},{"title":347,"pubDate":348,"description":349,"keywords":350,"twitterImage":351,"minutesRead":352,"excerpt":353},"Let's Learn Eleventy (11ty) - Slots, includes and shortcodes",["Date","2020-10-21T00:00:00.000Z"],"This is the third part of the Let't Learn Eleventy series. We'll learn how to use slots, includes and shortcodes.",[191,192],"https://www.raresportan.com/twitter-cards/let's-learn-eleventy-11ty---slots-includes-and-shortcodes.png","8 min read","In the first part and the second part parts we have seen:\n\nWhat is Eleventy and how to install it\nHow to use data inside a page\nBasic config","In the [first part](/eleventy-part-one) and the [second part](/eleventy-part-two) parts we have seen:\n\n- What is Eleventy and how to install it\n- How to use data inside a page\n- Basic configuration\n- Using the same template in multiple pages\n- How to use collections\n\nThis is the third part of the _Let's Learn Eleventy_ series and will talk slots, includes, and shortcodes, or how to create components in Eleventy.\n\n## Components in Eleventy\n\n_Problem:_ All modern JS frameworks like React, Vue, Angular are component based frameworks. A web page created with these frameworks is a tree of components.\n\nEleventy is not component based. Looks layer based to me, an Eleventy web page is a layer on top of another layer on top of another layer, and so on.\n\nFor example, usually, there is a _base_ layout with the `html`, `head`, and `body` tags and which renders the header and footer (the same on all pages). Then we have a _home_ layout that extends the _base_ layout for the index page, a _post_ layout for a blog post, and so on.\n\nIt was really hard for me, to switch my mental model of thinking in components to something else and I think this is one of the primary reasons Eleventy looks strange to React & Co people like myself.\n\nBut not all hope is lost, there are some ways to use component like structures in Eleventy. Let's see what they are.\n_(Note: I'm still learning Eleventy so there might be other ways, or some other ways will be added in the future - when I wrote this Eleventy was at v0.11.0)_\n\n## Blocks\n\nYou can think of blocks as slots, as places in your layout (template) where you allow content to be inserted by pages\nusing the layout or by layouts that extend the layout.\n\nHere is an example, a `base.njk` layout:\n\n```html\n\u003C!DOCTYPE html>\n\u003Chtml lang=\"en\" class=\"no-js\">\n  \u003Chead>\n    \u003Cmeta charset=\"UTF-8\" />\n    \u003Cmeta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n    \u003Cmeta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\" />\n    {% block head %} {% endblock %}\n  \u003C/head>\n  \u003Cbody>\n    {% block content %} {% endblock content %}\n  \u003C/body>\n\u003C/html>\n```\n\nThe `head` block allows content to be added to the head.\nThe `content` block allows content to be added to the body.\n\nPages can now add some critical CSS in the `head` and the content in the `body`\n\n```html\n---\ntitle: \"Homepage\"\n---\n\n{% extends 'layouts/base.njk' %} {% block head %}\n\u003Cstyle>\n  html,\n  body {\n    margin: 0;\n    padding: 0;\n    font-size: 1rem;\n    min-height: 100vh;\n    color: #fff;\n    background-color: #222;\n  }\n\u003C/style>\n{% endblock %} {% block content %}\n\u003Cmain id=\"main-content\">...\u003C/main>\n{% endblock %}\n```\n\n### Pros\n\nVery useful when you create several layouts, a base one, and then more specific ones,\nso you have an hierarchy of layouts.\n\nLike the base layout adds the `html`, `head`, and `body` tags,\nthe next layout adds the `nav`, `main`, and `footer`, the third layout add other context specific tags to the main page, or a blog post page.\n\n### Cons\n\nYou need to add a new block for each page, so you end up will too many blocks, some used\non some pages and some used only on other pages. Things get confusing.\n\nThe block position is fixed so you cannot inject content dynamically in different places.\n\n## Includes\n\nYou can split the page content into several smaller files (very similar to React/Vue/Angular components) and\nthen include those files in the proper places.\n\nFor example, you can have a `navigation.njk` that renders the site navigation, and even better it can\nrender different navigation items for different pages:\n\n```html\n{% if navigation.items %}\n\u003Cnav class=\"nav\">\n  \u003Cul>\n    {% for item in navigation.items %}\n    \u003Cli class=\"nav-item\">\u003Ca href=\"{{ item.url }}\">{{ item.label }}\u003C/a>\u003C/li>\n    {% endfor %}\n  \u003C/ul>\n\u003C/nav>\n{% endif %}\n```\n\nAnd you used it by _including_ it in a site header component:\n\n```html\n\u003Cheader role=\"banner\">\n  \u003Ca href=\"/\">\n    \u003Cimg src=\"logo.svg\" alt=\"My logo\" />\n  \u003C/a>\n  {% include \"components/nav.njk\" %}\n\u003C/header>\n```\n\n_Note:_ the path to include must be relative to `_includes` folder (e.g. `_includes/components/nav.njk`) not\nrelative to the file that includes `nav.njk`!\n\nWhat that does is it simply takes the content of `nav.njk` and inserts its content in the header,\nlike there was a single file from the beginning:\n\n```html\n\u003Cheader role=\"banner\">\n  \u003Ca href=\"/\">\n    \u003Cimg src=\"logo.svg\" width=\"50px\" height=\"50px\" alt=\"My logo\" />\n  \u003C/a>\n  {% if navigation.items %}\n  \u003Cnav class=\"nav\">\n    \u003Cul>\n      {% for item in navigation.items %}\n      \u003Cli class=\"nav-item\">\u003Ca href=\"{{ item.url }}\">{{ item.label }}\u003C/a>\u003C/li>\n      {% endfor %}\n    \u003C/ul>\n  \u003C/nav>\n  {% endif %}\n\u003C/header>\n```\n\nOf course, you can then use the `header.njk` in the `base.njk` layout or somewhere else:\n\n```html\n\u003C!DOCTYPE html>\n\u003Chtml lang=\"en\" class=\"no-js\">\n  \u003Chead>\n    \u003Cmeta charset=\"UTF-8\" />\n    \u003Cmeta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n    \u003Cmeta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\" />\n    {% block head %} {% endblock %}\n  \u003C/head>\n  \u003Cbody>\n    {% include \"components/header.njk\" %} {% block content %} {% endblock\n    content %} {% include \"components/footer.njk\" %}\n  \u003C/body>\n\u003C/html>\n```\n\n### Pros\n\nConceptually, includes are very similar to components, they allow us to split and organize the code in small, independent pieces.\n\n### Cons\n\nYou cannot parametrize them, they can use only data available on the page (so for example you cannot include the same file twice to do different things.)\n\nYou cannot have nested content.\n\n## Filters\n\nA filter is a (pure) function that modifies some content. While the purpose of filters is usually to provide some utility functionality,\nnothing stops you from creating a full component markup from a filter.\n\nFirst, you need to create the filter's function:\n\n```js\nmodule.exports = function dateFormatFilter(dateString) {\n  const options = { year: \"numeric\", month: \"long\", day: \"2-digit\" };\n  const date = new Date(dateString);\n  try {\n    return date.toLocaleDateString(\"default\", options);\n  } catch (err) {\n    // handle IE 11\n    return date.toLocaleDateString();\n  }\n};\n```\n\nNow you need to register the filter with Eleventy, in the configuration file, `.eleventy.js`:\n\n```js\nconst dateFormatFilter = require('./\u003Cpath-to-file>/date-format-filter.js');\n\nmodule.exports = function(eleventyConfig) {\n  ...\n\n  // Note that we register the filter under \"dateFormat\"\n  eleventyConfig.addFilter(\"dateFormat\", dateFormatFilter);\n\n  ...\n};\n```\n\nFinally, you can use the filter in a layout or page, with the pipe `|` symbol followed by the filter name:\n\n```html\n{% post.date | dateFormat %}\n```\n\nAs said, nothing stops us from using filters to create content like this:\n\n```js\nmodule.exports = function greeting(name) {\n  return `\n        \u003Csection>\n            \u003Cheader>Hey ${name}!\u003Cheader>\n            Welcome to our fabulous website.\n        \u003C/section\n    `;\n};\n```\n\nThen, after registering it with Eleventy:\n\n```html\n{% user.name | greeting %}\n```\n\n### Pros\n\nFilters are a great way to add small utility functions to format dates, encode URLs, minify CSS, etc.\nEleventy provides some built-in filters: [url](https://www.11ty.dev/docs/filters/url/),\n[slug](https://www.11ty.dev/docs/filters/slug/), [log](https://www.11ty.dev/docs/filters/log/), and\n[get\\*CollectionItem](https://www.11ty.dev/docs/filters/collection-items/).\n\nThey are reusable, you can use the same filter as many times as you want in a single page, each instance\ncan take different arguments.\n\nYou can write them in JavaScript.\n\n### Cons\n\nI wouldn't use filters to create components. The other options are better for that.\n\nYou cannot have nested content.\n\n## Shortcodes\n\nShortcodes are a way to extend the vocabulary of the template language, to teach the old template engine new tricks :)\nUsing shortcodes we can again extract reusable chunks of code in separate components.\n\nJust as filters, we first create a function:\n\n```js\nmodule.exports = function card(title, text, cta, link, type) {\n  return `\n        \u003Carticle class=\"card ${type}\">\n          \u003Cheader>${title}\u003Cheader>\n          ${text}\n          \u003Cfooter>\n            \u003Ca href=\"${link}\">${cta}\u003C/a>\n          \u003C/footer>\n        \u003C/article>\n  `;\n};\n```\n\nThen we need to register the function with Eleventy in `eleventy.js`:\n\n```js\nconst card = require('./\u003Cpath-to-file>/card.js');\n\nmodule.exports = function(eleventyConfig) {\n  ...\n  eleventyConfig.addShortcode(\"card\", card);\n  ...\n};\n```\n\nThen use it by specifying \"card\" then the list of parameters, separated by `,`:\n\n```html\n{% card \"Webdesign\", \"Our webdesign services...\", \"See examples\",\n\"/portfolio/webdesign\" %}\n```\n\nAnother, more powerful type of shortcodes are the \"paired\" shortcodes, meaning they have an open and close tag:\n\n```\n{% card \"title\", \"cta\", \"link\" %}\n\nHere goes the card content\n\n{% endcard %}\n```\n\nIn this case, the implementation is a bit different:\n\n```js\n// First argument is the content between the open and close tags\nmodule.exports = function card(content, title, cta, link, type) {\n  return `\n        \u003Carticle class=\"card ${type}\">\n          \u003Cheader>${title}\u003Cheader>\n          ${content}\n          \u003Cfooter>\n            \u003Ca href=\"${link}\">${cta}\u003C/a>\n          \u003C/footer>\n        \u003C/article>\n  `;\n};\n```\n\nAlso, you need to register these types of shortcodes differently with Eleventy, using `addPairedShortcode` instead of `addShortcode`\n\n```js\nconst card = require('./\u003Cpath-to-file>/card.js');\n\nmodule.exports = function(eleventyConfig) {\n  ...\n  eleventyConfig.addPairedShortcode(\"card\", card);\n  ...\n};\n```\n\n### Pros\n\nThey can have parameters, so you can use on the same page multiple times the same shortcode to do different things.\nAnd you can write them in JavaScript :)\n\nThis is the most powerful option to create components, they can have nested content.\n\n### Cons\n\nWhile the most powerful, this option is also the hardest to get right.\n\n## Resources\n\nFor more info, you can check the [11ty docs](https://www.11ty.dev/docs/).\n\nBut I recommend you to check how blocks, includes, filters, and shortcodes are used in real life.\nSearch for `{% block`, `{% include`, `.addFilter` and `.addShortcode` in the following repos:\n\n- [eleventy-base-blog](https://github.com/11ty/eleventy-base-blog)\n- [eleventy-high-performance-blog](https://github.com/google/eleventy-high-performance-blog)\n- [11ty-contentful-starter](https://github.com/contentful/11ty-contentful-starter)\n- [personal-site-hylia](https://github.com/hankchizljaw/personal-site-hylia)\n\nSadly I couldn't find good examples of real-life usage of `.addPairedShortcode`, please let me know if you know any.","src/content/eleventy-part-three/index.md","37c2c79626642639",{"html":358,"metadata":359},"\u003Cp>In the \u003Ca href=\"/eleventy-part-one\">first part\u003C/a> and the \u003Ca href=\"/eleventy-part-two\">second part\u003C/a> parts we have seen:\u003C/p>\n\u003Cul>\n\u003Cli>What is Eleventy and how to install it\u003C/li>\n\u003Cli>How to use data inside a page\u003C/li>\n\u003Cli>Basic configuration\u003C/li>\n\u003Cli>Using the same template in multiple pages\u003C/li>\n\u003Cli>How to use collections\u003C/li>\n\u003C/ul>\n\u003Cp>This is the third part of the \u003Cem>Let’s Learn Eleventy\u003C/em> series and will talk slots, includes, and shortcodes, or how to create components in Eleventy.\u003C/p>\n\u003Ch2 id=\"components-in-eleventy\">Components in Eleventy\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#components-in-eleventy\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>\u003Cem>Problem:\u003C/em> All modern JS frameworks like React, Vue, Angular are component based frameworks. A web page created with these frameworks is a tree of components.\u003C/p>\n\u003Cp>Eleventy is not component based. Looks layer based to me, an Eleventy web page is a layer on top of another layer on top of another layer, and so on.\u003C/p>\n\u003Cp>For example, usually, there is a \u003Cem>base\u003C/em> layout with the \u003Ccode>html\u003C/code>, \u003Ccode>head\u003C/code>, and \u003Ccode>body\u003C/code> tags and which renders the header and footer (the same on all pages). Then we have a \u003Cem>home\u003C/em> layout that extends the \u003Cem>base\u003C/em> layout for the index page, a \u003Cem>post\u003C/em> layout for a blog post, and so on.\u003C/p>\n\u003Cp>It was really hard for me, to switch my mental model of thinking in components to something else and I think this is one of the primary reasons Eleventy looks strange to React &#x26; Co people like myself.\u003C/p>\n\u003Cp>But not all hope is lost, there are some ways to use component like structures in Eleventy. Let’s see what they are.\n\u003Cem>(Note: I’m still learning Eleventy so there might be other ways, or some other ways will be added in the future - when I wrote this Eleventy was at v0.11.0)\u003C/em>\u003C/p>\n\u003Ch2 id=\"blocks\">Blocks\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#blocks\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>You can think of blocks as slots, as places in your layout (template) where you allow content to be inserted by pages\nusing the layout or by layouts that extend the layout.\u003C/p>\n\u003Cp>Here is an example, a \u003Ccode>base.njk\u003C/code> layout:\u003C/p>\n\u003Cpre class=\"language-html\" data-language=\"html\">\u003Ccode is:raw=\"\" class=\"language-html\">\u003Cspan class=\"token doctype\">\u003Cspan class=\"token punctuation\">&#x3C;!\u003C/span>\u003Cspan class=\"token doctype-tag\">DOCTYPE\u003C/span> \u003Cspan class=\"token name\">html\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>html\u003C/span> \u003Cspan class=\"token attr-name\">lang\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>en\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token attr-name\">class\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>no-js\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n  \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>head\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>meta\u003C/span> \u003Cspan class=\"token attr-name\">charset\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>UTF-8\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token punctuation\">/>\u003C/span>\u003C/span>\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>meta\u003C/span> \u003Cspan class=\"token attr-name\">name\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>viewport\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token attr-name\">content\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>width=device-width, initial-scale=1.0\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token punctuation\">/>\u003C/span>\u003C/span>\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>meta\u003C/span> \u003Cspan class=\"token attr-name\">http-equiv\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>X-UA-Compatible\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token attr-name\">content\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>ie=edge\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token punctuation\">/>\u003C/span>\u003C/span>\n    {% block head %} {% endblock %}\n  \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>head\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n  \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>body\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n    {% block content %} {% endblock content %}\n  \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>body\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>html\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>The \u003Ccode>head\u003C/code> block allows content to be added to the head.\nThe \u003Ccode>content\u003C/code> block allows content to be added to the body.\u003C/p>\n\u003Cp>Pages can now add some critical CSS in the \u003Ccode>head\u003C/code> and the content in the \u003Ccode>body\u003C/code>\u003C/p>\n\u003Cpre class=\"language-html\" data-language=\"html\">\u003Ccode is:raw=\"\" class=\"language-html\">---\ntitle: \"Homepage\"\n---\n\n{% extends 'layouts/base.njk' %} {% block head %}\n\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>style\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\u003Cspan class=\"token style\">\u003Cspan class=\"token language-css\">\n  \u003Cspan class=\"token selector\">html,\n  body\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n    \u003Cspan class=\"token property\">margin\u003C/span>\u003Cspan class=\"token punctuation\">:\u003C/span> 0\u003Cspan class=\"token punctuation\">;\u003C/span>\n    \u003Cspan class=\"token property\">padding\u003C/span>\u003Cspan class=\"token punctuation\">:\u003C/span> 0\u003Cspan class=\"token punctuation\">;\u003C/span>\n    \u003Cspan class=\"token property\">font-size\u003C/span>\u003Cspan class=\"token punctuation\">:\u003C/span> 1rem\u003Cspan class=\"token punctuation\">;\u003C/span>\n    \u003Cspan class=\"token property\">min-height\u003C/span>\u003Cspan class=\"token punctuation\">:\u003C/span> 100vh\u003Cspan class=\"token punctuation\">;\u003C/span>\n    \u003Cspan class=\"token property\">color\u003C/span>\u003Cspan class=\"token punctuation\">:\u003C/span> #fff\u003Cspan class=\"token punctuation\">;\u003C/span>\n    \u003Cspan class=\"token property\">background-color\u003C/span>\u003Cspan class=\"token punctuation\">:\u003C/span> #222\u003Cspan class=\"token punctuation\">;\u003C/span>\n  \u003Cspan class=\"token punctuation\">}\u003C/span>\n\u003C/span>\u003C/span>\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>style\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n{% endblock %} {% block content %}\n\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>main\u003C/span> \u003Cspan class=\"token attr-name\">id\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>main-content\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>...\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>main\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n{% endblock %}\n\u003C/code>\u003C/pre>\n\u003Ch3 id=\"pros\">Pros\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#pros\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cp>Very useful when you create several layouts, a base one, and then more specific ones,\nso you have an hierarchy of layouts.\u003C/p>\n\u003Cp>Like the base layout adds the \u003Ccode>html\u003C/code>, \u003Ccode>head\u003C/code>, and \u003Ccode>body\u003C/code> tags,\nthe next layout adds the \u003Ccode>nav\u003C/code>, \u003Ccode>main\u003C/code>, and \u003Ccode>footer\u003C/code>, the third layout add other context specific tags to the main page, or a blog post page.\u003C/p>\n\u003Ch3 id=\"cons\">Cons\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#cons\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cp>You need to add a new block for each page, so you end up will too many blocks, some used\non some pages and some used only on other pages. Things get confusing.\u003C/p>\n\u003Cp>The block position is fixed so you cannot inject content dynamically in different places.\u003C/p>\n\u003Ch2 id=\"includes\">Includes\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#includes\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>You can split the page content into several smaller files (very similar to React/Vue/Angular components) and\nthen include those files in the proper places.\u003C/p>\n\u003Cp>For example, you can have a \u003Ccode>navigation.njk\u003C/code> that renders the site navigation, and even better it can\nrender different navigation items for different pages:\u003C/p>\n\u003Cpre class=\"language-html\" data-language=\"html\">\u003Ccode is:raw=\"\" class=\"language-html\">{% if navigation.items %}\n\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>nav\u003C/span> \u003Cspan class=\"token attr-name\">class\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>nav\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n  \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>ul\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n    {% for item in navigation.items %}\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>li\u003C/span> \u003Cspan class=\"token attr-name\">class\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>nav-item\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>a\u003C/span> \u003Cspan class=\"token attr-name\">href\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>{{ item.url }}\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>{{ item.label }}\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>a\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>li\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n    {% endfor %}\n  \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>ul\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>nav\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n{% endif %}\n\u003C/code>\u003C/pre>\n\u003Cp>And you used it by \u003Cem>including\u003C/em> it in a site header component:\u003C/p>\n\u003Cpre class=\"language-html\" data-language=\"html\">\u003Ccode is:raw=\"\" class=\"language-html\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>header\u003C/span> \u003Cspan class=\"token attr-name\">role\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>banner\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n  \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>a\u003C/span> \u003Cspan class=\"token attr-name\">href\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>/\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>img\u003C/span> \u003Cspan class=\"token attr-name\">src\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>logo.svg\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token attr-name\">alt\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>My logo\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token punctuation\">/>\u003C/span>\u003C/span>\n  \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>a\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n  {% include \"components/nav.njk\" %}\n\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>header\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>\u003Cem>Note:\u003C/em> the path to include must be relative to \u003Ccode>_includes\u003C/code> folder (e.g. \u003Ccode>_includes/components/nav.njk\u003C/code>) not\nrelative to the file that includes \u003Ccode>nav.njk\u003C/code>!\u003C/p>\n\u003Cp>What that does is it simply takes the content of \u003Ccode>nav.njk\u003C/code> and inserts its content in the header,\nlike there was a single file from the beginning:\u003C/p>\n\u003Cpre class=\"language-html\" data-language=\"html\">\u003Ccode is:raw=\"\" class=\"language-html\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>header\u003C/span> \u003Cspan class=\"token attr-name\">role\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>banner\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n  \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>a\u003C/span> \u003Cspan class=\"token attr-name\">href\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>/\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>img\u003C/span> \u003Cspan class=\"token attr-name\">src\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>logo.svg\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token attr-name\">width\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>50px\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token attr-name\">height\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>50px\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token attr-name\">alt\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>My logo\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token punctuation\">/>\u003C/span>\u003C/span>\n  \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>a\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n  {% if navigation.items %}\n  \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>nav\u003C/span> \u003Cspan class=\"token attr-name\">class\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>nav\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>ul\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n      {% for item in navigation.items %}\n      \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>li\u003C/span> \u003Cspan class=\"token attr-name\">class\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>nav-item\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>a\u003C/span> \u003Cspan class=\"token attr-name\">href\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>{{ item.url }}\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>{{ item.label }}\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>a\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>li\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n      {% endfor %}\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>ul\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n  \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>nav\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n  {% endif %}\n\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>header\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>Of course, you can then use the \u003Ccode>header.njk\u003C/code> in the \u003Ccode>base.njk\u003C/code> layout or somewhere else:\u003C/p>\n\u003Cpre class=\"language-html\" data-language=\"html\">\u003Ccode is:raw=\"\" class=\"language-html\">\u003Cspan class=\"token doctype\">\u003Cspan class=\"token punctuation\">&#x3C;!\u003C/span>\u003Cspan class=\"token doctype-tag\">DOCTYPE\u003C/span> \u003Cspan class=\"token name\">html\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>html\u003C/span> \u003Cspan class=\"token attr-name\">lang\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>en\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token attr-name\">class\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>no-js\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n  \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>head\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>meta\u003C/span> \u003Cspan class=\"token attr-name\">charset\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>UTF-8\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token punctuation\">/>\u003C/span>\u003C/span>\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>meta\u003C/span> \u003Cspan class=\"token attr-name\">name\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>viewport\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token attr-name\">content\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>width=device-width, initial-scale=1.0\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token punctuation\">/>\u003C/span>\u003C/span>\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>meta\u003C/span> \u003Cspan class=\"token attr-name\">http-equiv\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>X-UA-Compatible\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token attr-name\">content\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>ie=edge\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token punctuation\">/>\u003C/span>\u003C/span>\n    {% block head %} {% endblock %}\n  \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>head\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n  \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>body\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n    {% include \"components/header.njk\" %} {% block content %} {% endblock\n    content %} {% include \"components/footer.njk\" %}\n  \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>body\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>html\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Ch3 id=\"pros-1\">Pros\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#pros-1\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cp>Conceptually, includes are very similar to components, they allow us to split and organize the code in small, independent pieces.\u003C/p>\n\u003Ch3 id=\"cons-1\">Cons\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#cons-1\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cp>You cannot parametrize them, they can use only data available on the page (so for example you cannot include the same file twice to do different things.)\u003C/p>\n\u003Cp>You cannot have nested content.\u003C/p>\n\u003Ch2 id=\"filters\">Filters\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#filters\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>A filter is a (pure) function that modifies some content. While the purpose of filters is usually to provide some utility functionality,\nnothing stops you from creating a full component markup from a filter.\u003C/p>\n\u003Cp>First, you need to create the filter’s function:\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">module\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function-variable function\">exports\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token keyword\">function\u003C/span> \u003Cspan class=\"token function\">dateFormatFilter\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">dateString\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n  \u003Cspan class=\"token keyword\">const\u003C/span> options \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span> \u003Cspan class=\"token literal-property property\">year\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token string\">\"numeric\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token literal-property property\">month\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token string\">\"long\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token literal-property property\">day\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token string\">\"2-digit\"\u003C/span> \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n  \u003Cspan class=\"token keyword\">const\u003C/span> date \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token keyword\">new\u003C/span> \u003Cspan class=\"token class-name\">Date\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>dateString\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n  \u003Cspan class=\"token keyword\">try\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n    \u003Cspan class=\"token keyword\">return\u003C/span> date\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">toLocaleDateString\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"default\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> options\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n  \u003Cspan class=\"token punctuation\">}\u003C/span> \u003Cspan class=\"token keyword\">catch\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>err\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n    \u003Cspan class=\"token comment\">// handle IE 11\u003C/span>\n    \u003Cspan class=\"token keyword\">return\u003C/span> date\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">toLocaleDateString\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n  \u003Cspan class=\"token punctuation\">}\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>Now you need to register the filter with Eleventy, in the configuration file, \u003Ccode>.eleventy.js\u003C/code>:\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token keyword\">const\u003C/span> dateFormatFilter \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token function\">require\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">'./&#x3C;path-to-file>/date-format-filter.js'\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\nmodule\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function-variable function\">exports\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token keyword\">function\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">eleventyConfig\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n  \u003Cspan class=\"token operator\">...\u003C/span>\n\n  \u003Cspan class=\"token comment\">// Note that we register the filter under \"dateFormat\"\u003C/span>\n  eleventyConfig\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">addFilter\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"dateFormat\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> dateFormatFilter\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n  \u003Cspan class=\"token operator\">...\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>Finally, you can use the filter in a layout or page, with the pipe \u003Ccode>|\u003C/code> symbol followed by the filter name:\u003C/p>\n\u003Cpre class=\"language-html\" data-language=\"html\">\u003Ccode is:raw=\"\" class=\"language-html\">{% post.date | dateFormat %}\n\u003C/code>\u003C/pre>\n\u003Cp>As said, nothing stops us from using filters to create content like this:\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">module\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function-variable function\">exports\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token keyword\">function\u003C/span> \u003Cspan class=\"token function\">greeting\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">name\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n  \u003Cspan class=\"token keyword\">return\u003C/span> \u003Cspan class=\"token template-string\">\u003Cspan class=\"token template-punctuation string\">`\u003C/span>\u003Cspan class=\"token string\">\n        &#x3C;section>\n            &#x3C;header>Hey \u003C/span>\u003Cspan class=\"token interpolation\">\u003Cspan class=\"token interpolation-punctuation punctuation\">${\u003C/span>name\u003Cspan class=\"token interpolation-punctuation punctuation\">}\u003C/span>\u003C/span>\u003Cspan class=\"token string\">!&#x3C;header>\n            Welcome to our fabulous website.\n        &#x3C;/section\n    \u003C/span>\u003Cspan class=\"token template-punctuation string\">`\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>Then, after registering it with Eleventy:\u003C/p>\n\u003Cpre class=\"language-html\" data-language=\"html\">\u003Ccode is:raw=\"\" class=\"language-html\">{% user.name | greeting %}\n\u003C/code>\u003C/pre>\n\u003Ch3 id=\"pros-2\">Pros\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#pros-2\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cp>Filters are a great way to add small utility functions to format dates, encode URLs, minify CSS, etc.\nEleventy provides some built-in filters: \u003Ca href=\"https://www.11ty.dev/docs/filters/url/\">url\u003C/a>,\n\u003Ca href=\"https://www.11ty.dev/docs/filters/slug/\">slug\u003C/a>, \u003Ca href=\"https://www.11ty.dev/docs/filters/log/\">log\u003C/a>, and\n\u003Ca href=\"https://www.11ty.dev/docs/filters/collection-items/\">get*CollectionItem\u003C/a>.\u003C/p>\n\u003Cp>They are reusable, you can use the same filter as many times as you want in a single page, each instance\ncan take different arguments.\u003C/p>\n\u003Cp>You can write them in JavaScript.\u003C/p>\n\u003Ch3 id=\"cons-2\">Cons\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#cons-2\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cp>I wouldn’t use filters to create components. The other options are better for that.\u003C/p>\n\u003Cp>You cannot have nested content.\u003C/p>\n\u003Ch2 id=\"shortcodes\">Shortcodes\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#shortcodes\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>Shortcodes are a way to extend the vocabulary of the template language, to teach the old template engine new tricks :)\nUsing shortcodes we can again extract reusable chunks of code in separate components.\u003C/p>\n\u003Cp>Just as filters, we first create a function:\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">module\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function-variable function\">exports\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token keyword\">function\u003C/span> \u003Cspan class=\"token function\">card\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">title\u003Cspan class=\"token punctuation\">,\u003C/span> text\u003Cspan class=\"token punctuation\">,\u003C/span> cta\u003Cspan class=\"token punctuation\">,\u003C/span> link\u003Cspan class=\"token punctuation\">,\u003C/span> type\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n  \u003Cspan class=\"token keyword\">return\u003C/span> \u003Cspan class=\"token template-string\">\u003Cspan class=\"token template-punctuation string\">`\u003C/span>\u003Cspan class=\"token string\">\n        &#x3C;article class=\"card \u003C/span>\u003Cspan class=\"token interpolation\">\u003Cspan class=\"token interpolation-punctuation punctuation\">${\u003C/span>type\u003Cspan class=\"token interpolation-punctuation punctuation\">}\u003C/span>\u003C/span>\u003Cspan class=\"token string\">\">\n          &#x3C;header>\u003C/span>\u003Cspan class=\"token interpolation\">\u003Cspan class=\"token interpolation-punctuation punctuation\">${\u003C/span>title\u003Cspan class=\"token interpolation-punctuation punctuation\">}\u003C/span>\u003C/span>\u003Cspan class=\"token string\">&#x3C;header>\n          \u003C/span>\u003Cspan class=\"token interpolation\">\u003Cspan class=\"token interpolation-punctuation punctuation\">${\u003C/span>text\u003Cspan class=\"token interpolation-punctuation punctuation\">}\u003C/span>\u003C/span>\u003Cspan class=\"token string\">\n          &#x3C;footer>\n            &#x3C;a href=\"\u003C/span>\u003Cspan class=\"token interpolation\">\u003Cspan class=\"token interpolation-punctuation punctuation\">${\u003C/span>link\u003Cspan class=\"token interpolation-punctuation punctuation\">}\u003C/span>\u003C/span>\u003Cspan class=\"token string\">\">\u003C/span>\u003Cspan class=\"token interpolation\">\u003Cspan class=\"token interpolation-punctuation punctuation\">${\u003C/span>cta\u003Cspan class=\"token interpolation-punctuation punctuation\">}\u003C/span>\u003C/span>\u003Cspan class=\"token string\">&#x3C;/a>\n          &#x3C;/footer>\n        &#x3C;/article>\n  \u003C/span>\u003Cspan class=\"token template-punctuation string\">`\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>Then we need to register the function with Eleventy in \u003Ccode>eleventy.js\u003C/code>:\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token keyword\">const\u003C/span> card \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token function\">require\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">'./&#x3C;path-to-file>/card.js'\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\nmodule\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function-variable function\">exports\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token keyword\">function\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">eleventyConfig\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n  \u003Cspan class=\"token operator\">...\u003C/span>\n  eleventyConfig\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">addShortcode\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"card\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> card\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n  \u003Cspan class=\"token operator\">...\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>Then use it by specifying “card” then the list of parameters, separated by \u003Ccode>,\u003C/code>:\u003C/p>\n\u003Cpre class=\"language-html\" data-language=\"html\">\u003Ccode is:raw=\"\" class=\"language-html\">{% card \"Webdesign\", \"Our webdesign services...\", \"See examples\",\n\"/portfolio/webdesign\" %}\n\u003C/code>\u003C/pre>\n\u003Cp>Another, more powerful type of shortcodes are the “paired” shortcodes, meaning they have an open and close tag:\u003C/p>\n\u003Cpre class=\"language-plaintext\" data-language=\"plaintext\">\u003Ccode is:raw=\"\" class=\"language-plaintext\">{% card \"title\", \"cta\", \"link\" %}\n\nHere goes the card content\n\n{% endcard %}\n\u003C/code>\u003C/pre>\n\u003Cp>In this case, the implementation is a bit different:\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token comment\">// First argument is the content between the open and close tags\u003C/span>\nmodule\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function-variable function\">exports\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token keyword\">function\u003C/span> \u003Cspan class=\"token function\">card\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">content\u003Cspan class=\"token punctuation\">,\u003C/span> title\u003Cspan class=\"token punctuation\">,\u003C/span> cta\u003Cspan class=\"token punctuation\">,\u003C/span> link\u003Cspan class=\"token punctuation\">,\u003C/span> type\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n  \u003Cspan class=\"token keyword\">return\u003C/span> \u003Cspan class=\"token template-string\">\u003Cspan class=\"token template-punctuation string\">`\u003C/span>\u003Cspan class=\"token string\">\n        &#x3C;article class=\"card \u003C/span>\u003Cspan class=\"token interpolation\">\u003Cspan class=\"token interpolation-punctuation punctuation\">${\u003C/span>type\u003Cspan class=\"token interpolation-punctuation punctuation\">}\u003C/span>\u003C/span>\u003Cspan class=\"token string\">\">\n          &#x3C;header>\u003C/span>\u003Cspan class=\"token interpolation\">\u003Cspan class=\"token interpolation-punctuation punctuation\">${\u003C/span>title\u003Cspan class=\"token interpolation-punctuation punctuation\">}\u003C/span>\u003C/span>\u003Cspan class=\"token string\">&#x3C;header>\n          \u003C/span>\u003Cspan class=\"token interpolation\">\u003Cspan class=\"token interpolation-punctuation punctuation\">${\u003C/span>content\u003Cspan class=\"token interpolation-punctuation punctuation\">}\u003C/span>\u003C/span>\u003Cspan class=\"token string\">\n          &#x3C;footer>\n            &#x3C;a href=\"\u003C/span>\u003Cspan class=\"token interpolation\">\u003Cspan class=\"token interpolation-punctuation punctuation\">${\u003C/span>link\u003Cspan class=\"token interpolation-punctuation punctuation\">}\u003C/span>\u003C/span>\u003Cspan class=\"token string\">\">\u003C/span>\u003Cspan class=\"token interpolation\">\u003Cspan class=\"token interpolation-punctuation punctuation\">${\u003C/span>cta\u003Cspan class=\"token interpolation-punctuation punctuation\">}\u003C/span>\u003C/span>\u003Cspan class=\"token string\">&#x3C;/a>\n          &#x3C;/footer>\n        &#x3C;/article>\n  \u003C/span>\u003Cspan class=\"token template-punctuation string\">`\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>Also, you need to register these types of shortcodes differently with Eleventy, using \u003Ccode>addPairedShortcode\u003C/code> instead of \u003Ccode>addShortcode\u003C/code>\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token keyword\">const\u003C/span> card \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token function\">require\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">'./&#x3C;path-to-file>/card.js'\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\nmodule\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function-variable function\">exports\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token keyword\">function\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">eleventyConfig\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n  \u003Cspan class=\"token operator\">...\u003C/span>\n  eleventyConfig\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">addPairedShortcode\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"card\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> card\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n  \u003Cspan class=\"token operator\">...\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Ch3 id=\"pros-3\">Pros\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#pros-3\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cp>They can have parameters, so you can use on the same page multiple times the same shortcode to do different things.\nAnd you can write them in JavaScript :)\u003C/p>\n\u003Cp>This is the most powerful option to create components, they can have nested content.\u003C/p>\n\u003Ch3 id=\"cons-3\">Cons\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#cons-3\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cp>While the most powerful, this option is also the hardest to get right.\u003C/p>\n\u003Ch2 id=\"resources\">Resources\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#resources\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>For more info, you can check the \u003Ca href=\"https://www.11ty.dev/docs/\">11ty docs\u003C/a>.\u003C/p>\n\u003Cp>But I recommend you to check how blocks, includes, filters, and shortcodes are used in real life.\nSearch for \u003Ccode>{% block\u003C/code>, \u003Ccode>{% include\u003C/code>, \u003Ccode>.addFilter\u003C/code> and \u003Ccode>.addShortcode\u003C/code> in the following repos:\u003C/p>\n\u003Cul>\n\u003Cli>\u003Ca href=\"https://github.com/11ty/eleventy-base-blog\">eleventy-base-blog\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"https://github.com/google/eleventy-high-performance-blog\">eleventy-high-performance-blog\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"https://github.com/contentful/11ty-contentful-starter\">11ty-contentful-starter\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"https://github.com/hankchizljaw/personal-site-hylia\">personal-site-hylia\u003C/a>\u003C/li>\n\u003C/ul>\n\u003Cp>Sadly I couldn’t find good examples of real-life usage of \u003Ccode>.addPairedShortcode\u003C/code>, please let me know if you know any.\u003C/p>",{"headings":360,"imagePaths":395,"frontmatter":346},[361,364,367,370,373,376,378,380,383,385,387,390,392,394],{"depth":51,"slug":362,"text":363},"components-in-eleventy","Components in Eleventy",{"depth":51,"slug":365,"text":366},"blocks","Blocks",{"depth":88,"slug":368,"text":369},"pros","Pros",{"depth":88,"slug":371,"text":372},"cons","Cons",{"depth":51,"slug":374,"text":375},"includes","Includes",{"depth":88,"slug":377,"text":369},"pros-1",{"depth":88,"slug":379,"text":372},"cons-1",{"depth":51,"slug":381,"text":382},"filters","Filters",{"depth":88,"slug":384,"text":369},"pros-2",{"depth":88,"slug":386,"text":372},"cons-2",{"depth":51,"slug":388,"text":389},"shortcodes","Shortcodes",{"depth":88,"slug":391,"text":369},"pros-3",{"depth":88,"slug":393,"text":372},"cons-3",{"depth":51,"slug":98,"text":99},[],"feedback-kits",["Map",7,398],{"id":7,"data":399,"body":406,"filePath":407,"digest":408,"rendered":409,"legacyId":64},{"title":400,"pubDate":401,"description":402,"keywords":403,"twitterImage":404,"minutesRead":75,"excerpt":405},"Software Feedback Kits",["Date","2021-02-07T00:00:00.000Z"],"Create feedback kits to nail down the requirements and for the exploration of ideas.",[225],"https://www.raresportan.com/twitter-cards/software-feedback-kits.png","There are times in every programmer’s life when they must implement things that are hard to explain, hard to\nput down on paper, things that ","There are times in every programmer's life when they must implement things that are hard to explain, hard to\nput down on paper, things that nobody knows exactly how to verbalize. Sometimes nobody knows what they want.\nSo what we do in this case?\n\nYou can create feedback kits.\n\nThese pieces of software are very useful, although you sometimes end up throwing away all the code used to make them.\nSome people call them prototypes or proof of concepts and are bare-bone versions of some known/unknown requirements.\n\n_They are incredibly useful to nail down the requirements and for the exploration of ideas._\n\n## The Steve Jobs Roll Your Own Calculator Construction Set\n\nYears ago, at Apple, Chris was working on documenting the Macintosh. Chris wanted to write a demo program using\nQuickdraw, a 2D graphics library. He decided to draw a calculator.\n\nAfter playing around for a while, he came up with a calculator that he thought looked pretty good.\nBut the acid test was showing it to Steve Jobs.\n\nWhen the day came, the entire team gathered around as Chris showed the calculator to Steve. He held his breath,\nwaiting for Steve’s reaction. “Well, it’s a start,” Steve said, “but basically, it stinks. The background color\nis too dark, some lines are the wrong thickness, and the buttons are too big.” Chris told Steve he’ll keep changing it until Steve thought he got it right.\n\nSo, for a couple of days, Chris would incorporate Steve’s suggestions from the previous day, but Steve would\ncontinue to find new faults each time he was shown it. Finally, Chris got a flash of inspiration.\n\nThe next afternoon, instead of a new iteration of the calculator, Chris unveiled his new approach, which he called\n“the Steve Jobs Roll Your Own Calculator Construction Set”. Every decision regarding the graphical attributes of the\ncalculator was parameterized by pull-down menus. You could select line thicknesses, button sizes, background patterns, etc.\n\nSteve took a look at the new program and immediately started fiddling with the parameters. After trying out\nalternatives for ten minutes or so, he settled on something that he liked. When the team implemented the\ncalculator UI for real a few months later, they used Steve’s design, and it remained the standard calculator\non the Macintosh for many years.\n\n## Why feedback kits\n\nOver time, I made a few feedback kits also. They were very popular and saved a lot of useless meetings and\ndiscussions. When everyone is looking and using the same thing, the discussion is more focused and the feedback\ncrystal clear.\n\nFor example, I've made a small app that animated the different ways of folding paper inside an industrial printer.\nThat app was never shipped to customers, it was only used internally. People seeing the animation were able to quickly tell me what was wrong and what was correct. After all the animations\nwere correct, the app was used for years to compare the folding controls of the newer generations of software.\n\nSeveral times in my career, I've rewritten the same code multiple times, each time based on new customer feedback.\nThe customer didn't know what they want so I've just iterated on the code over and over until the customer was\nsatisfied.\n\nThese days, UI prototypes may be done by UX designers, the tools used by the UX people allow\nthem to create advanced interactive prototypes so you might not need to create feedback kits yourself, they’ll\ndo it for you. So if your team includes a UX, this is not something you want to do every day, but there are\nsituations when the best option you have, is to make a feedback kit yourself: sometimes it has to be implemented,\npeople want to see it working before they can decide.\n\n## When to create feedback kits\n\nCreate feedback kits to:\n\n- Experiment quickly with different options. Sometimes nobody is sure which is the best option. Not even you.\n  Some might think option “A” is the best, some think option “B” and so on. Implement all the options so they can be easily switched between and compared.\n- Receive feedback from more people. Involve non-programmers in the feedback loop. The most important people\n  that must give feedback on the software are not programmers. So before you implement a feature, create a\n  prototype and share that with these people.\n- Bring ideas to life. Some ideas cannot be easily expressed in words. You can talk for hours, and nobody will\n  know what you mean. What can you do? Implement those ideas, show them running software.\n- Solve hard problems. When you need to find the right algorithm for something or the right way to fix a\n  problem you need quick feedback. Running the entire software is overkill and time-consuming.\n  Create a smaller program that isolates the code you are interested in, and that allows you to iterate fast on it.\n- See how something works, not just how it looks. Sometimes people that make decisions are wrong, but you\n  cannot tell them that. You need proof. One option you have is to implement the software in two ways:\n  the way they insist on and the way you think is the right way.\n\nWhen the time will come, remember that this is an option you have. It's much better to spend some time on an isolated\npiece of code that might be thrown away, than to refactor your entire code base to add or remove a feature\nthat might be or might not be required.\n\nMore often than not, even the client doesn’t know what he wants. Sometimes the only way to find the\nanswer is to do A/B testing for a feature with the client or with the users of the software.\nYou need to be prepared to handle those situations.\n\n## Resources\n\n[Calculator Construction Set](https://www.folklore.org/StoryView.py?project=Macintosh&story=Calculator_Construction_Set.txt&sortOrder=Sort+by+Date&topic=Software+Design)","src/content/feedback-kits/index.md","e158f70679559920",{"html":410,"metadata":411},"\u003Cp>There are times in every programmer’s life when they must implement things that are hard to explain, hard to\nput down on paper, things that nobody knows exactly how to verbalize. Sometimes nobody knows what they want.\nSo what we do in this case?\u003C/p>\n\u003Cp>You can create feedback kits.\u003C/p>\n\u003Cp>These pieces of software are very useful, although you sometimes end up throwing away all the code used to make them.\nSome people call them prototypes or proof of concepts and are bare-bone versions of some known/unknown requirements.\u003C/p>\n\u003Cp>\u003Cem>They are incredibly useful to nail down the requirements and for the exploration of ideas.\u003C/em>\u003C/p>\n\u003Ch2 id=\"the-steve-jobs-roll-your-own-calculator-construction-set\">The Steve Jobs Roll Your Own Calculator Construction Set\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#the-steve-jobs-roll-your-own-calculator-construction-set\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>Years ago, at Apple, Chris was working on documenting the Macintosh. Chris wanted to write a demo program using\nQuickdraw, a 2D graphics library. He decided to draw a calculator.\u003C/p>\n\u003Cp>After playing around for a while, he came up with a calculator that he thought looked pretty good.\nBut the acid test was showing it to Steve Jobs.\u003C/p>\n\u003Cp>When the day came, the entire team gathered around as Chris showed the calculator to Steve. He held his breath,\nwaiting for Steve’s reaction. “Well, it’s a start,” Steve said, “but basically, it stinks. The background color\nis too dark, some lines are the wrong thickness, and the buttons are too big.” Chris told Steve he’ll keep changing it until Steve thought he got it right.\u003C/p>\n\u003Cp>So, for a couple of days, Chris would incorporate Steve’s suggestions from the previous day, but Steve would\ncontinue to find new faults each time he was shown it. Finally, Chris got a flash of inspiration.\u003C/p>\n\u003Cp>The next afternoon, instead of a new iteration of the calculator, Chris unveiled his new approach, which he called\n“the Steve Jobs Roll Your Own Calculator Construction Set”. Every decision regarding the graphical attributes of the\ncalculator was parameterized by pull-down menus. You could select line thicknesses, button sizes, background patterns, etc.\u003C/p>\n\u003Cp>Steve took a look at the new program and immediately started fiddling with the parameters. After trying out\nalternatives for ten minutes or so, he settled on something that he liked. When the team implemented the\ncalculator UI for real a few months later, they used Steve’s design, and it remained the standard calculator\non the Macintosh for many years.\u003C/p>\n\u003Ch2 id=\"why-feedback-kits\">Why feedback kits\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#why-feedback-kits\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>Over time, I made a few feedback kits also. They were very popular and saved a lot of useless meetings and\ndiscussions. When everyone is looking and using the same thing, the discussion is more focused and the feedback\ncrystal clear.\u003C/p>\n\u003Cp>For example, I’ve made a small app that animated the different ways of folding paper inside an industrial printer.\nThat app was never shipped to customers, it was only used internally. People seeing the animation were able to quickly tell me what was wrong and what was correct. After all the animations\nwere correct, the app was used for years to compare the folding controls of the newer generations of software.\u003C/p>\n\u003Cp>Several times in my career, I’ve rewritten the same code multiple times, each time based on new customer feedback.\nThe customer didn’t know what they want so I’ve just iterated on the code over and over until the customer was\nsatisfied.\u003C/p>\n\u003Cp>These days, UI prototypes may be done by UX designers, the tools used by the UX people allow\nthem to create advanced interactive prototypes so you might not need to create feedback kits yourself, they’ll\ndo it for you. So if your team includes a UX, this is not something you want to do every day, but there are\nsituations when the best option you have, is to make a feedback kit yourself: sometimes it has to be implemented,\npeople want to see it working before they can decide.\u003C/p>\n\u003Ch2 id=\"when-to-create-feedback-kits\">When to create feedback kits\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#when-to-create-feedback-kits\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>Create feedback kits to:\u003C/p>\n\u003Cul>\n\u003Cli>Experiment quickly with different options. Sometimes nobody is sure which is the best option. Not even you.\nSome might think option “A” is the best, some think option “B” and so on. Implement all the options so they can be easily switched between and compared.\u003C/li>\n\u003Cli>Receive feedback from more people. Involve non-programmers in the feedback loop. The most important people\nthat must give feedback on the software are not programmers. So before you implement a feature, create a\nprototype and share that with these people.\u003C/li>\n\u003Cli>Bring ideas to life. Some ideas cannot be easily expressed in words. You can talk for hours, and nobody will\nknow what you mean. What can you do? Implement those ideas, show them running software.\u003C/li>\n\u003Cli>Solve hard problems. When you need to find the right algorithm for something or the right way to fix a\nproblem you need quick feedback. Running the entire software is overkill and time-consuming.\nCreate a smaller program that isolates the code you are interested in, and that allows you to iterate fast on it.\u003C/li>\n\u003Cli>See how something works, not just how it looks. Sometimes people that make decisions are wrong, but you\ncannot tell them that. You need proof. One option you have is to implement the software in two ways:\nthe way they insist on and the way you think is the right way.\u003C/li>\n\u003C/ul>\n\u003Cp>When the time will come, remember that this is an option you have. It’s much better to spend some time on an isolated\npiece of code that might be thrown away, than to refactor your entire code base to add or remove a feature\nthat might be or might not be required.\u003C/p>\n\u003Cp>More often than not, even the client doesn’t know what he wants. Sometimes the only way to find the\nanswer is to do A/B testing for a feature with the client or with the users of the software.\nYou need to be prepared to handle those situations.\u003C/p>\n\u003Ch2 id=\"resources\">Resources\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#resources\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>\u003Ca href=\"https://www.folklore.org/StoryView.py?project=Macintosh&#x26;story=Calculator_Construction_Set.txt&#x26;sortOrder=Sort+by+Date&#x26;topic=Software+Design\">Calculator Construction Set\u003C/a>\u003C/p>",{"headings":412,"imagePaths":423,"frontmatter":399},[413,416,419,422],{"depth":51,"slug":414,"text":415},"the-steve-jobs-roll-your-own-calculator-construction-set","The Steve Jobs Roll Your Own Calculator Construction Set",{"depth":51,"slug":417,"text":418},"why-feedback-kits","Why feedback kits",{"depth":51,"slug":420,"text":421},"when-to-create-feedback-kits","When to create feedback kits",{"depth":51,"slug":98,"text":99},[],"five-easy-website-accessibility-tips",["Map",7,426],{"id":7,"data":427,"body":436,"filePath":437,"digest":438,"rendered":439,"legacyId":64},{"title":428,"pubDate":429,"description":430,"keywords":431,"twitterImage":434,"minutesRead":41,"excerpt":435},"Five easy website accessibility tips",["Date","2020-09-28T00:00:00.000Z"],"The most important things I've learned about accessibility from Inclusive Design 24 2020",[432,433,73],"a11y","HTML","https://www.raresportan.com/twitter-cards/five-easy-website-accessibility-tips.png","Lots of excellent talks at Inclusive Design 24.\nTwo of them, “Writing even more CSS with Accessibility in Mind” by Manuel Matuzovic and “Eme","Lots of excellent talks at [Inclusive Design 24](https://inclusivedesign24.org/2020/).\nTwo of them, _\"Writing even more CSS with Accessibility in Mind\"_ by Manuel Matuzovic and _\"Emergency Website Kit\"_ by Max Böck\nwere particularly useful for me, I've learned a few things and used some of them to improve the accessibility of this site.\n\nHopefully, you'll find them useful also. Here they are:\n\n### Set the correct base font size\n\nWhile I use `rem` units in CSS in most cases, I set up the body font as `16px`. Looks like this was a mistake,\nI should use `1rem` because some users might need a larger default font size.\n_Lesson learned: Never use px for font sizes!_\n\n```css\nhtml,\nbody {\n  margin: 0;\n  padding: 0;\n  font-size: 1rem;\n  font-family: \"IBM Plex Sans\", Arial, Helvetica, Verdana, sans-serif;\n  min-height: 100vh;\n  color: var(--color);\n}\n```\n\n### Disable animations when user prefers no motion\n\nAnimations can trigger nausea, dizziness, and headaches in some users so they would not want to\nsee out fancy animations. We can use the `prefers-reduced-motion: reduce` media query to detect\nthis situation and disable all animations:\n\n```css\n@media (prefers-reduced-motion: reduce) {\n  .dark .missing .lightbulbstring .lightcircle,\n  .lightbulbstring:hover .lightcircle,\n  .parallax > use {\n    animation: none !important;\n  }\n\n  a {\n    transition: none;\n  }\n\n  .post {\n    scroll-behavior: auto;\n  }\n}\n```\n\n### ARIA attributes\n\nI already had semantic HTML tags, `\u003Cheader>`,`\u003Cmain>`, and `\u003Cfooter>` but it looks like we can improve the accessibility\nby setting the role of these sections.\n\n```html\n\u003Cheader role=\"banner\">...\u003C/header>\n\n\u003Cmain role=\"main\">...\u003C/main>\n\n\u003Cfooter role=\"contentinfo\">...\u003C/footer>\n```\n\nI also have a couple of SVGs that are used just for making the site look more interesting. They have no functional value,\nso I've added `role=presentation` on them, so they are ignored by screen readers and other ARIA compliant tools:\n\n```jsx\n\u003Cdiv role=\"presentation\" className={`waves-container ${className || \"\"}`}>\n  \u003Csvg\n    className=\"waves\"\n    viewBox=\"0 24 150 28\"\n    preserveAspectRatio=\"none\"\n    shapeRendering=\"auto\"\n  >\n    \u003Cdefs>\n      \u003Cpath\n        id={id}\n        d=\"M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z\"\n      />\n    \u003C/defs>\n    \u003Cg className=\"parallax\">\n      \u003Cuse href={`#${id}`} className=\"wave1\" x={wave1X} y=\"0\" />\n      \u003Cuse href={`#${id}`} className=\"wave2\" x={wave2X} y=\"3\" />\n      \u003Cuse href={`#${id}`} className=\"wave3\" x={wave3X} y=\"5\" />\n      \u003Cuse href={`#${id}`} className=\"wave4\" x={wave4X} y=\"7\" />\n    \u003C/g>\n  \u003C/svg>\n\u003C/div>\n```\n\n### Using time tag\n\nI've used a `\u003Csmall>` tag to display the post publication date but `time` is much better:\n\n```jsx\n\u003Ctime dateTime={node.frontmatter.date}>\n  {formatDate(node.frontmatter.date)} • {node.timeToRead} min read\n\u003C/time>\n```\n\n### Fix site name header\n\nFor the site name, I've used an `h1` on the index and an `h3` on the blog post pages.\nThe problem is that this is not correct on the blog post since the page headings are in the wrong order: h3, h1, h2.\nTo fix it, I've replaced the `h1` and `h3` with a simple `div`.\n\n```jsx\n\u003Cheader role=\"banner\" className=\"main-header centered-content\">\n  ...\n  \u003Cdiv className={\"site-name\"}>{header}\u003C/div>\n  ...\n\u003C/header>\n```\n\n## Resources\n\nYou can find more interesting tips here:\n\n- [Writing even more CSS with Accessibility in Mind](https://www.youtube.com/watch?v=o6ssu5oKyaU) / [Slides](https://noti.st/matuzo/lWUq2w/writing-even-more-css-with-accessibility-in-mind)\n- [Emergency Website Kit](https://www.youtube.com/watch?v=8RdrRCq8VzU&list=PLn7dsvRdQEfGkK9xxk54XdKTLk7zf_Qwp&index=11) / [Slides](https://noti.st/mxb/a1xCB1/emergency-website-kit)\n- [The entire Inclusive Design 24 #id24 2020 playlist](https://www.youtube.com/playlist?list=PLn7dsvRdQEfGkK9xxk54XdKTLk7zf_Qwp)\n- [Accessibility for Vestibular Disorders: How My Temporary Disability Changed My Perspective](https://alistapart.com/article/accessibility-for-vestibular/#section5)","src/content/five-easy-website-accessibility-tips/index.md","c15c9b7cbca3daf9",{"html":440,"metadata":441},"\u003Cp>Lots of excellent talks at \u003Ca href=\"https://inclusivedesign24.org/2020/\">Inclusive Design 24\u003C/a>.\nTwo of them, \u003Cem>“Writing even more CSS with Accessibility in Mind”\u003C/em> by Manuel Matuzovic and \u003Cem>“Emergency Website Kit”\u003C/em> by Max Böck\nwere particularly useful for me, I’ve learned a few things and used some of them to improve the accessibility of this site.\u003C/p>\n\u003Cp>Hopefully, you’ll find them useful also. Here they are:\u003C/p>\n\u003Ch3 id=\"set-the-correct-base-font-size\">Set the correct base font size\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#set-the-correct-base-font-size\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cp>While I use \u003Ccode>rem\u003C/code> units in CSS in most cases, I set up the body font as \u003Ccode>16px\u003C/code>. Looks like this was a mistake,\nI should use \u003Ccode>1rem\u003C/code> because some users might need a larger default font size.\n\u003Cem>Lesson learned: Never use px for font sizes!\u003C/em>\u003C/p>\n\u003Cpre class=\"language-css\" data-language=\"css\">\u003Ccode is:raw=\"\" class=\"language-css\">\u003Cspan class=\"token selector\">html,\nbody\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n  \u003Cspan class=\"token property\">margin\u003C/span>\u003Cspan class=\"token punctuation\">:\u003C/span> 0\u003Cspan class=\"token punctuation\">;\u003C/span>\n  \u003Cspan class=\"token property\">padding\u003C/span>\u003Cspan class=\"token punctuation\">:\u003C/span> 0\u003Cspan class=\"token punctuation\">;\u003C/span>\n  \u003Cspan class=\"token property\">font-size\u003C/span>\u003Cspan class=\"token punctuation\">:\u003C/span> 1rem\u003Cspan class=\"token punctuation\">;\u003C/span>\n  \u003Cspan class=\"token property\">font-family\u003C/span>\u003Cspan class=\"token punctuation\">:\u003C/span> \u003Cspan class=\"token string\">\"IBM Plex Sans\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> Arial\u003Cspan class=\"token punctuation\">,\u003C/span> Helvetica\u003Cspan class=\"token punctuation\">,\u003C/span> Verdana\u003Cspan class=\"token punctuation\">,\u003C/span> sans-serif\u003Cspan class=\"token punctuation\">;\u003C/span>\n  \u003Cspan class=\"token property\">min-height\u003C/span>\u003Cspan class=\"token punctuation\">:\u003C/span> 100vh\u003Cspan class=\"token punctuation\">;\u003C/span>\n  \u003Cspan class=\"token property\">color\u003C/span>\u003Cspan class=\"token punctuation\">:\u003C/span> \u003Cspan class=\"token function\">var\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>--color\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Ch3 id=\"disable-animations-when-user-prefers-no-motion\">Disable animations when user prefers no motion\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#disable-animations-when-user-prefers-no-motion\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cp>Animations can trigger nausea, dizziness, and headaches in some users so they would not want to\nsee out fancy animations. We can use the \u003Ccode>prefers-reduced-motion: reduce\u003C/code> media query to detect\nthis situation and disable all animations:\u003C/p>\n\u003Cpre class=\"language-css\" data-language=\"css\">\u003Ccode is:raw=\"\" class=\"language-css\">\u003Cspan class=\"token atrule\">\u003Cspan class=\"token rule\">@media\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token property\">prefers-reduced-motion\u003C/span>\u003Cspan class=\"token punctuation\">:\u003C/span> reduce\u003Cspan class=\"token punctuation\">)\u003C/span>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n  \u003Cspan class=\"token selector\">.dark .missing .lightbulbstring .lightcircle,\n  .lightbulbstring:hover .lightcircle,\n  .parallax > use\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n    \u003Cspan class=\"token property\">animation\u003C/span>\u003Cspan class=\"token punctuation\">:\u003C/span> none \u003Cspan class=\"token important\">!important\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n  \u003Cspan class=\"token punctuation\">}\u003C/span>\n\n  \u003Cspan class=\"token selector\">a\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n    \u003Cspan class=\"token property\">transition\u003C/span>\u003Cspan class=\"token punctuation\">:\u003C/span> none\u003Cspan class=\"token punctuation\">;\u003C/span>\n  \u003Cspan class=\"token punctuation\">}\u003C/span>\n\n  \u003Cspan class=\"token selector\">.post\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n    \u003Cspan class=\"token property\">scroll-behavior\u003C/span>\u003Cspan class=\"token punctuation\">:\u003C/span> auto\u003Cspan class=\"token punctuation\">;\u003C/span>\n  \u003Cspan class=\"token punctuation\">}\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Ch3 id=\"aria-attributes\">ARIA attributes\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#aria-attributes\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cp>I already had semantic HTML tags, \u003Ccode>&#x3C;header>\u003C/code>,\u003Ccode>&#x3C;main>\u003C/code>, and \u003Ccode>&#x3C;footer>\u003C/code> but it looks like we can improve the accessibility\nby setting the role of these sections.\u003C/p>\n\u003Cpre class=\"language-html\" data-language=\"html\">\u003Ccode is:raw=\"\" class=\"language-html\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>header\u003C/span> \u003Cspan class=\"token attr-name\">role\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>banner\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>...\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>header\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n\n\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>main\u003C/span> \u003Cspan class=\"token attr-name\">role\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>main\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>...\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>main\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n\n\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>footer\u003C/span> \u003Cspan class=\"token attr-name\">role\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>contentinfo\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>...\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>footer\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>I also have a couple of SVGs that are used just for making the site look more interesting. They have no functional value,\nso I’ve added \u003Ccode>role=presentation\u003C/code> on them, so they are ignored by screen readers and other ARIA compliant tools:\u003C/p>\n\u003Cpre class=\"language-jsx\" data-language=\"jsx\">\u003Ccode is:raw=\"\" class=\"language-jsx\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>div\u003C/span> \u003Cspan class=\"token attr-name\">role\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>presentation\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token attr-name\">className\u003C/span>\u003Cspan class=\"token script language-javascript\">\u003Cspan class=\"token script-punctuation punctuation\">=\u003C/span>\u003Cspan class=\"token punctuation\">{\u003C/span>\u003Cspan class=\"token template-string\">\u003Cspan class=\"token template-punctuation string\">`\u003C/span>\u003Cspan class=\"token string\">waves-container \u003C/span>\u003Cspan class=\"token interpolation\">\u003Cspan class=\"token interpolation-punctuation punctuation\">${\u003C/span>className \u003Cspan class=\"token operator\">||\u003C/span> \u003Cspan class=\"token string\">\"\"\u003C/span>\u003Cspan class=\"token interpolation-punctuation punctuation\">}\u003C/span>\u003C/span>\u003Cspan class=\"token template-punctuation string\">`\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">}\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\u003Cspan class=\"token plain-text\">\n  \u003C/span>\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>svg\u003C/span>\n    \u003Cspan class=\"token attr-name\">className\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>waves\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\n    \u003Cspan class=\"token attr-name\">viewBox\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>0 24 150 28\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\n    \u003Cspan class=\"token attr-name\">preserveAspectRatio\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>none\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\n    \u003Cspan class=\"token attr-name\">shapeRendering\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>auto\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\n  \u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\u003Cspan class=\"token plain-text\">\n    \u003C/span>\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>defs\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\u003Cspan class=\"token plain-text\">\n      \u003C/span>\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>path\u003C/span>\n        \u003Cspan class=\"token attr-name\">id\u003C/span>\u003Cspan class=\"token script language-javascript\">\u003Cspan class=\"token script-punctuation punctuation\">=\u003C/span>\u003Cspan class=\"token punctuation\">{\u003C/span>id\u003Cspan class=\"token punctuation\">}\u003C/span>\u003C/span>\n        \u003Cspan class=\"token attr-name\">d\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\n      \u003Cspan class=\"token punctuation\">/>\u003C/span>\u003C/span>\u003Cspan class=\"token plain-text\">\n    \u003C/span>\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>defs\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\u003Cspan class=\"token plain-text\">\n    \u003C/span>\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>g\u003C/span> \u003Cspan class=\"token attr-name\">className\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>parallax\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\u003Cspan class=\"token plain-text\">\n      \u003C/span>\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>use\u003C/span> \u003Cspan class=\"token attr-name\">href\u003C/span>\u003Cspan class=\"token script language-javascript\">\u003Cspan class=\"token script-punctuation punctuation\">=\u003C/span>\u003Cspan class=\"token punctuation\">{\u003C/span>\u003Cspan class=\"token template-string\">\u003Cspan class=\"token template-punctuation string\">`\u003C/span>\u003Cspan class=\"token string\">#\u003C/span>\u003Cspan class=\"token interpolation\">\u003Cspan class=\"token interpolation-punctuation punctuation\">${\u003C/span>id\u003Cspan class=\"token interpolation-punctuation punctuation\">}\u003C/span>\u003C/span>\u003Cspan class=\"token template-punctuation string\">`\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">}\u003C/span>\u003C/span> \u003Cspan class=\"token attr-name\">className\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>wave1\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token attr-name\">x\u003C/span>\u003Cspan class=\"token script language-javascript\">\u003Cspan class=\"token script-punctuation punctuation\">=\u003C/span>\u003Cspan class=\"token punctuation\">{\u003C/span>wave1X\u003Cspan class=\"token punctuation\">}\u003C/span>\u003C/span> \u003Cspan class=\"token attr-name\">y\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>0\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token punctuation\">/>\u003C/span>\u003C/span>\u003Cspan class=\"token plain-text\">\n      \u003C/span>\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>use\u003C/span> \u003Cspan class=\"token attr-name\">href\u003C/span>\u003Cspan class=\"token script language-javascript\">\u003Cspan class=\"token script-punctuation punctuation\">=\u003C/span>\u003Cspan class=\"token punctuation\">{\u003C/span>\u003Cspan class=\"token template-string\">\u003Cspan class=\"token template-punctuation string\">`\u003C/span>\u003Cspan class=\"token string\">#\u003C/span>\u003Cspan class=\"token interpolation\">\u003Cspan class=\"token interpolation-punctuation punctuation\">${\u003C/span>id\u003Cspan class=\"token interpolation-punctuation punctuation\">}\u003C/span>\u003C/span>\u003Cspan class=\"token template-punctuation string\">`\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">}\u003C/span>\u003C/span> \u003Cspan class=\"token attr-name\">className\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>wave2\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token attr-name\">x\u003C/span>\u003Cspan class=\"token script language-javascript\">\u003Cspan class=\"token script-punctuation punctuation\">=\u003C/span>\u003Cspan class=\"token punctuation\">{\u003C/span>wave2X\u003Cspan class=\"token punctuation\">}\u003C/span>\u003C/span> \u003Cspan class=\"token attr-name\">y\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>3\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token punctuation\">/>\u003C/span>\u003C/span>\u003Cspan class=\"token plain-text\">\n      \u003C/span>\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>use\u003C/span> \u003Cspan class=\"token attr-name\">href\u003C/span>\u003Cspan class=\"token script language-javascript\">\u003Cspan class=\"token script-punctuation punctuation\">=\u003C/span>\u003Cspan class=\"token punctuation\">{\u003C/span>\u003Cspan class=\"token template-string\">\u003Cspan class=\"token template-punctuation string\">`\u003C/span>\u003Cspan class=\"token string\">#\u003C/span>\u003Cspan class=\"token interpolation\">\u003Cspan class=\"token interpolation-punctuation punctuation\">${\u003C/span>id\u003Cspan class=\"token interpolation-punctuation punctuation\">}\u003C/span>\u003C/span>\u003Cspan class=\"token template-punctuation string\">`\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">}\u003C/span>\u003C/span> \u003Cspan class=\"token attr-name\">className\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>wave3\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token attr-name\">x\u003C/span>\u003Cspan class=\"token script language-javascript\">\u003Cspan class=\"token script-punctuation punctuation\">=\u003C/span>\u003Cspan class=\"token punctuation\">{\u003C/span>wave3X\u003Cspan class=\"token punctuation\">}\u003C/span>\u003C/span> \u003Cspan class=\"token attr-name\">y\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>5\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token punctuation\">/>\u003C/span>\u003C/span>\u003Cspan class=\"token plain-text\">\n      \u003C/span>\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>use\u003C/span> \u003Cspan class=\"token attr-name\">href\u003C/span>\u003Cspan class=\"token script language-javascript\">\u003Cspan class=\"token script-punctuation punctuation\">=\u003C/span>\u003Cspan class=\"token punctuation\">{\u003C/span>\u003Cspan class=\"token template-string\">\u003Cspan class=\"token template-punctuation string\">`\u003C/span>\u003Cspan class=\"token string\">#\u003C/span>\u003Cspan class=\"token interpolation\">\u003Cspan class=\"token interpolation-punctuation punctuation\">${\u003C/span>id\u003Cspan class=\"token interpolation-punctuation punctuation\">}\u003C/span>\u003C/span>\u003Cspan class=\"token template-punctuation string\">`\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">}\u003C/span>\u003C/span> \u003Cspan class=\"token attr-name\">className\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>wave4\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token attr-name\">x\u003C/span>\u003Cspan class=\"token script language-javascript\">\u003Cspan class=\"token script-punctuation punctuation\">=\u003C/span>\u003Cspan class=\"token punctuation\">{\u003C/span>wave4X\u003Cspan class=\"token punctuation\">}\u003C/span>\u003C/span> \u003Cspan class=\"token attr-name\">y\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>7\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token punctuation\">/>\u003C/span>\u003C/span>\u003Cspan class=\"token plain-text\">\n    \u003C/span>\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>g\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\u003Cspan class=\"token plain-text\">\n  \u003C/span>\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>svg\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\u003Cspan class=\"token plain-text\">\n\u003C/span>\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>div\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Ch3 id=\"using-time-tag\">Using time tag\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#using-time-tag\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cp>I’ve used a \u003Ccode>&#x3C;small>\u003C/code> tag to display the post publication date but \u003Ccode>time\u003C/code> is much better:\u003C/p>\n\u003Cpre class=\"language-jsx\" data-language=\"jsx\">\u003Ccode is:raw=\"\" class=\"language-jsx\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>time\u003C/span> \u003Cspan class=\"token attr-name\">dateTime\u003C/span>\u003Cspan class=\"token script language-javascript\">\u003Cspan class=\"token script-punctuation punctuation\">=\u003C/span>\u003Cspan class=\"token punctuation\">{\u003C/span>node\u003Cspan class=\"token punctuation\">.\u003C/span>frontmatter\u003Cspan class=\"token punctuation\">.\u003C/span>date\u003Cspan class=\"token punctuation\">}\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\u003Cspan class=\"token plain-text\">\n  \u003C/span>\u003Cspan class=\"token punctuation\">{\u003C/span>\u003Cspan class=\"token function\">formatDate\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>node\u003Cspan class=\"token punctuation\">.\u003C/span>frontmatter\u003Cspan class=\"token punctuation\">.\u003C/span>date\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token plain-text\"> • \u003C/span>\u003Cspan class=\"token punctuation\">{\u003C/span>node\u003Cspan class=\"token punctuation\">.\u003C/span>timeToRead\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token plain-text\"> min read\n\u003C/span>\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>time\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Ch3 id=\"fix-site-name-header\">Fix site name header\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#fix-site-name-header\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cp>For the site name, I’ve used an \u003Ccode>h1\u003C/code> on the index and an \u003Ccode>h3\u003C/code> on the blog post pages.\nThe problem is that this is not correct on the blog post since the page headings are in the wrong order: h3, h1, h2.\nTo fix it, I’ve replaced the \u003Ccode>h1\u003C/code> and \u003Ccode>h3\u003C/code> with a simple \u003Ccode>div\u003C/code>.\u003C/p>\n\u003Cpre class=\"language-jsx\" data-language=\"jsx\">\u003Ccode is:raw=\"\" class=\"language-jsx\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>header\u003C/span> \u003Cspan class=\"token attr-name\">role\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>banner\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token attr-name\">className\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>main-header centered-content\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\u003Cspan class=\"token plain-text\">\n  ...\n  \u003C/span>\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>div\u003C/span> \u003Cspan class=\"token attr-name\">className\u003C/span>\u003Cspan class=\"token script language-javascript\">\u003Cspan class=\"token script-punctuation punctuation\">=\u003C/span>\u003Cspan class=\"token punctuation\">{\u003C/span>\u003Cspan class=\"token string\">\"site-name\"\u003C/span>\u003Cspan class=\"token punctuation\">}\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">{\u003C/span>header\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>div\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\u003Cspan class=\"token plain-text\">\n  ...\n\u003C/span>\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>header\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Ch2 id=\"resources\">Resources\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#resources\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>You can find more interesting tips here:\u003C/p>\n\u003Cul>\n\u003Cli>\u003Ca href=\"https://www.youtube.com/watch?v=o6ssu5oKyaU\">Writing even more CSS with Accessibility in Mind\u003C/a> / \u003Ca href=\"https://noti.st/matuzo/lWUq2w/writing-even-more-css-with-accessibility-in-mind\">Slides\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"https://www.youtube.com/watch?v=8RdrRCq8VzU&#x26;list=PLn7dsvRdQEfGkK9xxk54XdKTLk7zf_Qwp&#x26;index=11\">Emergency Website Kit\u003C/a> / \u003Ca href=\"https://noti.st/mxb/a1xCB1/emergency-website-kit\">Slides\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"https://www.youtube.com/playlist?list=PLn7dsvRdQEfGkK9xxk54XdKTLk7zf_Qwp\">The entire Inclusive Design 24 #id24 2020 playlist\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"https://alistapart.com/article/accessibility-for-vestibular/#section5\">Accessibility for Vestibular Disorders: How My Temporary Disability Changed My Perspective\u003C/a>\u003C/li>\n\u003C/ul>",{"headings":442,"imagePaths":459,"frontmatter":427},[443,446,449,452,455,458],{"depth":88,"slug":444,"text":445},"set-the-correct-base-font-size","Set the correct base font size",{"depth":88,"slug":447,"text":448},"disable-animations-when-user-prefers-no-motion","Disable animations when user prefers no motion",{"depth":88,"slug":450,"text":451},"aria-attributes","ARIA attributes",{"depth":88,"slug":453,"text":454},"using-time-tag","Using time tag",{"depth":88,"slug":456,"text":457},"fix-site-name-header","Fix site name header",{"depth":51,"slug":98,"text":99},[],"eleventy-part-four",["Map",7,462],{"id":7,"data":463,"body":468,"filePath":469,"digest":470,"legacyId":18,"deferredRender":19},{"title":464,"pubDate":465,"description":466,"keywords":467},"Let's Learn Eleventy (11ty) - Images",["Date","2021-01-23T00:00:00.000Z"],"In the fourth part of the Let't Learn Eleventy series, we'll learn how use images with eleventy-img plugin",[191,192],"In the [first part](/eleventy-part-one), the [second part](/eleventy-part-two), and the [third part](/eleventy-part-three) parts we have seen:\n\n- What is Eleventy and how to install it\n- How to use data inside a page\n- Basic configuration\n- Using the same template on multiple pages\n- How to use collections\n- What are slots, includes, and shortcodes, or how to create components\n\nThis time we'll talk about using images in Eleventy. Of course, we could use the img element, it's easy to use,\nin both HTML and Markdown. But it has so many downsides: you can use a single type of image (e.g jpeg), the same image\nwill be displayed on HD screens and small mobile screens - every device will download the same image, and people on\nslow 2G or 3G connections will not be happy.\n\nWe can do better using the picture element - that solves all the above issues - and luckily we can use an Eleventy plugin,\n[eleventy-img](https://github.com/11ty/eleventy-img) that can generate images in different formats and sizes.\n\n## Goals\n\nWe have two goals:\n\n1. The HTML output should be a picture element.\n2. A reusable component that should generate that HTML output\n\n### 1. picture element\n\nWhy picture element instead of img? There are a lot of reasons, most importantly we can use different image formats.\nIf you want to learn more, please read what I have written about [the picture element](/the-picture-tag/).\n\nWe want an HTML output like this:\n\n```html\n\u003Cpicture>\n  \u003Csource\n    type=\"image/avif\"\n    srcset=\"\n      /img/dog_large.avif  1280w,\n      /img/dog_medium.avif  640w,\n      /img/dog_small.avif   320w\n    \"\n    sizes=\"(min-width: 640px) 50vw, 100vw\"\n  />\n  \u003Csource\n    type=\"image/webp\"\n    srcset=\"\n      /img/dog_large.webp  1280w,\n      /img/dog_medium.webp  640w,\n      /img/dog_small.webp   320w\n    \"\n    sizes=\"(min-width: 640px) 50vw, 100vw\"\n  />\n  \u003Csource\n    type=\"image/jpg\"\n    srcset=\"\n      /img/dog_large.jpg  1280w,\n      /img/dog_medium.jpg  640w,\n      /img/dog_small.jpg   320w\n    \"\n    sizes=\"(min-width: 640px) 50vw, 100vw\"\n  />\n  \u003Cimg src=\"/img/dog_medium.jpg\" alt=\"My pug, Bobby\" />\n\u003C/picture>\n```\n\nBecause:\n\n- Uses different image formats, the high performant AVIF when the browser supports it, WebP or JPG if not.\n  Thus we load the image with fewer kilobytes.\n- Uses the large, medium, or small image based on the screen size and the size of the image spot on the screen.\n  Thus we don't load big images on small screens.\n- If the browser doesn't support the picture element, it will use the img element inside it.\n\nYou may wonder if these fancy image formats like AVIF or WebP are worth it. Just to give you an idea, the original JPEG\nfile was 91KB, the WebP version is **70KB (-23%)**, and the AVIF **30KB (-67%)**. So what you think?\n\nHere is the layout we are trying to implement, and that's why we use sizes.\n\n- On the desktop, the image is displayed on half of the screen width\n\nimport { Picture } from \"astro:assets\";\n\n\u003CPicture\n  src={import(\"./halfscreen.png\")}\n  widths={[480, 800]}\n  formats={[\"webp\"]}\n  sizes=\"(max-width: 600px) 480px, 800px\"\n  alt=\"Desktop version\"\n/>\n\n- On mobile, the image is displayed full-screen width\n\n\u003CPicture\n  src={import(\"./fullscreen.png\")}\n  widths={[480, 800]}\n  formats={[\"webp\"]}\n  sizes=\"(max-width: 600px) 480px, 800px\"\n  alt=\"Mobile version\"\n/>\n\n### 2. A component\n\nThere are different options for creating components in Eleventy (I have written about that in the [third part of this series](/eleventy-part-three)),\nbut in this case, the best option would be a shortcode.\n\nThe shortcode has a name followed by the arguments separated by comma:\n\n```\n{% \u003Cshortcode-name> \u003Cimage-url>, \u003Cimage alt>, \u003Csizes>, \u003Ccaption> %}\n```\n\nFor example:\n\n```html\n{% image \"./src/images/dog.jpg\", \"My pug, Bobby\", \"(min-width: 640px) 50vw,\n100vw\", \"Bobby sleeping in shade\" %}\n```\n\nShortcode name is \"image.\"\nShortcode parameters:\n\n- **image url**: \"./src/images/dog.jpg\".\n  This is our original image, ideally the tooling will generate .avif and .webp versions.\n- **image alt**: \"My pug, Bobby\"\n- **sizes**: \"(min-width: 640px) 50vw, 100vw\" (Means that if the screen width is at least 640px, the image will be displayed on half the screen. Under 640px will be displayed full screen)\n- **caption**: \"Bobby sleeping in shade\" (If provided we will wrap the picture inside a figure element)\n\n## The Implementation of the shortcode\n\nWe use the `eleventy-img` plugin to generate all the images, more exactly it's `Image` function.\n\n### Generate the images\n\nThe `Image` function requires the following information:\n\n- The path to the original image\n- The sizes we want for the images\n- The formats we want\n\n```js\nconst Image = require(\"@11ty/eleventy-img\");\n\n// Note: async / await\nasync function createImages(src) {\n  const metadata = await Image(src, {\n    widths: [320, 640, 1280],\n    formats: [\"avif\", \"webp\", \"jpeg\"],\n  });\n}\n```\n\nThe _metadata_ object contains information about each image that was generated.\nWe have three image formats (avif, webp, and jpeg). For each we have three sizes (320, 640, and 1280):\n\n```\n{ avif:\n   [ { format: 'avif',\n       width: 320,\n       height: 213,\n       filename: '50576aa3-320.avif',\n       outputPath: 'dist/img/50576aa3-320.avif',\n       url: '/img/50576aa3-320.avif',\n       sourceType: 'image/avif',\n       srcset: '/img/50576aa3-320.avif 320w',\n       size: 7213 },\n     { format: 'avif',\n       width: 640,\n       ...\n      },\n     { format: 'avif',\n       width: 1280,\n       ...\n      }\n  ],\n  webp:\n   [ { format: 'webp',\n       width: 320,\n       ... },\n     { format: 'webp',\n       width: 640,\n       ... },\n     { format: 'webp',\n       width: 1280,\n       ... }\n  ],\n  jpeg:\n   [ { format: 'jpeg',\n       width: 320,\n       ... },\n     { format: 'jpeg',\n       width: 640,\n       ... },\n     { format: 'jpeg',\n       width: 1280,\n       ... }\n    ]\n}\n```\n\nOne issue we can have with the metadata is the name of a generated image. What if we want to change that?\nWell in that case we should provide to `Image` a function called `filenameFormat` that does it.\n\n```js\nconst Image = require(\"@11ty/eleventy-img\");\n\n// Note: async / await\nasync function createImages(src) {\n  const imageSizes = {\n    320: \"small\",\n    640: \"medium\",\n    1280: \"large\",\n  };\n\n  const metadata = await Image(src, {\n    widths: Object.keys(imageSizes).map((k) => +k),\n    formats: [\"avif\", \"webp\", \"jpeg\"],\n    filenameFormat: function (id, src, width, format, options) {\n      const extension = path.extname(src);\n      const name = path.basename(src, extension);\n      const size = imageSizes[width + \"\"];\n      return `${name}_${size}.${format}`;\n    },\n  });\n}\n```\n\nNow, if our original image is `dog.jpg`, the names of the images will look like this:\n\n```bash\n{ avif:\n   [ { format: 'avif',\n       width: 320,\n       height: 213,\n       filename: 'dog_small.avif',\n       outputPath: 'dist/img/dog_small.avif',\n       url: '/img/dog_small.avif',\n       sourceType: 'image/avif',\n       srcset: '/img/dog_small.avif 320w',\n       size: 7213 },\n     { format: 'avif',\n       width: 640,\n       height: 426,\n       filename: 'dog_medium.avif',\n       outputPath: 'dist/img/dog_medium.avif',\n       url: '/img/dog_medium.avif',\n       sourceType: 'image/avif',\n       srcset: '/img/dog_medium.avif 640w',\n       size: 22961 },\n     { format: 'avif',\n       width: 1280,\n       height: 853,\n       filename: 'dog_large.avif',\n       outputPath: 'dist/img/dog_large.avif',\n       url: '/img/dog_large.avif',\n       sourceType: 'image/avif',\n       srcset: '/img/dog_large.avif 1280w',\n       size: 74347 } ],\n  webp: ...,\n  jpeg: ...\n```\n\nOne final note, we can also provide an output folder for the images, by setting the `outputDir`:\n\n```js\nconst Image = require(\"@11ty/eleventy-img\");\n\n// Note: async / await\nasync function createImages(src) {\n  const metadata = await Image(src, {\n    widths: [320, 640, 1280],\n    formats: [\"avif\", \"webp\", \"jpeg\"],\n    outputDir: \"./dist/img\",\n  });\n}\n```\n\n### Generate the HTML output\n\nOnce we have the metadata, we can use it to generate the picture.\n\nThe simplest version of the shortcode uses `Image.generateHTML`, from the same plugin, to generate the HTML output.\nIn most cases, this should be enough.\n\n```js\nconst Image = require(\"@11ty/eleventy-img\");\n\nfunction wrapFigure(output, caption) {\n  return `\n    \u003Cfigure>\n      ${output}\n      \u003Cfigcaption>${caption}\u003C/figcaption>\n    \u003Cfigure>\n  `;\n}\n\nasync function imageShortcode(src, alt, sizes = \"\", caption = \"\") {\n  // create images and return the files metadata\n  const metadata = await Image(src, {\n    widths: [320, 640, 1280],\n    formats: [\"avif\", \"webp\", \"jpeg\"],\n  });\n\n  const imageAttributes = {\n    alt,\n    sizes,\n    loading: \"lazy\",\n    decoding: \"async\",\n  };\n\n  const pictureOutput = Image.generateHTML(metadata, imageAttributes);\n\n  return caption ? wrapFigure(pictureOutput) : pictureOutput;\n}\n\nmodule.exports = imageShortcode;\n```\n\nIf we need complete control of the output we can add our implementation instead of using `Image.generateHTML`:\n\n```js\nconst Image = require(\"@11ty/eleventy-img\");\n\nfunction wrapFigure(output, caption) {\n  return `\n    \u003Cfigure>\n      ${output}\n      \u003Cfigcaption>${caption}\u003C/figcaption>\n    \u003Cfigure>\n  `;\n}\n\nfunction generateHTML(metadata, imageAttributes) {\n  // use the lower resolution width, height and url for the img\n  let lowsrc = metadata.jpeg[0];\n\n  return `\u003Cpicture>\n    ${Object.values(metadata)\n      .map((imageFormat) => {\n        return `  \u003Csource type=\"${\n          imageFormat[0].sourceType\n        }\" srcset=\"${imageFormat\n          .map((entry) => entry.srcset)\n          .join(\", \")}\" sizes=\"${imageAttributes.sizes}\">`;\n      })\n      .join(\"\\n\")}\n      \u003Cimg\n        src=\"${lowsrc.url}\"\n        width=\"${lowsrc.width}\"\n        height=\"${lowsrc.height}\"\n        alt=\"${imageAttributes.alt}\"\n        loading=\"lazy\"\n        decoding=\"async\">\n    \u003C/picture>`;\n}\n\nasync function imageShortcode(src, alt, sizes = \"\", caption = \"\") {\n  // create images and return the files metadata\n  const metadata = await Image(src, {\n    widths: [320, 640, 1280],\n    formats: [\"avif\", \"webp\", \"jpeg\"],\n  });\n\n  const imageAttributes = {\n    alt,\n    sizes,\n  };\n\n  const pictureOutput = generateHTML(metadata, imageAttributes);\n\n  return caption ? wrapFigure(pictureOutput) : pictureOutput;\n}\n\nmodule.exports = imageShortcode;\n```\n\n### Add the shortcode in configuration file\n\nBefore we can use the shortcode, we need to tell Eleventy about it, meaning we need to add it the\n`.eleventy.js`:\n\n```js\nconst imageShortcode = require('./\u003Cpath-to-file>/imageShortcode.js');\n\nmodule.exports = function(eleventyConfig) {\n  ...\n  eleventyConfig.addShortcode(\"image\", imageShortcode);\n  ...\n};\n```\n\n### Use the shortcode inside markdown\n\nFinally, we can use the shortcode as planed:\n\n```markdown\n---\ntitle: \"Eleventy Images Demo\"\n---\n\nHello\n{% image \"./src/images/dog.jpg\", \"My pug, Bobby\",  \"(min-width: 640px) 50vw, 100vw\", \"Bobby sleeping in shade\" %}\n```\n\n## Using images from the same folder\n\nIn all the above examples, we had to provide the path to the images relative to the project folder, e.g. \"./src/images/dog.jpg\".\nWhat if we want to use an image from the current folder? In some cases, I like to keep the images in the same folder with\nthe current page, not in a single, global folder.\n\nWe could use the page `inputPath` to create the absolute path Eleventy needs to find the image. So, for example, inside our\nshortcode implementation we check if the source starts with a dot and if not we assume is a local image:\n\n```js\nasync function imageShortcode(src, alt, sizes='', caption='') {\n  let imgSrc = src;\n\n  // handle same folder images, append the input path to make the path relative\n  // to project folder as 11ty requires it\n  if (!imgSrc.startsWith('.')) {\n    const inputPath = this.page.inputPath;\n    const pathParts = inputPath.split('/');\n    pathParts.pop();\n    imgSrc = pathParts.join('/') + '/' + src;\n  }\n\n  // create images and return the files metadata\n  const metadata = await Image(imgSrc, {\n    widths: [320, 640, 1280],\n    formats: [\"avif\", \"webp\", \"jpeg\"]\n  });\n\n  ...\n};\n```\n\nIn Markdown, we use \"dog.jpg\" as the source instead of \"./src/blog/mypost/dog.jpg\":\n\n```markdown\n{% image \"dog.jpg\", \"My pug, Bobby\",  \"(min-width: 640px) 50vw, 100vw\", \"Bobby sleeping in shade\" %}\n```\n\n## Taking it full monty with art direction\n\nWe usually use landscape images on the desktop, and they look very small on mobile, and most of the image details are\nnot visible, so why don't we show a \"zoomed in\" part of the image on mobile?\n\nTake a look at the image below. On the left, we use the original image and on the right, we use a version of the image\nthat shows only a part of the original. Sometimes people do something like this, some use a completely different image. This is called _art direction_.\n\n\u003CPicture\n  src={import(\"./detail.jpg\")}\n  widths={[480, 800]}\n  formats={[\"webp\"]}\n  sizes=\"(max-width: 600px) 480px, 800px\"\n  alt=\"Mobile version is a detail of the original\"\n/>\n\nTo do something like this, we need a couple of more things:\n\n- the second image source\n- the second image media(query)\n- and optionally different sizes for this second image\n\n```html\n{% image \"./src/images/dog.jpg\", \"My pug, Bobby\", \"(min-width: 640px) 50vw,\n100vw\", \"\", \"./src/images/dogdetail.png\", \"(max-width: 480px)\", \"100vw\" %}\n```\n\nHere is the updated code:\n\n```js\n...\n\nfunction generateHTML(metadata, imageAttributes, detailMetadata, detailMedia, detailSizes) {\n  // use the lower resolution width, height and url for the img\n  let lowsrc = metadata.jpeg[0];\n\n  const detailOutput = detailMetadata ?\n    Object.values(detailMetadata).map(imageFormat => {\n      return `  \u003Csource type=\"${imageFormat[0].sourceType}\"\n                        srcset=\"${imageFormat.map(entry => entry.srcset).join(\", \")}\"\n                        media=\"${detailMedia}\"\n                        sizes=\"${detailSizes}\">`\n    }).join('\\n') : '';\n\n  const sources = detailOutput +\n    Object.values(metadata).map(imageFormat => {\n      return `  \u003Csource type=\"${imageFormat[0].sourceType}\" srcset=\"${imageFormat.map(entry => entry.srcset).join(\", \")}\"  sizes=\"${imageAttributes.sizes}\">`;\n    }).join('\\n')\n\n  return `\u003Cpicture>\n    ${sources}\n      \u003Cimg\n        src=\"${lowsrc.url}\"\n        width=\"${lowsrc.width}\"\n        height=\"${lowsrc.height}\"\n        alt=\"${imageAttributes.alt}\"\n        loading=\"lazy\"\n        decoding=\"async\">\n    \u003C/picture>`;\n}\n\nasync function imageWithDetailShortcode(src, alt, sizes, caption, detailSrc, detailMedia, detailSizes = \"100vw\") {\n\n  const imageSizes = {\n    \"320\": \"small\",\n    \"640\": \"medium\",\n    \"1280\": \"large\"\n  }\n\n  let metadata = await Image(src, {\n    widths: Object.keys(imageSizes).map(k => +k),\n    formats: [\"avif\", \"webp\", \"jpeg\"],\n    outputDir: \"./dist/img/\",\n    filenameFormat: function (id, src, width, format, options) {\n      const extension = path.extname(src);\n      const name = path.basename(src, extension);\n\n      const size = imageSizes[width + \"\"];\n      return `${name}_${size}.${format}`;\n    }\n  });\n\n  // need to generate metadata for the second image also\n  let detailMetadata = detailSrc && detailMedia ? await Image(detailSrc, {\n    widths: Object.keys(imageSizes).map(k => +k),\n    formats: [\"avif\", \"webp\", \"jpeg\"],\n    outputDir: \"./dist/img/\",\n    filenameFormat: function (id, src, width, format, options) {\n      const extension = path.extname(src);\n      const name = path.basename(src, extension);\n\n      const size = imageSizes[width + \"\"];\n      return `${name}_${size}.${format}`;\n    }\n  }) : null;\n\n  let imageAttributes = {\n    alt,\n    sizes\n  };\n\n  const pictureOutput = generateHTML(metadata, imageAttributes, detailMetadata, detailMedia, detailSizes);\n\n  return caption ? wrapFigure(pictureOutput) : pictureOutput;\n}\n...\n```\n\n## Resources\n\n- For more info, you can check the [11ty docs](https://www.11ty.dev/docs/plugins/image/).\n- [Maximally optimizing image loading for the web in 2021](https://www.industrialempathy.com/posts/image-optimizations/)\n- My post about the [The picture element](/the-picture-tag/)","src/content/eleventy-part-four/index.mdx","cf2333706473e099","functional-style-programming",["Map",7,473],{"id":7,"data":474,"body":483,"filePath":484,"digest":485,"rendered":486,"legacyId":64},{"title":475,"pubDate":476,"description":477,"keywords":478,"twitterImage":481,"minutesRead":227,"excerpt":482},"Functional Style Programming",["Date","2020-08-17T00:00:00.000Z"],"What is functional style programming and why it's useful",[479,480,14],"Functional programming","Functional style","https://www.raresportan.com/twitter-cards/functional-style-programming.png","The vast majority of us, programmers, use an OOP language like Java, C++, or C#. Very few are using a functional programming language like H","The vast majority of us, programmers, use an OOP language like Java, C++, or C#. Very few are using a functional programming language like Haskell, Elixir, or Clojure.\n\nAnd then we use some languages that support both paradigms, OOP and Functional, like JavaScript, Python, or Ruby.\n\nBut for some reason, we tend to use them in an OOP way and seldom in a Functional way.\nI think that is a mistake, there are some great ideas in both paradigms, and we should\nuse the best of both worlds.\n\nThere is real value in following e functional style of programming, even when we\nuse OOP language, everything we know, all our hard-won knowledge.\n\nThe good news is that, no matter what language you work in, programming in a functional\nstyle provides benefits. You should do it whenever it is convenient, and you should\nthink hard about the decision when it isn’t convenient.\n\nLet's see what a functional style programming means.\n\n## Pure Functions\n\nOne of the core ideas of functional programming is the concept of `pure function`.\nA pure function is a function that, given the same input, will always return the same output and\ndoes not have any observable side effect.\n\n- It has no side effects: nothing outside the function is affected in any way.\n- It doesn't use global state.\n\n```js\n// impure because it uses global variable\nconst increase = () => {\n  window._count = window._count || 0;\n  window._count++;\n  return window._count;\n};\n\n// pure\nconst increase = (state = 0) => state + 1;\nwindow._count = increase(window._count);\n```\n\n- It doesn’t uses outside state or functions that use outside state.\n\n```js\n// impure because it uses external variable\nlet counter = 1;\nconst addImpure = (n) => (counter += n);\n// pure\nconst add = (n, counter) => counter + n;\n```\n\n- It doesn’t maintain internal state.\n\n```js\n// impure because it uses maintains state\nclass Counter() {\n  constructor(initial = 0){\n    this.value = initial;\n  }\n\n  increase(){\n    this.value = this.value + 1;\n    return this.value;\n  }\n}\n```\n\n- It doesn't perform any IO.\n\n- It doesn't mutate any of the input parameters.\n\n```js\n// impure because it uses mutates arguments\nfunction tomorrow(date) {\n  date.setDate(date.getDate() + 1);\n  return date;\n}\n\n// pure\nfunction tomorrow(date) {\n  const d = new Date(date.getTime());\n  d.setDate(d.getDate() + 1);\n  return d;\n}\n```\n\nPure functions have a lot of nice properties:\n\n- Thread safety: A pure function is thread-safe because it does not affect on its arguments and exterior.\n- Reusability: It is much easier to move a pure function to a new environment again because it has no side effects.\n  You can be sure you don't create nasty surprises.\n- Easy to test: A pure will always give the same result for the same parameters no matter when it is called, and how many times it is called.\n  When you find a complicated piece of code now, it's so useful to extract the most complicated bits in separate pure functions\n  and write tests for those functions. So often you'll find something wrong.\n- Maintainability: Everything is there in your face, no need to do `code surfing`. Pure functions are the easiest to understand and debug.\n\nPure functions are not used by many people. Most of them don't even know about them.\nOf course, not everything can be pure. Any program needs to interact with the outside world. \nSide effects like saving and loading files, network calls, etc. are necessary.\n\nIt doesn’t even have to be all-or-nothing also. An almost-pure function is almost as useful as\na completely-pure one, but the difference from an almost pure function to a spaghetti abomination is immense. \nMoving a function towards purity improves the code, even if it doesn’t reach full purity.\n\n## Immutability\n\nIn functional programming, data is immutable (or at least is treated so.) New data is created\nusing existing data instead of _mutating_ existing data.\n\nAs we saw, pure functions don’t mutate arguments and always return an output. They always\ncreate new things and treat everything as immutable even if they are not.\n\nThere are some big advantages to this style of programming: No code can mutate data by mistake.\nAn entire class of bugs is gone.\n\n```js\n// objects are mutable, but we treat them as immutable\nconst state = {\n  loggedin: false,\n};\n\n// instead of mutating the original object we create a new object\nconst newState = {\n  ...state,\n  loggedin: true,\n  user: \"johnny\",\n};\n\nconst login = (state = {}, user) => {\n  return {\n    ...state,\n    loggedin: true,\n    user,\n  };\n};\n\nconst stateAfterLogin = login(state, \"johnny\");\nconsole.log(\"Original state\", state);\nconsole.log(\"State after login\", stateAfterLogin);\n\n//  Arrays are mutable but they can used in a immutable way\nconst numbers = [1, 2, 3];\n// instead of mutating original array we create a new array\nconst newNumbers = [...numbers, 4];\n// built-in filter creates a new array\nconst filteredNumbers = numbers.filter((n) => n > 2);\n\nconst addNumber = (numbers, newNumber) => [...numbers, newNumber];\n\nconst removeNumber = (numbers, numberToRemove) =>\n  numbers && numbers.filter((n) => n !== numberToRemove);\n```\n\nOf course, no concurency issues and another advandage is that you can detect changes\nby comparing references instead of comparing property with property.\n\n```js\nconst oldState = {\n  loggedin: false,\n};\n\nconst newState = {\n  loggedin: true,\n  user: \"Joe\",\n  level: 10,\n  id: \"jnjnr32r3432mmvv\",\n  address: {\n    city: \"London\",\n  },\n};\n\n// instead of\nif (\n  oldState.loggedin !== newState.loggedin ||\n  oldState.user !== newState.user ||\n  oldState.level !== newState.level ||\n  oldState.id !== newState.id ||\n  oldState.address !== newState.address ||\n  (oldState.address &&\n    newState.address &&\n    oldState.address.city !== newState.address.city)\n) {\n  // do something\n}\n\n// you can do this\nif (oldState !== newState.id) {\n  // do something\n}\n```\n\nBut creating new things instead of mutating existing ones has some performance penalties.\n\nProgramming with pure functions involves more copying of data, and in some cases,\nthis is not the best way to do it. Copying huge objects or huge lists of objects is not a good idea.\n\n## Composition\n\nAnother core idea of functional style programming is the composition of functions to create higher-level functions,\nthat implement business logic.\n\nThis can be done only if functions are first-class in your language, that is if they can be sent as arguments to\nother functions and can be returned from other functions.\n\n```js\nconst replaceWithSpace = (s) => s.replace(/\\s{2,}/gi, \" \");\nconst split = (s) => s.split(\" \");\nconst toLower = (x) => x.toLowerCase();\n\n// a bunch of small functions are used to create bigger functions\nconst dasherize = compose(\n  replaceWithSpace,\n  split,\n  (words) => words.map(toLower),\n  (words) => words.join(\"-\")\n);\n```\n\nOne of the issues of the composition is that we can use only functions that accept only one argument because the output\nof one function becomes the argument to the next.\n\nFor this, we need to break the functions with many arguments into a series of functions\nthat each take one argument and ultimately produce the same result as the original function.\n\n```js\n// original\nconst add = (x, y) => x + y;\nadd(1, 2);\n\n// using currying and arrow functions\nadd = (x) => (y) => x + y;\nadd(1)(2);\n```\n\n## Functional core, imperative shell\n\nMy strong belief is that every codebase must have a functional part. Ideally,\nevery piece of code should have a functional core and an imperative shell:\nFunctional core handles state mutations by implementing the complex and hairy logic that updates the state.\nLeveraging the power and simplicity of the pure functions and immutable data,\nthis code is easily testable and easily made rock solid.\n\nThe Imperative shell, around the Functional core, handles the binding with the\nrest of the world, it uses the data to perform side effects in the world: saving\nor loading data from file system or network, rendering on the screen,\nlogging and any other operation with performance implications.\n\n```js\n// Pure\nconst repeat = (howManyTimes) => (str) => str.repeat(howManyTimes);\nconst repeat3 = repeat(3);\nconst emojis = repeat3(\"\\uD83D\\uDE02\");\nconst textWithEmoji = (emoji) => (joke) => joke + emoji;\nconst textWithTearsOfJoy = textWithEmoji(emojis);\nconst joke = (json) => json.joke;\n\nconst formatJoke = (data) => {\n  const jokeText = joke(data);\n  return textWithTearsOfJoy(jokeText);\n};\n\n// Impure\nconst getJSON = (url) =>\n  fetch(url, { headers: { Accept: \"application/json\" } });\n\n// App has a functional core (formatJoke)\n// inside an imperative shell (all other)\nconst app = (url) => {\n  getJSON(url)\n    .then((result) => result.json())\n    .then((json) => formatJoke(json))\n    .then((x) => console.log(`%c${x}`, \"font-size: x-large\"));\n};\napp(\"https://icanhazdadjoke.com/\");\n```","src/content/functional-style-programming/index.md","08c6f920061710bd",{"html":487,"metadata":488},"\u003Cp>The vast majority of us, programmers, use an OOP language like Java, C++, or C#. Very few are using a functional programming language like Haskell, Elixir, or Clojure.\u003C/p>\n\u003Cp>And then we use some languages that support both paradigms, OOP and Functional, like JavaScript, Python, or Ruby.\u003C/p>\n\u003Cp>But for some reason, we tend to use them in an OOP way and seldom in a Functional way.\nI think that is a mistake, there are some great ideas in both paradigms, and we should\nuse the best of both worlds.\u003C/p>\n\u003Cp>There is real value in following e functional style of programming, even when we\nuse OOP language, everything we know, all our hard-won knowledge.\u003C/p>\n\u003Cp>The good news is that, no matter what language you work in, programming in a functional\nstyle provides benefits. You should do it whenever it is convenient, and you should\nthink hard about the decision when it isn’t convenient.\u003C/p>\n\u003Cp>Let’s see what a functional style programming means.\u003C/p>\n\u003Ch2 id=\"pure-functions\">Pure Functions\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#pure-functions\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>One of the core ideas of functional programming is the concept of \u003Ccode>pure function\u003C/code>.\nA pure function is a function that, given the same input, will always return the same output and\ndoes not have any observable side effect.\u003C/p>\n\u003Cul>\n\u003Cli>It has no side effects: nothing outside the function is affected in any way.\u003C/li>\n\u003Cli>It doesn’t use global state.\u003C/li>\n\u003C/ul>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token comment\">// impure because it uses global variable\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> \u003Cspan class=\"token function-variable function\">increase\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n  window\u003Cspan class=\"token punctuation\">.\u003C/span>_count \u003Cspan class=\"token operator\">=\u003C/span> window\u003Cspan class=\"token punctuation\">.\u003C/span>_count \u003Cspan class=\"token operator\">||\u003C/span> \u003Cspan class=\"token number\">0\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n  window\u003Cspan class=\"token punctuation\">.\u003C/span>_count\u003Cspan class=\"token operator\">++\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n  \u003Cspan class=\"token keyword\">return\u003C/span> window\u003Cspan class=\"token punctuation\">.\u003C/span>_count\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token comment\">// pure\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> \u003Cspan class=\"token function-variable function\">increase\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">state \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token number\">0\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> state \u003Cspan class=\"token operator\">+\u003C/span> \u003Cspan class=\"token number\">1\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\nwindow\u003Cspan class=\"token punctuation\">.\u003C/span>_count \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token function\">increase\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>window\u003Cspan class=\"token punctuation\">.\u003C/span>_count\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cul>\n\u003Cli>It doesn’t uses outside state or functions that use outside state.\u003C/li>\n\u003C/ul>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token comment\">// impure because it uses external variable\u003C/span>\n\u003Cspan class=\"token keyword\">let\u003C/span> counter \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token number\">1\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> \u003Cspan class=\"token function-variable function\">addImpure\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">n\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>counter \u003Cspan class=\"token operator\">+=\u003C/span> n\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token comment\">// pure\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> \u003Cspan class=\"token function-variable function\">add\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">n\u003Cspan class=\"token punctuation\">,\u003C/span> counter\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> counter \u003Cspan class=\"token operator\">+\u003C/span> n\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cul>\n\u003Cli>It doesn’t maintain internal state.\u003C/li>\n\u003C/ul>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token comment\">// impure because it uses maintains state\u003C/span>\n\u003Cspan class=\"token keyword\">class\u003C/span> \u003Cspan class=\"token class-name\">Counter\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n  \u003Cspan class=\"token function\">constructor\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">initial \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token number\">0\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">{\u003C/span>\n    \u003Cspan class=\"token keyword\">this\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>value \u003Cspan class=\"token operator\">=\u003C/span> initial\u003Cspan class=\"token punctuation\">;\u003C/span>\n  \u003Cspan class=\"token punctuation\">}\u003C/span>\n\n  \u003Cspan class=\"token function\">increase\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">{\u003C/span>\n    \u003Cspan class=\"token keyword\">this\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>value \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token keyword\">this\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>value \u003Cspan class=\"token operator\">+\u003C/span> \u003Cspan class=\"token number\">1\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n    \u003Cspan class=\"token keyword\">return\u003C/span> \u003Cspan class=\"token keyword\">this\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>value\u003Cspan class=\"token punctuation\">;\u003C/span>\n  \u003Cspan class=\"token punctuation\">}\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cul>\n\u003Cli>\n\u003Cp>It doesn’t perform any IO.\u003C/p>\n\u003C/li>\n\u003Cli>\n\u003Cp>It doesn’t mutate any of the input parameters.\u003C/p>\n\u003C/li>\n\u003C/ul>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token comment\">// impure because it uses mutates arguments\u003C/span>\n\u003Cspan class=\"token keyword\">function\u003C/span> \u003Cspan class=\"token function\">tomorrow\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">date\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n  date\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">setDate\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>date\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">getDate\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">+\u003C/span> \u003Cspan class=\"token number\">1\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n  \u003Cspan class=\"token keyword\">return\u003C/span> date\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\n\n\u003Cspan class=\"token comment\">// pure\u003C/span>\n\u003Cspan class=\"token keyword\">function\u003C/span> \u003Cspan class=\"token function\">tomorrow\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">date\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n  \u003Cspan class=\"token keyword\">const\u003C/span> d \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token keyword\">new\u003C/span> \u003Cspan class=\"token class-name\">Date\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>date\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">getTime\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n  d\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">setDate\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>d\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">getDate\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">+\u003C/span> \u003Cspan class=\"token number\">1\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n  \u003Cspan class=\"token keyword\">return\u003C/span> d\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>Pure functions have a lot of nice properties:\u003C/p>\n\u003Cul>\n\u003Cli>Thread safety: A pure function is thread-safe because it does not affect on its arguments and exterior.\u003C/li>\n\u003Cli>Reusability: It is much easier to move a pure function to a new environment again because it has no side effects.\nYou can be sure you don’t create nasty surprises.\u003C/li>\n\u003Cli>Easy to test: A pure will always give the same result for the same parameters no matter when it is called, and how many times it is called.\nWhen you find a complicated piece of code now, it’s so useful to extract the most complicated bits in separate pure functions\nand write tests for those functions. So often you’ll find something wrong.\u003C/li>\n\u003Cli>Maintainability: Everything is there in your face, no need to do \u003Ccode>code surfing\u003C/code>. Pure functions are the easiest to understand and debug.\u003C/li>\n\u003C/ul>\n\u003Cp>Pure functions are not used by many people. Most of them don’t even know about them.\nOf course, not everything can be pure. Any program needs to interact with the outside world. \nSide effects like saving and loading files, network calls, etc. are necessary.\u003C/p>\n\u003Cp>It doesn’t even have to be all-or-nothing also. An almost-pure function is almost as useful as\na completely-pure one, but the difference from an almost pure function to a spaghetti abomination is immense. \nMoving a function towards purity improves the code, even if it doesn’t reach full purity.\u003C/p>\n\u003Ch2 id=\"immutability\">Immutability\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#immutability\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>In functional programming, data is immutable (or at least is treated so.) New data is created\nusing existing data instead of \u003Cem>mutating\u003C/em> existing data.\u003C/p>\n\u003Cp>As we saw, pure functions don’t mutate arguments and always return an output. They always\ncreate new things and treat everything as immutable even if they are not.\u003C/p>\n\u003Cp>There are some big advantages to this style of programming: No code can mutate data by mistake.\nAn entire class of bugs is gone.\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token comment\">// objects are mutable, but we treat them as immutable\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> state \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n  \u003Cspan class=\"token literal-property property\">loggedin\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token boolean\">false\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token comment\">// instead of mutating the original object we create a new object\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> newState \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n  \u003Cspan class=\"token operator\">...\u003C/span>state\u003Cspan class=\"token punctuation\">,\u003C/span>\n  \u003Cspan class=\"token literal-property property\">loggedin\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token boolean\">true\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n  \u003Cspan class=\"token literal-property property\">user\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token string\">\"johnny\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token keyword\">const\u003C/span> \u003Cspan class=\"token function-variable function\">login\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">state \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> user\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n  \u003Cspan class=\"token keyword\">return\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n    \u003Cspan class=\"token operator\">...\u003C/span>state\u003Cspan class=\"token punctuation\">,\u003C/span>\n    \u003Cspan class=\"token literal-property property\">loggedin\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token boolean\">true\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n    user\u003Cspan class=\"token punctuation\">,\u003C/span>\n  \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token keyword\">const\u003C/span> stateAfterLogin \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token function\">login\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>state\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token string\">\"johnny\"\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\nconsole\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">log\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"Original state\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> state\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\nconsole\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">log\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"State after login\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> stateAfterLogin\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token comment\">//  Arrays are mutable but they can used in a immutable way\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> numbers \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>\u003Cspan class=\"token number\">1\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token number\">2\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token number\">3\u003C/span>\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token comment\">// instead of mutating original array we create a new array\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> newNumbers \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>\u003Cspan class=\"token operator\">...\u003C/span>numbers\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token number\">4\u003C/span>\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token comment\">// built-in filter creates a new array\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> filteredNumbers \u003Cspan class=\"token operator\">=\u003C/span> numbers\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">filter\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">n\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> n \u003Cspan class=\"token operator\">>\u003C/span> \u003Cspan class=\"token number\">2\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token keyword\">const\u003C/span> \u003Cspan class=\"token function-variable function\">addNumber\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">numbers\u003Cspan class=\"token punctuation\">,\u003C/span> newNumber\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>\u003Cspan class=\"token operator\">...\u003C/span>numbers\u003Cspan class=\"token punctuation\">,\u003C/span> newNumber\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token keyword\">const\u003C/span> \u003Cspan class=\"token function-variable function\">removeNumber\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">numbers\u003Cspan class=\"token punctuation\">,\u003C/span> numberToRemove\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span>\n  numbers \u003Cspan class=\"token operator\">&#x26;&#x26;\u003C/span> numbers\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">filter\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">n\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> n \u003Cspan class=\"token operator\">!==\u003C/span> numberToRemove\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>Of course, no concurency issues and another advandage is that you can detect changes\nby comparing references instead of comparing property with property.\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token keyword\">const\u003C/span> oldState \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n  \u003Cspan class=\"token literal-property property\">loggedin\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token boolean\">false\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token keyword\">const\u003C/span> newState \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n  \u003Cspan class=\"token literal-property property\">loggedin\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token boolean\">true\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n  \u003Cspan class=\"token literal-property property\">user\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token string\">\"Joe\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n  \u003Cspan class=\"token literal-property property\">level\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token number\">10\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n  \u003Cspan class=\"token literal-property property\">id\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token string\">\"jnjnr32r3432mmvv\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n  \u003Cspan class=\"token literal-property property\">address\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n    \u003Cspan class=\"token literal-property property\">city\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token string\">\"London\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n  \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token comment\">// instead of\u003C/span>\n\u003Cspan class=\"token keyword\">if\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>\n  oldState\u003Cspan class=\"token punctuation\">.\u003C/span>loggedin \u003Cspan class=\"token operator\">!==\u003C/span> newState\u003Cspan class=\"token punctuation\">.\u003C/span>loggedin \u003Cspan class=\"token operator\">||\u003C/span>\n  oldState\u003Cspan class=\"token punctuation\">.\u003C/span>user \u003Cspan class=\"token operator\">!==\u003C/span> newState\u003Cspan class=\"token punctuation\">.\u003C/span>user \u003Cspan class=\"token operator\">||\u003C/span>\n  oldState\u003Cspan class=\"token punctuation\">.\u003C/span>level \u003Cspan class=\"token operator\">!==\u003C/span> newState\u003Cspan class=\"token punctuation\">.\u003C/span>level \u003Cspan class=\"token operator\">||\u003C/span>\n  oldState\u003Cspan class=\"token punctuation\">.\u003C/span>id \u003Cspan class=\"token operator\">!==\u003C/span> newState\u003Cspan class=\"token punctuation\">.\u003C/span>id \u003Cspan class=\"token operator\">||\u003C/span>\n  oldState\u003Cspan class=\"token punctuation\">.\u003C/span>address \u003Cspan class=\"token operator\">!==\u003C/span> newState\u003Cspan class=\"token punctuation\">.\u003C/span>address \u003Cspan class=\"token operator\">||\u003C/span>\n  \u003Cspan class=\"token punctuation\">(\u003C/span>oldState\u003Cspan class=\"token punctuation\">.\u003C/span>address \u003Cspan class=\"token operator\">&#x26;&#x26;\u003C/span>\n    newState\u003Cspan class=\"token punctuation\">.\u003C/span>address \u003Cspan class=\"token operator\">&#x26;&#x26;\u003C/span>\n    oldState\u003Cspan class=\"token punctuation\">.\u003C/span>address\u003Cspan class=\"token punctuation\">.\u003C/span>city \u003Cspan class=\"token operator\">!==\u003C/span> newState\u003Cspan class=\"token punctuation\">.\u003C/span>address\u003Cspan class=\"token punctuation\">.\u003C/span>city\u003Cspan class=\"token punctuation\">)\u003C/span>\n\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n  \u003Cspan class=\"token comment\">// do something\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\n\n\u003Cspan class=\"token comment\">// you can do this\u003C/span>\n\u003Cspan class=\"token keyword\">if\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>oldState \u003Cspan class=\"token operator\">!==\u003C/span> newState\u003Cspan class=\"token punctuation\">.\u003C/span>id\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n  \u003Cspan class=\"token comment\">// do something\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>But creating new things instead of mutating existing ones has some performance penalties.\u003C/p>\n\u003Cp>Programming with pure functions involves more copying of data, and in some cases,\nthis is not the best way to do it. Copying huge objects or huge lists of objects is not a good idea.\u003C/p>\n\u003Ch2 id=\"composition\">Composition\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#composition\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>Another core idea of functional style programming is the composition of functions to create higher-level functions,\nthat implement business logic.\u003C/p>\n\u003Cp>This can be done only if functions are first-class in your language, that is if they can be sent as arguments to\nother functions and can be returned from other functions.\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token keyword\">const\u003C/span> \u003Cspan class=\"token function-variable function\">replaceWithSpace\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">s\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> s\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">replace\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token regex\">\u003Cspan class=\"token regex-delimiter\">/\u003C/span>\u003Cspan class=\"token regex-source language-regex\">\\s{2,}\u003C/span>\u003Cspan class=\"token regex-delimiter\">/\u003C/span>\u003Cspan class=\"token regex-flags\">gi\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token string\">\" \"\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> \u003Cspan class=\"token function-variable function\">split\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">s\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> s\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">split\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\" \"\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> \u003Cspan class=\"token function-variable function\">toLower\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">x\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> x\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">toLowerCase\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token comment\">// a bunch of small functions are used to create bigger functions\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> dasherize \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token function\">compose\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\n  replaceWithSpace\u003Cspan class=\"token punctuation\">,\u003C/span>\n  split\u003Cspan class=\"token punctuation\">,\u003C/span>\n  \u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">words\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> words\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">map\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>toLower\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n  \u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">words\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> words\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">join\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"-\"\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\n\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>One of the issues of the composition is that we can use only functions that accept only one argument because the output\nof one function becomes the argument to the next.\u003C/p>\n\u003Cp>For this, we need to break the functions with many arguments into a series of functions\nthat each take one argument and ultimately produce the same result as the original function.\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token comment\">// original\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> \u003Cspan class=\"token function-variable function\">add\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">x\u003Cspan class=\"token punctuation\">,\u003C/span> y\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> x \u003Cspan class=\"token operator\">+\u003C/span> y\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token function\">add\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token number\">1\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token number\">2\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token comment\">// using currying and arrow functions\u003C/span>\n\u003Cspan class=\"token function-variable function\">add\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">x\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">y\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> x \u003Cspan class=\"token operator\">+\u003C/span> y\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token function\">add\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token number\">1\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token number\">2\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Ch2 id=\"functional-core-imperative-shell\">Functional core, imperative shell\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#functional-core-imperative-shell\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>My strong belief is that every codebase must have a functional part. Ideally,\nevery piece of code should have a functional core and an imperative shell:\nFunctional core handles state mutations by implementing the complex and hairy logic that updates the state.\nLeveraging the power and simplicity of the pure functions and immutable data,\nthis code is easily testable and easily made rock solid.\u003C/p>\n\u003Cp>The Imperative shell, around the Functional core, handles the binding with the\nrest of the world, it uses the data to perform side effects in the world: saving\nor loading data from file system or network, rendering on the screen,\nlogging and any other operation with performance implications.\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token comment\">// Pure\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> \u003Cspan class=\"token function-variable function\">repeat\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">howManyTimes\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">str\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> str\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">repeat\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>howManyTimes\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> repeat3 \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token function\">repeat\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token number\">3\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> emojis \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token function\">repeat3\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"\\uD83D\\uDE02\"\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> \u003Cspan class=\"token function-variable function\">textWithEmoji\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">emoji\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">joke\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> joke \u003Cspan class=\"token operator\">+\u003C/span> emoji\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> textWithTearsOfJoy \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token function\">textWithEmoji\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>emojis\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> \u003Cspan class=\"token function-variable function\">joke\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">json\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> json\u003Cspan class=\"token punctuation\">.\u003C/span>joke\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token keyword\">const\u003C/span> \u003Cspan class=\"token function-variable function\">formatJoke\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">data\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n  \u003Cspan class=\"token keyword\">const\u003C/span> jokeText \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token function\">joke\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>data\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n  \u003Cspan class=\"token keyword\">return\u003C/span> \u003Cspan class=\"token function\">textWithTearsOfJoy\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>jokeText\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token comment\">// Impure\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> \u003Cspan class=\"token function-variable function\">getJSON\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">url\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span>\n  \u003Cspan class=\"token function\">fetch\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>url\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span> \u003Cspan class=\"token literal-property property\">headers\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span> \u003Cspan class=\"token literal-property property\">Accept\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token string\">\"application/json\"\u003C/span> \u003Cspan class=\"token punctuation\">}\u003C/span> \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token comment\">// App has a functional core (formatJoke)\u003C/span>\n\u003Cspan class=\"token comment\">// inside an imperative shell (all other)\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> \u003Cspan class=\"token function-variable function\">app\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">url\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n  \u003Cspan class=\"token function\">getJSON\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>url\u003Cspan class=\"token punctuation\">)\u003C/span>\n    \u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">then\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">result\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> result\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">json\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\n    \u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">then\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">json\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token function\">formatJoke\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>json\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\n    \u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">then\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">x\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> console\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">log\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token template-string\">\u003Cspan class=\"token template-punctuation string\">`\u003C/span>\u003Cspan class=\"token string\">%c\u003C/span>\u003Cspan class=\"token interpolation\">\u003Cspan class=\"token interpolation-punctuation punctuation\">${\u003C/span>x\u003Cspan class=\"token interpolation-punctuation punctuation\">}\u003C/span>\u003C/span>\u003Cspan class=\"token template-punctuation string\">`\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token string\">\"font-size: x-large\"\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token function\">app\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"https://icanhazdadjoke.com/\"\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>",{"headings":489,"imagePaths":502,"frontmatter":474},[490,493,496,499],{"depth":51,"slug":491,"text":492},"pure-functions","Pure Functions",{"depth":51,"slug":494,"text":495},"immutability","Immutability",{"depth":51,"slug":497,"text":498},"composition","Composition",{"depth":51,"slug":500,"text":501},"functional-core-imperative-shell","Functional core, imperative shell",[],"hello-world",["Map",7,505],{"id":7,"data":506,"body":512,"filePath":513,"digest":514,"rendered":515,"legacyId":64},{"title":507,"pubDate":508,"description":509,"twitterImage":510,"minutesRead":41,"excerpt":511},"Hello, World!",["Date","2020-05-01T00:00:00.000Z"],"What is this blog about? It's abouut programming, web and software blues","https://www.raresportan.com/twitter-cards/hello-world.png","Turns out there is good side to this pandemic situation we all have to live with in 2020: I finally have time to start a blog.\nI’ll write ab","Turns out there is good side to this pandemic situation we all have to live with in 2020: I finally have time to start a blog.\n\nI'll write about programming. About the things I've learned along the way all these years and I'm still learning every day as a programmer. About how to be a better programmer.\n\nI like to write in first person style. While I'm writing, I imagine I'm talking with my reader.\n\nSo, let's begin.\n\n---\n\nLet’s make it clear from the beginning that our job as programmers is to create and deliver software.\n\n## Software that works is our number one priority\n\nWe are not paid to create designs, write code, do tests, documentation, build scripts, make plans and schedules.\nThese are just the means to reach the goal, these are just the costs of creating the software.\n\nWe are paid to deliver software that works.\n\n## Good software is all we care about\n\nThere is software that is successful and software that is not.\n\nSuccessful software is the one people like to use.\nIt might not be always the best, but it is always good.\nOur job is to do whatever it takes to deliver good software.\n\nEven if we are frustrated when requirements change all the time or we are unhappy because there is no time to polish a feature.\nEven when we are disappointed because we cannot use the latest shiny technology that makes waves on the Internet.\n\nWhy we always forget that horrible software or awesome software can be created using the same tech?\n\n```\nGood Software = Meets requirements +\n                Delivered when needed +\n                Appropriate cost +\n                Quality product\n```\n\nAll of the terms from the equation are equally important. One of them is quality. And it represents 25% of the equation.\nSadly all of them are really important.\nWe don’t ship source code, our users don’t look at our code and say _“Ah, that’s so pleasant”._\nThey don’t make wallpapers with our source code.\n\nThey run our software.\n\n## Better software, not the best\n\nThe goal of this blog is to share some ideas that made me question the way I code, and ultimately the way I create software.\nIdeas that made me think differently. I didn’t found yet the magic bullet to create the perfect software but that’s fine,\nI just want to get better at it.\n\nWe are all unique, have unique experiences, we are the shape revealed by connecting the dots of our experiences.\nYou should consider the things you’ll read, just as some of the dots you have to connect.\nYou will not find here a full image, a dogma to follow blindly, a miraculous methodology.\nJust some dots that you will hopefully connect someday.\n\nMaybe there is no magic bullet to create perfect software. But let’s try to get better at it. Every day.\n\n> We are simply never going to realise a state of software nirvana where everything is supremely satisfying.\n> That’s an important emotional realisation. The fundamental reward of an improvement process is the experience\n> of betterment, not some mythical destination. - [Mark Slee](https://engineering.fb.com/uncategorized/thoughts-on-software-quality/)","src/content/hello-world/index.md","c6a006a6abb200ff",{"html":516,"metadata":517},"\u003Cp>Turns out there is good side to this pandemic situation we all have to live with in 2020: I finally have time to start a blog.\u003C/p>\n\u003Cp>I’ll write about programming. About the things I’ve learned along the way all these years and I’m still learning every day as a programmer. About how to be a better programmer.\u003C/p>\n\u003Cp>I like to write in first person style. While I’m writing, I imagine I’m talking with my reader.\u003C/p>\n\u003Cp>So, let’s begin.\u003C/p>\n\u003Chr>\n\u003Cp>Let’s make it clear from the beginning that our job as programmers is to create and deliver software.\u003C/p>\n\u003Ch2 id=\"software-that-works-is-our-number-one-priority\">Software that works is our number one priority\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#software-that-works-is-our-number-one-priority\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>We are not paid to create designs, write code, do tests, documentation, build scripts, make plans and schedules.\nThese are just the means to reach the goal, these are just the costs of creating the software.\u003C/p>\n\u003Cp>We are paid to deliver software that works.\u003C/p>\n\u003Ch2 id=\"good-software-is-all-we-care-about\">Good software is all we care about\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#good-software-is-all-we-care-about\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>There is software that is successful and software that is not.\u003C/p>\n\u003Cp>Successful software is the one people like to use.\nIt might not be always the best, but it is always good.\nOur job is to do whatever it takes to deliver good software.\u003C/p>\n\u003Cp>Even if we are frustrated when requirements change all the time or we are unhappy because there is no time to polish a feature.\nEven when we are disappointed because we cannot use the latest shiny technology that makes waves on the Internet.\u003C/p>\n\u003Cp>Why we always forget that horrible software or awesome software can be created using the same tech?\u003C/p>\n\u003Cpre class=\"language-plaintext\" data-language=\"plaintext\">\u003Ccode is:raw=\"\" class=\"language-plaintext\">Good Software = Meets requirements +\n                Delivered when needed +\n                Appropriate cost +\n                Quality product\n\u003C/code>\u003C/pre>\n\u003Cp>All of the terms from the equation are equally important. One of them is quality. And it represents 25% of the equation.\nSadly all of them are really important.\nWe don’t ship source code, our users don’t look at our code and say \u003Cem>“Ah, that’s so pleasant”.\u003C/em>\nThey don’t make wallpapers with our source code.\u003C/p>\n\u003Cp>They run our software.\u003C/p>\n\u003Ch2 id=\"better-software-not-the-best\">Better software, not the best\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#better-software-not-the-best\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>The goal of this blog is to share some ideas that made me question the way I code, and ultimately the way I create software.\nIdeas that made me think differently. I didn’t found yet the magic bullet to create the perfect software but that’s fine,\nI just want to get better at it.\u003C/p>\n\u003Cp>We are all unique, have unique experiences, we are the shape revealed by connecting the dots of our experiences.\nYou should consider the things you’ll read, just as some of the dots you have to connect.\nYou will not find here a full image, a dogma to follow blindly, a miraculous methodology.\nJust some dots that you will hopefully connect someday.\u003C/p>\n\u003Cp>Maybe there is no magic bullet to create perfect software. But let’s try to get better at it. Every day.\u003C/p>\n\u003Cblockquote>\n\u003Cp>We are simply never going to realise a state of software nirvana where everything is supremely satisfying.\nThat’s an important emotional realisation. The fundamental reward of an improvement process is the experience\nof betterment, not some mythical destination. - \u003Ca href=\"https://engineering.fb.com/uncategorized/thoughts-on-software-quality/\">Mark Slee\u003C/a>\u003C/p>\n\u003C/blockquote>",{"headings":518,"imagePaths":528,"frontmatter":506},[519,522,525],{"depth":51,"slug":520,"text":521},"software-that-works-is-our-number-one-priority","Software that works is our number one priority",{"depth":51,"slug":523,"text":524},"good-software-is-all-we-care-about","Good software is all we care about",{"depth":51,"slug":526,"text":527},"better-software-not-the-best","Better software, not the best",[],"how-to-automate-twitter-card-images-for-your-blog",["Map",7,531],{"id":7,"data":532,"body":540,"filePath":541,"digest":542,"legacyId":18,"deferredRender":19},{"title":533,"pubDate":534,"description":535,"keywords":536},"How to automate twitter card images for your blog",["Date","2020-05-29T00:00:00.000Z"],"Better looking article sharing on Twitter",[537,538,539],"Twitter","Cloudinary","Gastby","You work hard to create quality content. And you would like that content to stand out as it deserves. One thing that can help you with this is to create nice images that go with your content. Everytime your content is shared on Twitter, the image is there, like the cherry on the cake.\n\nimport { Picture } from \"astro:assets\";\n\n\u003CPicture\n  src={import(\"./expected.png\")}\n  widths={[480, 800]}\n  formats={[\"webp\"]}\n  sizes=\"(max-width: 600px) 480px, 800px\"\n  alt=\"A Twitter card image example\"\n/>\n\n\u003Cbr />\n\u003Cbr />\n\nYou do this by setting a couple of meta tags on the page:\n\n```html\n\u003Cmeta name=\"og:image\" content=\"path-to-my-image\" />\n\u003Cmeta name=\"twitter:card\" content=\"summary_large_image\" />\n```\n\nBut nobody likes to create those images manually. We're just to busy or we simply forget out them. The good news is there are ways to automate the image creation process. You'll never have to manually make them again.\n\n## How to do it\n\nOne popular way to generate them is by using an online service like [Cloudinary](https://cloudinary.com/).\nFor an in-depth example take a look at [Jason Lengstorf](https://www.learnwithjason.dev/blog/auto-generate-social-image/).\n\nMy problem with this approach is that the images are generated on the fly everytime they are requested. Yes, they are not stored somewhere, they are generated on the fly. This is a waste if you ask me. Cloudinary(and others) has a free plan that might be enough for you or not. I'm not sure what happens if you reach the limit.\n\n## How to do it with Gatsby\n\nAnother solution, a better one in my opinion, would be to generate the images only once, on build. Then host these generated images in the same way as the rest are.\n\nSince I'm using [Gatsby](https://www.gatsbyjs.org/) the obvious solution for me was to use a plugin that does this. I coundn't find one so I decided to create one myself, [gastby-plugin-twitter-card](https://www.npmjs.com/package/gatsby-plugin-twitter-card)!\n\nLet me show you how I integrated it:\n\n### Install the plugin\n\n```shell\nnpm i gatsby-plugin-twitter-card\n```\n\n### Put the plugin in gatsby-config.js\n\nI use a template image (twitter-card-template.jpg) and on it draw two texts: the article title and the site name using 'IBM Plex Sans' font(so it matches the website font)\n\nFinally, I also draw a small top border.\n\n```js\nmodule.exports = {\n  plugins: [\n    ...{\n      resolve: `gatsby-transformer-remark`,\n      options: {\n        plugins: [\n          ...{\n            resolve: `gatsby-plugin-twitter-card`,\n            options: {\n              tinypngApiKey: process.env.TINY,\n              width: 1280,\n              height: 669,\n              templateImage: \"content/assets/twitter-card-template.jpg\",\n              backgroundColor: \"#fff\",\n              fonts: [\n                {\n                  file: \"content/fonts/IBMPlexSans-SemiBold.ttf\",\n                  family: \"IBM Plex Sans\",\n                },\n              ],\n              texts: [\n                {\n                  text: \"$title\",\n                  color: \"#222\",\n                  font: '48pt \"IBM Plex Sans\"',\n                  x: 450,\n                  y: 669 / 2,\n                  maxWidth: 700,\n                  lineHeight: 60,\n                },\n                {\n                  text: \"raresportan.com\",\n                  font: '26pt \"IBM Plex Sans\"',\n                  x: \"center\",\n                  y: 669 - 36,\n                  color: \"#444\",\n                },\n              ],\n              borderTop: {\n                width: 30,\n                color: \"#fce000\",\n              },\n            },\n          },\n        ],\n      },\n    },\n  ],\n};\n```\n\n\u003Cbr />\n\n### Add the image in the page meta\n\nFirst, in the blog post template (renders all posts), you need to get the `twitterCardImage` field:\n\n```jsx\nexport const pageQuery = graphql`\n  query BlogPostBySlug($slug: String!) {\n    site {\n      siteMetadata {\n        title\n      }\n    }\n    markdownRemark(fields: { slug: { eq: $slug } }) {\n      id\n      excerpt(pruneLength: 160)\n      html\n      frontmatter {\n        title\n        date(formatString: \"MMMM DD, YYYY\")\n        description\n      }\n      fields {\n        twitterCardImage\n        readingTime {\n          text\n        }\n      }\n    }\n  }\n`;\n```\n\nSend the twitter card image to the SEO component or whatever component renders the meta tags:\n\n```jsx\n\u003CSEO\n  title={post.frontmatter.title}\n  description={post.frontmatter.description}\n  twitterImage={post.fields.twitterCardImage}\n/>\n```\n\nFinally render the meta tags, in the SEO component:\n\n```jsx\nconst SEO = ({ description, lang, meta, title, twitterImage }) => {\n  // other stuff here\n  return (\n    \u003CHelmet\n      htmlAttributes={{\n        lang,\n      }}\n      title={title}\n      titleTemplate={`%s | ${site.siteMetadata.title}`}\n      meta={[\n        {\n          name: `description`,\n          content: metaDescription,\n        },\n        {\n          property: `og:title`,\n          content: title,\n        },\n        {\n          property: `og:description`,\n          content: metaDescription,\n        },\n        {\n          property: `og:type`,\n          content: `website`,\n        },\n        {\n          property: `og:image`,\n          content: twitterImage,\n        },\n        {\n          name: `twitter:card`,\n          content: `summary_large_image`,\n        },\n        {\n          name: `twitter:creator`,\n          content: site.siteMetadata.social.twitter,\n        },\n        {\n          name: `twitter:title`,\n          content: title,\n        },\n        {\n          name: `twitter:description`,\n          content: metaDescription,\n        },\n        {\n          name: `google-site-verification`,\n          content: `xDnpQH7jmHWkQ6saBRffZ-vUNSuucsqYyhdSd0PikSw`,\n        },\n      ].concat(meta)}\n    />\n  );\n};\n```\n\n### Generate the images and test them\n\nRun `gatsby develop` and you should see images generated in `static/twitter-cards/` folder.\nPublish the changes and made them live.\n\nTo make sure everything is working correctly, use the [Twitter card validation](https://cards-dev.twitter.com/validator).\n\n### Tweet an article\n\nNow you can share one of yours articles on Twitter. Look at how beautiful they are 😃!","src/content/how-to-automate-twitter-card-images-for-your-blog/index.mdx","bf17ffd73a26a1a2","how-i-made-this-site-with-gatsby-convertkit-and-netlify",["Map",7,545],{"id":7,"data":546,"body":555,"filePath":556,"digest":557,"rendered":558,"legacyId":64},{"title":547,"pubDate":548,"description":549,"keywords":550,"twitterImage":553,"minutesRead":352,"excerpt":554},"How I made this site with Gatsby, ConvertKit, and Netlify",["Date","2020-05-21T00:00:00.000Z"],"How to make a personal blog in 2020 using the JAMStack (JavaScript, APIs and Markdown)",[539,551,552],"ConvertKit","Netlify","https://www.raresportan.com/twitter-cards/how-i-made-this-site-with-gatsby-convertkit-and-netlify.png","Over the years, I’ve started a few blogs but I never got serious about it. They were soon abandonware.\nA few days ago I found Swyx’s How to ","Over the years, I've started a few blogs but I never got serious about it. They were soon abandonware.\nA few days ago I found Swyx's [How to Market Yourself](https://www.swyx.io/writing/marketing-yourself) and it made me think. My online presence was not much.\n\nAround the same time, in an email [Joel from egghead](https://joelhooks.com) said:\n\n> Your voice is important.\n> Everything that needs to be said hasn’t been written down yet. You don’t need to write masterpieces, just to share solutions to problems that you have.\n> We will all appreciate it.\n\nThat is when I decided to make a personal website and share with you the things I think are worth sharing.\n\n## Gatsby\n\nFrom the start I decided to implement the site in React and build it with [Gatsby](https://www.gatsbyjs.org/). This was an easy choice because I like to code with both of them and have a ton of experience with them. And of course, I wanted my site to be blazing fast 🔥.\n\n### gatsby-blog-theme\n\nAfter a quick lookup, the obvious starting point was supposed to be the [Gatsby starter blog theme](https://www.gatsbyjs.org/packages/gatsby-theme-blog/).\n\n```shell\ngatsby new homepage https://github.com/gatsbyjs/gatsby-starter-blog-theme\n```\n\nBut I soon ran into a showstopper: _there was no way to change the default heading font._\n\nGatsby has these concepts of plugins, themes, and starters:\n\n- **Plugins** are packages the provide certain functionality, like grabbing data from a database or transform markdown to HTML. You just add these plugins in the Gatsby configuration file and provide some options for them. In most cases you don't do anything else, they just work.\n\n- **Themes** are partial sites with pre-configured functionality for a certain thing. A blogging theme that contains the blogging piece of a site, e-commerce theme for the e-commerce section, etc. The idea is that a theme is like just a piece of a site and _you can use multiple themes_ to create a complete site.\n  (By the way, I found the name \"theme\" very misleading, a theme is IMHO a collection of colors, fonts, layouts, etc, a graphical thing not a \"site piece\". I would have suggested, simply, \"preset\" instead)\n\n- **Starters** are essentially complete sites with pre-configured functionality for everything. For example a starter can include blogging functionality, portfolio section, e-commerce section, etc. You get the starter, start to customize it, and fill your content. _You can use only one starter for your site._\n\nI wanted to use the blog theme because I wanted to add additional themes, to make a website that has a blog section but also something else, maybe a portfolio/projects section, maybe an e-commerce section (since I'm planning to make some courses). So the theme was the perfect choice.\n\nThe themes are supposed to be customizable in a certain way: you could overwrite any source file from the theme by creating a file with the same name in your project. This is called **shadowing**. Now there are two problems with this (at least today):\n\n- You need to know the theme source code and see what files are there in order to know how to shadow them\n- Is not always working for all files\n\nFor example to create my own `bio.js` component I created `components/bio.js`. To overwrite the Theme UI files, I created a folder called `gatsby-plugin-theme-ui` and created all the files from it to showdow those from the theme since I wanted my very own styles.\n\n```\n├── gatsby-config.js\n├── gatsby-node.js\n└── src\n    ├── components\n    │   ├── bio-content.js\n    │   ├── bio.js\n    ├── gatsby-plugin-theme-ui\n    │   ├── colors.js\n    │   ├── index.js\n    │   ├── prism.js\n    │   ├── styles.js\n    │   └── typography.js\n    └── templates\n        └── post.js\n```\n\nThe problem was that I couldn't shadow `gatsby-plugin-theme-ui/index.js` which defined the fonts for the header and monospace fonts:\n\n```js\nimport merge from \"deepmerge\";\nimport typography from \"./typography\";\nimport colors from \"./colors\";\nimport styles from \"./styles\";\nimport prism from \"./prism\";\n\nexport default merge(typography, {\n  initialColorMode: `light`,\n  colors,\n  fonts: {\n    heading: `Montserrat, sans-serif`,\n    monospace: `Consolas, Menlo, Monaco, source-code-pro, Courier New, monospace`,\n  },\n  sizes: {\n    container: 672,\n  },\n  styles,\n  prism,\n});\n```\n\nInitially, I wanted to open an issue on this, but the `gatsby-theme-blog` is not a separate project on Github, but part of the Gatbsy project so I moved on (for the moment, I still want to hunt this down at some point, otherwise Monserrat will be the default font on a ton of Gatsby blogs).\n\nThere were some other little annoying things with this theme, like not including the [external links plugin](gatsby-remark-external-links), and thus all the external links were opening in the same tab.\n\n### gatsby-blog-starter\n\nIn the end, I had to use the [Gatsby starter blog](https://www.gatsbyjs.org/starters/gatsbyjs/gatsby-starter-blog/)\n\n```shell\ngatsby new gatsby-starter-blog https://github.com/gatsbyjs/gatsby-starter-blog\n```\n\nI copied over here what I liked from the `gatsby-theme-blog` and moved on. Now I was able to customize it as I wanted.\n\nOne of the things I've made differently is styling. I know there are a ton of styling options these days but I prefer plain old CSS files. I have three of them:\n\n- styles.css for the main styles (including light & dark themes)\n- prims-dark.scss for the code snippets\n- newsletter.scss for the newsletter section, where I had to split the ConvertKit provide code in two: a React component and a CSS file.\n\nThat's it. React components set only class names and not inline styles. I like to keep things simple. I might move to SCSS if things get more complex, but for now plain CSS plus CSS variables are OK.\n\n### Saved theme problem\n\nYou can change the theme and that is saved in the local storage using a React hook. The problem was that the saved theme is read by React after the hydration (site is rendered server-side with Gatsby with the default light theme). And this caused the initial rendering of the site using the light theme even if your preference was the dark one.\n\nTo fix this, I had to [override the Gatsby default html.js](https://www.gatsbyjs.org/docs/custom-html/) and read the saved theme sooner. Here is the interesting bit:\n\n```jsx\n\u003Cscript\n  dangerouslySetInnerHTML={{\n    __html: `\n        var theme;\n        try {\n            theme = localStorage.getItem('theme');\n        } catch (err) { }\n\n        if(!theme && \n            window.matchMedia('(prefers-color-scheme: dark)') && \n            window.matchMedia('(prefers-color-scheme: dark)').matches) \n        {                \n            theme = 'dark'\n        }               \n        document.body.className = theme || 'light';\n    `,\n  }}\n/>\n```\n\nAs you can see something else is going on: if there is not saved theme, the theme to use matched the system one. So if you are using on your computer a dark theme, the site will be displayed by default with the dark theme. (I know, is not working in IE11, who cares?)\n\n## Netlify\n\nI already had a few other sites on [Netlify](https://netlify.com) so I decided to host there also this one. I simply love Netlify. It has a great free plan that is enough for me (for now at least.)\n\nUsing, Gatsby and Netlify together, the site a blazing fast indeed. It managed to get a near-perfect high score on [Page Speed Index](https://developers.google.com/speed/pagespeed/insights/?url=https%3A%2F%2Fwww.raresportan.com&tab=desktop).\n\nOne strong alternative would have been [Vercel (ex Zeit)](https://vercel.com). As far as I see they provide the same features as Netlify.\n\n## ConvertKit\n\nThe newsletter was the final step. There are a lot of options there but I was too lazy to verify all of them and choose the best. I've heard about ConvertKit good things and I know [Nathan Barry](https://nathanbarry.com/) from his book, [Authority](https://nathanbarry.com/authority/). So all other things being equal I've gone with ConvertKit.\n\nAs soon as I started using ConvertKit with my Gmail, it complained that I should use my personal domain email.\nNetlify doesn't provide email service but it allows you to [set up the Netlify DNS records to use another service.](https://community.netlify.com/t/support-guide-how-can-i-receive-emails-on-my-domain/178)\n\n## Inspiration\n\nDan Abramov's site, [overreacted.io](https://overreacted.io/) was my starting point.\nIt is [open source](https://github.com/gaearon/overreacted.io) and is also build using [Gatsby Blog Starter](https://www.gatsbyjs.org/starters/gatsbyjs/gatsby-starter-blog/).\nIt was incredibly helpful to see how Dan solved some of the issues I also had, especially the flash of unstyled content and the ConvertKit form integration. Thank you, Dan! I'm thinking about making this open source also.\n\n[iA Writer](https://ia.net/writer) is my favorite writing app on iPad and there I found the [IBM Plex sans font](https://fonts.google.com/specimen/IBM+Plex+Sans?query=IBM+).\n\nThe dark theme was a bit hard to get right and I've used [Teresa Man's](https://blog.superhuman.com/how-to-design-delightful-dark-themes-7b3da644ff1f) ideas.\n\n## The story of the lightbulb 💡☝️\n\nThere are two themes: a light one and a dark one.\nThe default one is the same as your system: if you are using a dark theme on your system, this site's theme is also dark. But I wanted to allow you to change it.\n\nI didn't want to use the default toggle button(with the sun and moon as on overreacted.io) and I also wanted to add a unique touch. And thus after a few iterations on different ideas, I chose the lightbulb.\n\nBesides the functionality it provides, to change the theme, the lightbulb attracts the eye since it is the only fancy decoration on the page. Also since it's an SVG, I'm using it to create various site icons.\n\n## The end\n\nI'm just starting, there are still things to be done, but so far things look good.\nMy goal was to start this site with free but excellent services and I think I was successful. It's incredible what you can do these days even without a credit card. Thank you all.\n\nYou should start a site too. As Joel says:\n\n> Your voice is important.\n> Everything that needs to be said hasn’t been written down yet. You don’t need to write masterpieces, just to share solutions to problems that you have.\n> We will all appreciate it.","src/content/how-i-made-this-site-with-gatsby-convertkit-and-netlify/index.md","8b523387bcd4a6e1",{"html":559,"metadata":560},"\u003Cp>Over the years, I’ve started a few blogs but I never got serious about it. They were soon abandonware.\nA few days ago I found Swyx’s \u003Ca href=\"https://www.swyx.io/writing/marketing-yourself\">How to Market Yourself\u003C/a> and it made me think. My online presence was not much.\u003C/p>\n\u003Cp>Around the same time, in an email \u003Ca href=\"https://joelhooks.com\">Joel from egghead\u003C/a> said:\u003C/p>\n\u003Cblockquote>\n\u003Cp>Your voice is important.\nEverything that needs to be said hasn’t been written down yet. You don’t need to write masterpieces, just to share solutions to problems that you have.\nWe will all appreciate it.\u003C/p>\n\u003C/blockquote>\n\u003Cp>That is when I decided to make a personal website and share with you the things I think are worth sharing.\u003C/p>\n\u003Ch2 id=\"gatsby\">Gatsby\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#gatsby\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>From the start I decided to implement the site in React and build it with \u003Ca href=\"https://www.gatsbyjs.org/\">Gatsby\u003C/a>. This was an easy choice because I like to code with both of them and have a ton of experience with them. And of course, I wanted my site to be blazing fast 🔥.\u003C/p>\n\u003Ch3 id=\"gatsby-blog-theme\">gatsby-blog-theme\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#gatsby-blog-theme\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cp>After a quick lookup, the obvious starting point was supposed to be the \u003Ca href=\"https://www.gatsbyjs.org/packages/gatsby-theme-blog/\">Gatsby starter blog theme\u003C/a>.\u003C/p>\n\u003Cpre class=\"language-shell\" data-language=\"shell\">\u003Ccode is:raw=\"\" class=\"language-shell\">gatsby new homepage https://github.com/gatsbyjs/gatsby-starter-blog-theme\n\u003C/code>\u003C/pre>\n\u003Cp>But I soon ran into a showstopper: \u003Cem>there was no way to change the default heading font.\u003C/em>\u003C/p>\n\u003Cp>Gatsby has these concepts of plugins, themes, and starters:\u003C/p>\n\u003Cul>\n\u003Cli>\n\u003Cp>\u003Cstrong>Plugins\u003C/strong> are packages the provide certain functionality, like grabbing data from a database or transform markdown to HTML. You just add these plugins in the Gatsby configuration file and provide some options for them. In most cases you don’t do anything else, they just work.\u003C/p>\n\u003C/li>\n\u003Cli>\n\u003Cp>\u003Cstrong>Themes\u003C/strong> are partial sites with pre-configured functionality for a certain thing. A blogging theme that contains the blogging piece of a site, e-commerce theme for the e-commerce section, etc. The idea is that a theme is like just a piece of a site and \u003Cem>you can use multiple themes\u003C/em> to create a complete site.\n(By the way, I found the name “theme” very misleading, a theme is IMHO a collection of colors, fonts, layouts, etc, a graphical thing not a “site piece”. I would have suggested, simply, “preset” instead)\u003C/p>\n\u003C/li>\n\u003Cli>\n\u003Cp>\u003Cstrong>Starters\u003C/strong> are essentially complete sites with pre-configured functionality for everything. For example a starter can include blogging functionality, portfolio section, e-commerce section, etc. You get the starter, start to customize it, and fill your content. \u003Cem>You can use only one starter for your site.\u003C/em>\u003C/p>\n\u003C/li>\n\u003C/ul>\n\u003Cp>I wanted to use the blog theme because I wanted to add additional themes, to make a website that has a blog section but also something else, maybe a portfolio/projects section, maybe an e-commerce section (since I’m planning to make some courses). So the theme was the perfect choice.\u003C/p>\n\u003Cp>The themes are supposed to be customizable in a certain way: you could overwrite any source file from the theme by creating a file with the same name in your project. This is called \u003Cstrong>shadowing\u003C/strong>. Now there are two problems with this (at least today):\u003C/p>\n\u003Cul>\n\u003Cli>You need to know the theme source code and see what files are there in order to know how to shadow them\u003C/li>\n\u003Cli>Is not always working for all files\u003C/li>\n\u003C/ul>\n\u003Cp>For example to create my own \u003Ccode>bio.js\u003C/code> component I created \u003Ccode>components/bio.js\u003C/code>. To overwrite the Theme UI files, I created a folder called \u003Ccode>gatsby-plugin-theme-ui\u003C/code> and created all the files from it to showdow those from the theme since I wanted my very own styles.\u003C/p>\n\u003Cpre class=\"language-plaintext\" data-language=\"plaintext\">\u003Ccode is:raw=\"\" class=\"language-plaintext\">├── gatsby-config.js\n├── gatsby-node.js\n└── src\n    ├── components\n    │   ├── bio-content.js\n    │   ├── bio.js\n    ├── gatsby-plugin-theme-ui\n    │   ├── colors.js\n    │   ├── index.js\n    │   ├── prism.js\n    │   ├── styles.js\n    │   └── typography.js\n    └── templates\n        └── post.js\n\u003C/code>\u003C/pre>\n\u003Cp>The problem was that I couldn’t shadow \u003Ccode>gatsby-plugin-theme-ui/index.js\u003C/code> which defined the fonts for the header and monospace fonts:\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token keyword\">import\u003C/span> merge \u003Cspan class=\"token keyword\">from\u003C/span> \u003Cspan class=\"token string\">\"deepmerge\"\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token keyword\">import\u003C/span> typography \u003Cspan class=\"token keyword\">from\u003C/span> \u003Cspan class=\"token string\">\"./typography\"\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token keyword\">import\u003C/span> colors \u003Cspan class=\"token keyword\">from\u003C/span> \u003Cspan class=\"token string\">\"./colors\"\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token keyword\">import\u003C/span> styles \u003Cspan class=\"token keyword\">from\u003C/span> \u003Cspan class=\"token string\">\"./styles\"\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token keyword\">import\u003C/span> prism \u003Cspan class=\"token keyword\">from\u003C/span> \u003Cspan class=\"token string\">\"./prism\"\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token keyword\">export\u003C/span> \u003Cspan class=\"token keyword\">default\u003C/span> \u003Cspan class=\"token function\">merge\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>typography\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n  \u003Cspan class=\"token literal-property property\">initialColorMode\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token template-string\">\u003Cspan class=\"token template-punctuation string\">`\u003C/span>\u003Cspan class=\"token string\">light\u003C/span>\u003Cspan class=\"token template-punctuation string\">`\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n  colors\u003Cspan class=\"token punctuation\">,\u003C/span>\n  \u003Cspan class=\"token literal-property property\">fonts\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n    \u003Cspan class=\"token literal-property property\">heading\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token template-string\">\u003Cspan class=\"token template-punctuation string\">`\u003C/span>\u003Cspan class=\"token string\">Montserrat, sans-serif\u003C/span>\u003Cspan class=\"token template-punctuation string\">`\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n    \u003Cspan class=\"token literal-property property\">monospace\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token template-string\">\u003Cspan class=\"token template-punctuation string\">`\u003C/span>\u003Cspan class=\"token string\">Consolas, Menlo, Monaco, source-code-pro, Courier New, monospace\u003C/span>\u003Cspan class=\"token template-punctuation string\">`\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n  \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n  \u003Cspan class=\"token literal-property property\">sizes\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n    \u003Cspan class=\"token literal-property property\">container\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token number\">672\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n  \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n  styles\u003Cspan class=\"token punctuation\">,\u003C/span>\n  prism\u003Cspan class=\"token punctuation\">,\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>Initially, I wanted to open an issue on this, but the \u003Ccode>gatsby-theme-blog\u003C/code> is not a separate project on Github, but part of the Gatbsy project so I moved on (for the moment, I still want to hunt this down at some point, otherwise Monserrat will be the default font on a ton of Gatsby blogs).\u003C/p>\n\u003Cp>There were some other little annoying things with this theme, like not including the \u003Ca href=\"gatsby-remark-external-links\">external links plugin\u003C/a>, and thus all the external links were opening in the same tab.\u003C/p>\n\u003Ch3 id=\"gatsby-blog-starter\">gatsby-blog-starter\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#gatsby-blog-starter\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cp>In the end, I had to use the \u003Ca href=\"https://www.gatsbyjs.org/starters/gatsbyjs/gatsby-starter-blog/\">Gatsby starter blog\u003C/a>\u003C/p>\n\u003Cpre class=\"language-shell\" data-language=\"shell\">\u003Ccode is:raw=\"\" class=\"language-shell\">gatsby new gatsby-starter-blog https://github.com/gatsbyjs/gatsby-starter-blog\n\u003C/code>\u003C/pre>\n\u003Cp>I copied over here what I liked from the \u003Ccode>gatsby-theme-blog\u003C/code> and moved on. Now I was able to customize it as I wanted.\u003C/p>\n\u003Cp>One of the things I’ve made differently is styling. I know there are a ton of styling options these days but I prefer plain old CSS files. I have three of them:\u003C/p>\n\u003Cul>\n\u003Cli>styles.css for the main styles (including light &#x26; dark themes)\u003C/li>\n\u003Cli>prims-dark.scss for the code snippets\u003C/li>\n\u003Cli>newsletter.scss for the newsletter section, where I had to split the ConvertKit provide code in two: a React component and a CSS file.\u003C/li>\n\u003C/ul>\n\u003Cp>That’s it. React components set only class names and not inline styles. I like to keep things simple. I might move to SCSS if things get more complex, but for now plain CSS plus CSS variables are OK.\u003C/p>\n\u003Ch3 id=\"saved-theme-problem\">Saved theme problem\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#saved-theme-problem\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cp>You can change the theme and that is saved in the local storage using a React hook. The problem was that the saved theme is read by React after the hydration (site is rendered server-side with Gatsby with the default light theme). And this caused the initial rendering of the site using the light theme even if your preference was the dark one.\u003C/p>\n\u003Cp>To fix this, I had to \u003Ca href=\"https://www.gatsbyjs.org/docs/custom-html/\">override the Gatsby default html.js\u003C/a> and read the saved theme sooner. Here is the interesting bit:\u003C/p>\n\u003Cpre class=\"language-jsx\" data-language=\"jsx\">\u003Ccode is:raw=\"\" class=\"language-jsx\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>script\u003C/span>\n  \u003Cspan class=\"token attr-name\">dangerouslySetInnerHTML\u003C/span>\u003Cspan class=\"token script language-javascript\">\u003Cspan class=\"token script-punctuation punctuation\">=\u003C/span>\u003Cspan class=\"token punctuation\">{\u003C/span>\u003Cspan class=\"token punctuation\">{\u003C/span>\n    \u003Cspan class=\"token literal-property property\">__html\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token template-string\">\u003Cspan class=\"token template-punctuation string\">`\u003C/span>\u003Cspan class=\"token string\">\n        var theme;\n        try {\n            theme = localStorage.getItem('theme');\n        } catch (err) { }\n\n        if(!theme &#x26;&#x26; \n            window.matchMedia('(prefers-color-scheme: dark)') &#x26;&#x26; \n            window.matchMedia('(prefers-color-scheme: dark)').matches) \n        {                \n            theme = 'dark'\n        }               \n        document.body.className = theme || 'light';\n    \u003C/span>\u003Cspan class=\"token template-punctuation string\">`\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n  \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"token punctuation\">/>\u003C/span>\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>As you can see something else is going on: if there is not saved theme, the theme to use matched the system one. So if you are using on your computer a dark theme, the site will be displayed by default with the dark theme. (I know, is not working in IE11, who cares?)\u003C/p>\n\u003Ch2 id=\"netlify\">Netlify\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#netlify\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>I already had a few other sites on \u003Ca href=\"https://netlify.com\">Netlify\u003C/a> so I decided to host there also this one. I simply love Netlify. It has a great free plan that is enough for me (for now at least.)\u003C/p>\n\u003Cp>Using, Gatsby and Netlify together, the site a blazing fast indeed. It managed to get a near-perfect high score on \u003Ca href=\"https://developers.google.com/speed/pagespeed/insights/?url=https%3A%2F%2Fwww.raresportan.com&#x26;tab=desktop\">Page Speed Index\u003C/a>.\u003C/p>\n\u003Cp>One strong alternative would have been \u003Ca href=\"https://vercel.com\">Vercel (ex Zeit)\u003C/a>. As far as I see they provide the same features as Netlify.\u003C/p>\n\u003Ch2 id=\"convertkit\">ConvertKit\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#convertkit\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>The newsletter was the final step. There are a lot of options there but I was too lazy to verify all of them and choose the best. I’ve heard about ConvertKit good things and I know \u003Ca href=\"https://nathanbarry.com/\">Nathan Barry\u003C/a> from his book, \u003Ca href=\"https://nathanbarry.com/authority/\">Authority\u003C/a>. So all other things being equal I’ve gone with ConvertKit.\u003C/p>\n\u003Cp>As soon as I started using ConvertKit with my Gmail, it complained that I should use my personal domain email.\nNetlify doesn’t provide email service but it allows you to \u003Ca href=\"https://community.netlify.com/t/support-guide-how-can-i-receive-emails-on-my-domain/178\">set up the Netlify DNS records to use another service.\u003C/a>\u003C/p>\n\u003Ch2 id=\"inspiration\">Inspiration\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#inspiration\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>Dan Abramov’s site, \u003Ca href=\"https://overreacted.io/\">overreacted.io\u003C/a> was my starting point.\nIt is \u003Ca href=\"https://github.com/gaearon/overreacted.io\">open source\u003C/a> and is also build using \u003Ca href=\"https://www.gatsbyjs.org/starters/gatsbyjs/gatsby-starter-blog/\">Gatsby Blog Starter\u003C/a>.\nIt was incredibly helpful to see how Dan solved some of the issues I also had, especially the flash of unstyled content and the ConvertKit form integration. Thank you, Dan! I’m thinking about making this open source also.\u003C/p>\n\u003Cp>\u003Ca href=\"https://ia.net/writer\">iA Writer\u003C/a> is my favorite writing app on iPad and there I found the \u003Ca href=\"https://fonts.google.com/specimen/IBM+Plex+Sans?query=IBM+\">IBM Plex sans font\u003C/a>.\u003C/p>\n\u003Cp>The dark theme was a bit hard to get right and I’ve used \u003Ca href=\"https://blog.superhuman.com/how-to-design-delightful-dark-themes-7b3da644ff1f\">Teresa Man’s\u003C/a> ideas.\u003C/p>\n\u003Ch2 id=\"the-story-of-the-lightbulb-️\">The story of the lightbulb 💡☝️\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#the-story-of-the-lightbulb-️\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>There are two themes: a light one and a dark one.\nThe default one is the same as your system: if you are using a dark theme on your system, this site’s theme is also dark. But I wanted to allow you to change it.\u003C/p>\n\u003Cp>I didn’t want to use the default toggle button(with the sun and moon as on overreacted.io) and I also wanted to add a unique touch. And thus after a few iterations on different ideas, I chose the lightbulb.\u003C/p>\n\u003Cp>Besides the functionality it provides, to change the theme, the lightbulb attracts the eye since it is the only fancy decoration on the page. Also since it’s an SVG, I’m using it to create various site icons.\u003C/p>\n\u003Ch2 id=\"the-end\">The end\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#the-end\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>I’m just starting, there are still things to be done, but so far things look good.\nMy goal was to start this site with free but excellent services and I think I was successful. It’s incredible what you can do these days even without a credit card. Thank you all.\u003C/p>\n\u003Cp>You should start a site too. As Joel says:\u003C/p>\n\u003Cblockquote>\n\u003Cp>Your voice is important.\nEverything that needs to be said hasn’t been written down yet. You don’t need to write masterpieces, just to share solutions to problems that you have.\nWe will all appreciate it.\u003C/p>\n\u003C/blockquote>",{"headings":561,"imagePaths":583,"frontmatter":546},[562,565,567,569,572,574,576,579,582],{"depth":51,"slug":563,"text":564},"gatsby","Gatsby",{"depth":88,"slug":566,"text":566},"gatsby-blog-theme",{"depth":88,"slug":568,"text":568},"gatsby-blog-starter",{"depth":88,"slug":570,"text":571},"saved-theme-problem","Saved theme problem",{"depth":51,"slug":573,"text":552},"netlify",{"depth":51,"slug":575,"text":551},"convertkit",{"depth":51,"slug":577,"text":578},"inspiration","Inspiration",{"depth":51,"slug":580,"text":581},"the-story-of-the-lightbulb-️","The story of the lightbulb 💡☝️",{"depth":51,"slug":264,"text":265},[],"how-to-handle-future-posts-in-gatsby",["Map",7,586],{"id":7,"data":587,"body":592,"filePath":593,"digest":594,"legacyId":18,"deferredRender":19},{"title":588,"pubDate":589,"description":590,"keywords":591},"How to handle future blog posts with Gatsby",["Date","2020-06-21T00:00:00.000Z"],"Some static sites generators ignore out-of-the-box the blog posts with future dates, this is available by default in Gatsby but can be implemented easily",[564],"I'm building this blog with Gatsby, as I've already [explained](/how-i-made-this-site-with-gatsby-convertkit-and-netlify/).\nThe blog is still in progress, and I'm adding new features -- like generating [Twitter cards](/how-to-automate-twitter-card-images-for-your-blog/) for blog posts -- as I need them.\n\nOne of the new things I wanted to add was the ability to schedule blog posts at certain dates in the future.\nMore exactly what I want is this:\n\n- create blog posts with future dates (frontmatter date)\n- Gatsby build ignores posts with future dates\n- run Gatsby build every day to pick up posts that are up to date\n\nThe first two steps can be done in code, that last one depends on how you hook Gatsby build.\n\n### How to ignore future posts\n\nI write all the posts in MDX and set a frontmatter to all of them. For example, the frontmatter of this post looks like this:\n\n```\n---\ntitle: How to ignore future blog posts with Gatsby\ndate: 2020-06-21\ndescription: Some static sites generators ignore out-of-the-box the blog posts with future dates, this is not available by default in Gatsby but can be implemented easily.\nkeywords: ['Gatsby']\n---\n```\n\nThe frontmatter includes the post date. Based on that a post is considered a future post\nif it's date is in the future.\n\nSo, to ignore the future post we need to somehow update the GraphQL query that generates the post,\nto filter the posts with future dates.\n\nThe most direct way would be something like this:\n\n```js\nconst result = await graphql(`\n    query {\n      allMdx((filter: {frontmatter: {date: {lt: $TODAY}}})) {\n        edges {\n          node {\n            id\n            frontmatter{\n              title\n              date\n            }\n            fields {\n              slug\n            }\n          }\n        }\n      }\n    }\n  `);\n```\n\nBut that didn't work, I couldn't figure a way to make the query dynamic to use the current date.\nWhat can be done instead is to create a new field on each MDX node, called `isFuturePost` with a boolean value:\ntrue is the post is in future, false otherwise.\n\nIn gatsby-node.js, inside `onCreateNode()` we add the new field like this:\n\n```js\nexports.onCreateNode = ({ node, actions, getNode }) => {\n  const { createNodeField } = actions\n\n  if (node.internal.type === `MarkdownRemark` || node.internal.type === `Mdx`) {\n    ...\n\n    // create a marker for future posts\n    const postDate = node.frontmatter.date;\n    const isFuturePost = !postDate || (new Date(postDate)).getTime() > Date.now()\n    createNodeField({\n      name: `isFuturePost`,\n      node,\n      value: isFuturePost,\n    })\n  }\n}\n```\n\nNow, after we restart gatsby develop, we can use it to filter the posts.\nFirst we don't generate pages for future posts in `gatsby-node.js`\n\n```js\nexports.createPages = async ({ graphql, actions }) => {\n  const { createPage } = actions;\n\n  const blogPost = path.resolve(`./src/templates/blog-post.js`);\n  const result = await graphql(`\n    query {\n      //...\n      allMdx(filter: {fields: {isFuturePost: {eq: false}}}) { \n        edges {\n          node {\n            id\n            frontmatter{\n              title\n              date\n            }\n            fields {\n              slug\n            }\n          }\n        }\n      }\n    }\n  `);\n\n  //...\n};\n```\n\nNext we don't add future post on the posts list, in `index.js`\n\n```js\nexport const pageQuery = graphql`\n  query {\n    site {\n      siteMetadata {\n        title\n        description\n      }\n    }\n    allMdx(\n      sort: { fields: [frontmatter___date], order: DESC }\n      filter: { fields: { isFuturePost: { eq: false } } }\n    ) {\n      edges {\n        node {\n          excerpt\n          fields {\n            slug\n          }\n          timeToRead\n          frontmatter {\n            date(formatString: \"MMMM DD, YYYY\")\n            title\n            keywords\n          }\n        }\n      }\n    }\n  }\n`;\n```\n\nAnd finally, at least in my case, stop the RSS feed to include the future posts,\nin `gatsby-config.js`:\n\n```js\nfeeds: [\n  {\n    serialize: ({ query: { site, allMdx } }) => {\n      return allMdx.edges.map((edge) => {\n        return Object.assign({}, edge.node.frontmatter, {\n          description: edge.node.excerpt,\n          date: edge.node.frontmatter.date,\n          url: site.siteMetadata.siteUrl + edge.node.fields.slug,\n          guid: site.siteMetadata.siteUrl + edge.node.fields.slug,\n          custom_elements: [{ \"content:encoded\": edge.node.html }],\n        });\n      });\n    },\n    query: `{\n        allMdx(\n            sort: { order: DESC, fields: [frontmatter___date] },\n            filter: {fields: {isFuturePost: {eq: false}}}  \n        ) {\n            edges {\n            node {\n                excerpt\n                html\n                fields { slug }\n                frontmatter {\n                title\n                date\n                }\n            }\n            }\n        }\n    }`,\n    output: \"/rss.xml\",\n    title: \"Rares Portan's RSS Feed\",\n  },\n];\n```\n\nBasically, you need to look for `allMdx` queries and add the filter in them.\n\nNote that if you want Gatsby to build your post so you can preview it, you need to temporarily\nset the date to the present day, otherwise it will be completely ignored for now, which is exactly what\nwe wanted.\n\n## Bonus: Trigger automatic builds on Netlify.\n\nThe last step that we need to do is to run Gatsby build every day to pick up posts that are up to date.\nOf course, this depends on how you host your site and how you call Gatsby build.\nSince I'm hosting my site on Netlify I'll explain how I do it and hopefully, you can do something similar.\n\n### Add a Netlify build hook\n\nNetlify provides build hooks, URLs that when called, start a build.\nYou need to add (or reuse if you already have one) a [build hook for your site](https://docs.netlify.com/configure-builds/build-hooks/#parameters).\n\n## Make a trigger\n\nNow that we have the hook, we somehow need to call it every day automatically.\nSadly Netlify doesn't provide (yet?) scheduled deploys so we need to find something else.\nYou can automate this in many ways, for example using IFTTT or Zapier.\n\nYou can automate this in many ways, for example using [IFTTT](https://ifttt.com/).\nAfter you sign up, [create a new applet](https://ifttt.com/create).\nYou'll see 'If ✚This Then That'.\n\nClick on ✚This and search for Date & Time service and set it up as you need.\nFor example, I set it at 7:00 AM every day, but you can choose to build only on a specific days, e.g every Monday and Friday.\n\nimport { Picture } from \"astro:assets\";\n\n\u003CPicture\n  src={import(\"./time.png\")}\n  widths={[480, 800]}\n  formats={[\"webp\"]}\n  sizes=\"(max-width: 600px) 480px, 800px\"\n  alt=\"Every day at 7:00 AM\"\n/>\n\nThem click on ✚That and search for Webhooks, then choose Make a web request and fill in\nthe Netlify build hook URL. Also, select POST as Method.\n\n\u003CPicture\n  src={import(\"./webhook.png\")}\n  widths={[480, 800]}\n  formats={[\"webp\"]}\n  sizes=\"(max-width: 600px) 480px, 800px\"\n  alt=\"Create the webhook trigger\"\n/>\n\nYou're done. Tomorrow you'll see the build in action.","src/content/how-to-handle-future-posts-in-gatsby/index.mdx","3a7f0bf0b8bc69a2","how-to-reduce-website-https-requests-for-images",["Map",7,597],{"id":7,"data":598,"body":604,"filePath":605,"digest":606,"legacyId":18,"deferredRender":19},{"title":599,"pubDate":600,"description":601,"keywords":602},"How to reduce website HTTP requests for images",["Date","2021-07-31T00:00:00.000Z"],"Images are an important part of any website. So important that we tend to use a lot of them. And then our websites become too slow.",[433,603,73],"SVG","Images are an important part of any website. So important that we tend to use a lot of them. And then our websites become too slow.\nUsing the right image formats and sizes is very important, and I suggest you read [The picture tag](/the-picture-tag) and [How to get 100 website performance score](/how-to-get-100-performance-score).\n\nHere we look at different tricks that can improve the performance of a website by reducing the number of HTTP requests for images but still using all the images.\n\nLet's assume there is a website that uses 100 different images, so it makes 100 HTTP requests to load them.\nWhat if instead of doing 100 HTTP requests we could reduce that number to maybe 10 or 20. Even 50 is twice as better right?\n\nGood candidates for this are the social media icons, country flags, various menu / arrow icons, or button images with variations for mouseover, focus and active states.\n\n## SVG use\n\nFor logos and icons, SVG images are perfect. They scale right and their colors can be changed with CSS so no need for extra image variations.\n\nNow instead of loading a bunch of SVGs, we can load a single SVG with multiple icons in it.\n\n```html\n\u003Csvg\n  xmlns=\"http://www.w3.org/2000/svg\"\n  version=\"1.1\"\n  xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n  viewBox=\"0 0 40 40\"\n  display=\"none\"\n  width=\"0\"\n  height=\"0\"\n>\n  \u003Csymbol id=\"icon-1\" viewBox=\"0 0 40 40\">\n    \u003Cpath\n      d=\"M34.9,30.5V15.6c-0.4,0.4-0.8,0.9-1.4,1.2c-3.4,2.7-6.2,4.8-8.2,6.6c-0.6,0.5-1.1,0.9-1.6,1.2c-0.4,0.3-0.9,0.6-1.7,0.9 c-0.7,0.3-1.4,0.5-2,0.5l0,0c-0.6,0-1.2-0.2-2-0.5c-0.7-0.3-1.2-0.6-1.7-0.9c-0.4-0.3-0.9-0.7-1.6-1.2c-2.1-1.7-4.8-3.8-8.2-6.6 c-0.5-0.4-0.9-0.8-1.4-1.2v14.9c0,0.2,0.1,0.3,0.2,0.4C5.7,31,5.9,31.1,6,31.1h28.4c0.2,0,0.3-0.1,0.4-0.2 C34.8,30.8,34.9,30.7,34.9,30.5L34.9,30.5z M34.9,10.2V9.7c0,0,0-0.1,0-0.2c0-0.1,0-0.2-0.1-0.2c-0.1,0-0.1,0-0.1-0.2 c0-0.1-0.1-0.2-0.2-0.1c-0.1,0-0.2,0-0.3,0H5.8C5.6,8.9,5.4,9,5.3,9.1C5.2,9.2,5.1,9.3,5.1,9.5c0,2.2,0.9,4,2.8,5.5 c2.5,2,5.1,4,7.7,6.1c0.1,0.1,0.3,0.2,0.7,0.5c0.4,0.3,0.6,0.5,0.9,0.7c0.2,0.2,0.5,0.4,0.8,0.6c0.3,0.2,0.7,0.4,0.9,0.5 c0.3,0.1,0.6,0.2,0.8,0.2l0,0c0.2,0,0.5-0.1,0.8-0.2c0.3-0.1,0.6-0.3,0.9-0.5c0.3-0.2,0.6-0.4,0.8-0.6c0.2-0.2,0.5-0.4,0.9-0.7 c0.4-0.3,0.6-0.5,0.6-0.5c2.7-2.1,5.3-4.2,7.7-6.1c0.7-0.5,1.4-1.2,2-2.2C34.6,11.8,34.9,11,34.9,10.2L34.9,10.2z M37.3,9.5v21 c0,0.8-0.3,1.6-0.9,2.2s-1.4,0.9-2.2,0.9H5.8c-0.8,0-1.6-0.3-2.2-0.9c-0.6-0.6-0.9-1.4-0.9-2.2v-21c0-0.8,0.3-1.6,0.9-2.2 s1.4-0.9,2.2-0.9h28.4c0.8,0,1.6,0.3,2.2,0.9S37.3,8.7,37.3,9.5z\"\n    >\u003C/path>\n  \u003C/symbol>\n  \u003Csymbol id=\"icon-2\" viewBox=\"0 0 40 40\">\n    \u003Cpath\n      d=\"M7.9,24.9l10.8,7.2v-6.4l-6-4L7.9,24.9z M6.8,22.3l3.4-2.3l-3.4-2.3V22.3L6.8,22.3z M21.4,32.1l10.8-7.2l-4.8-3.2l-6,4 C21.4,25.6,21.4,32.1,21.4,32.1z M20,23.3l4.9-3.3L20,16.8L15.1,20L20,23.3z M12.7,18.3l6-4V7.9L7.9,15.1L12.7,18.3z M29.8,20 l3.4,2.3v-4.6L29.8,20z M27.3,18.3l4.8-3.2L21.4,7.9v6.4L27.3,18.3z M36,15.1v9.8c0,0.5-0.2,0.9-0.6,1.1l-14.6,9.7 C20.5,35.9,20.3,36,20,36c-0.3,0-0.5-0.1-0.8-0.2L4.6,26C4.2,25.7,4,25.4,4,24.9v-9.8c0-0.5,0.2-0.9,0.6-1.1l14.6-9.8 C19.5,4.1,19.7,4,20,4c0.3,0,0.5,0.1,0.8,0.2L35.4,14C35.8,14.3,36,14.6,36,15.1z\"\n    >\u003C/path>\n  \u003C/symbol>\n\u003C/svg>\n```\n\nThen with `use` tag we can get an individual icon:\n\n```html\n\u003Csvg>\n  \u003Cuse xlink:href=\"#icon-1\">\u003C/use>\n\u003C/svg>\n\n\u003Csvg>\n  \u003Cuse xlink:href=\"#icon-2\">\u003C/use>\n\u003C/svg>\n```\n\nNow all your social media icons are in one file. If you embed the SVG inside the HTML there is no image left to load.\n\n## CSS sprites\n\nimport { Picture } from \"astro:assets\";\n\n\u003CPicture\n  src={import(\"./icon-sprite.jpg\")}\n  widths={[480, 800]}\n  formats={[\"webp\"]}\n  sizes=\"(max-width: 600px) 480px, 800px\"\n  alt=\"Social icons\"\n/>\n\nWe have a 924x252px image. There are 11 rows and 3 columns. This means that each image has a width of 924/11=84px and a height of 252/3=84px.\n\nTo show one of the icons from the image we need to:\n\n- Set the size of the element to 84x84px, the size of one of the icons inside\n- Move the background to show the position of one icon\n\nThe position of a background's pixel increases from left to right (starting from 0 to 924) and from top to down(from 0 to 252).\nBy default, we are on position 0x0 so we see the first icon.\nTo display a different icon we need to move the background to the left and down.\n\nIn CSS we load the image and set it as background:\n\n```css\n.social-icons {\n  background-image: url(\"./icon-sprite.jpg\");\n  background-repeat: no-repeat;\n  height: 84px;\n  width: 84px;\n}\n\n.fb-transparent {\n  background-position: 0 0;\n}\n.twitter-transparent {\n  background-position: -672px 0; /* 672 = 8*84  */\n}\n.twitter-color {\n  background-position: -672px -84px;\n}\n.twitter-black-and-white {\n  background-position: -672px -168px; /* 672 = 8*84, 168 = 2*84  */\n}\n```\n\nIn HTML we use the CSS classes:\n\n```html\n\u003Cbutton class=\"social-icons fb-transparent\">\u003C/button>\n\n\u003Cbutton class=\"social-icons twitter-transparent\">\u003C/button>\n\n\u003Cbutton class=\"social-icons twitter-color\">\u003C/button>\n\n\u003Cbutton class=\"social-icons twitter-black-and-white\">\u003C/button>\n```\n\n### Data URI\n\nYou can go further and encode the image content encoded as a Base64 string (using a tool like [ezgif.com](https://ezgif.com/image-to-datauri)). This way the image content is embedded in the HTML so there\nis no need to load it separately. Note that this method should be used only for small images!\n\nThe only difference from above is the way the image is set as background:\n\n```css\n.social-icons {\n  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA5wAAAD8CAYAAA....);\n  background-repeat: no-repeat;\n  height: 84px;\n  width: 84px;\n}\n```\n\n## Img tag with object-fit and object-position\n\nInstead of setting the image as background using CSS, we can use the `img` element. By using the `object-fit` and `object-position`\nCSS properties we can make the `img` show only a piece of the entire image, just like we did with the CSS sprites.\n\n```css\n.social-img {\n  height: 84px;\n  width: 84px;\n  object-fit: none; /* REQUIRED */\n  object-position: 0 0;\n}\n\n.social-img-twitter-transparent {\n  object-position: -672px 0; /* Move the content to a specific place */\n}\n```\n\nIn HTML we set the image source and use the CSS classes:\n\n```html\n\u003Cimg class=\"social-img\" src=\"./icon-sprite.jpg\" alt=\"Facebook\" />\n\n\u003Cimg\n  class=\"social-img social-img-twitter-transparent\"\n  src=\"./icon-sprite.jpg\"\n  alt=\"Twitter\"\n/>\n```\n\n## Icon fonts\n\nThere are some fonts that instead of rendering letters render icons.\nTo use the icon font you need to first load it as any other font. But then you need to set some special CSS classes and/or letters\nto show the icon.\n\nHere is for example how to use [Material Icons](https://developers.google.com/fonts/docs/material_icons)\n\n```html\n\u003C!DOCTYPE html>\n\u003Chtml lang=\"en\">\n  \u003Chead>\n    \u003Clink\n      href=\"https://fonts.googleapis.com/icon?family=Material+Icons\"\n      rel=\"stylesheet\"\n    />\n  \u003C/head>\n  \u003Cbody>\n    \u003Cspan class=\"material-icons\">face\u003C/span>\n\n    \u003Cspan class=\"material-icons\">settings\u003C/span>\n  \u003C/body>\n  \u003Chtml>\u003C/html>\n\u003C/html>\n```\n\nIf you want to use icon fonts please check the size of the font file.\nIf you need only a couple of them try to use an SVG instead, it will be much much smaller.\n\n## Create the icons with CSS\n\nWith a little imagination, one can create even complex shapes in CSS.\nHere is a great example of what is possible: [The Shapes of CSS](https://css-tricks.com/the-shapes-of-css/)\n\n## Conclusion\n\nThere are several ways to reduce the number of HTTP requests made for images by combining multiple images in one:\n\n1. SVG use\n2. CSS sprites\n3. Img tag with object-fit and object-position\n4. Icon fonts\n\nUse any of the above to make your website a bit faster.","src/content/how-to-reduce-website-https-requests-for-images/index.mdx","7de21e84058e49ae","how-to-make-a-code-editor-with-codemirror6",["Map",7,609],{"id":7,"data":610,"body":617,"filePath":618,"digest":619,"legacyId":18,"deferredRender":19},{"title":611,"pubDate":612,"description":613,"keywords":614},"How to make a code editor with CodeMirror 6",["Date","2021-06-07T00:00:00.000Z"],"The latest version of CodeMirror is an excellent web based code editor. Let's see how to get started with it.",[14,615,616],"CodeMirror","Code Editor","These days hands-on, in the browser, programming language tutorials are the standard. They all provide some kind of code editor.\nPeople learn by typing some code in those editors and instant feedback tells them the outcome.\n\nWhat if you want to create such a platform? Especially one that works on a touchscreen and that is accessible?\nYou want to create something like [Codecademy](https://www.codecademy.com/), [Educative](https://www.educative.io/), or [Codewars](https://www.codewars.com/)?\nI do so that's why I created [Live JavaScript](https://livejs.netlify.app/).\n\nBut now it's time for an upgrade, so I started to see what code editor I should use there. I tried several code editors, but one stood out: [CodeMirror](https://codemirror.net/6/).\nMarijn Haverbeke is doing a complete rewrite of the existing code base, and the new CodeMirror is a great piece of software. I hope this small guide will encourage you to give it a try.\n\nBy all means, this is _not_ an exhaustive tutorial of CodeMirror 6. There are just too many things it can do. Maybe that is a problem, is a bit hard to find what you need. This is just a quick get-started guide.\n\n## Setup\n\nCodeMirror 6 is published as a set of NPM packages under the `@codemirror` scope. Each package exposes ECMAScript and CommonJS modules.\nSo we need to use some kind of bundler or loader to run them in the browser.\n\nFirst, create a new folder for the project and initialize a new npm project inside:\n\n```\nnpm init -y\n```\n\nThen install the CodeMirror6 packages:\n\n```\nnpm i @codemirror/basic-setup @codemirror/lang-javascript\n```\n\nNow we can create the main editor file,`editor.js`, adding the following:\n\n```js\nimport { EditorState, EditorView, basicSetup } from \"@codemirror/basic-setup\";\nimport { javascript } from \"@codemirror/lang-javascript\";\n\nlet editor = new EditorView({\n  state: EditorState.create({\n    extensions: [basicSetup, javascript()],\n  }),\n  parent: document.body,\n});\n```\n\nLet's create a `styles.css`:\n\n```css\nhtml,\nbody {\n  margin: 0;\n  padding: 0;\n  background: #fff;\n  color: #444;\n  font-family: \"Gill Sans\", \"Gill Sans MT\", Calibri, \"Trebuchet MS\", sans-serif;\n}\n```\n\nFinally let's create an HTML file, `index.html` that uses the script bundle and the CSS file:\n\n```html\n\u003C!DOCTYPE html>\n\u003Chtml lang=\"en\">\n  \u003Chead>\n    \u003Cmeta charset=\"UTF-8\" />\n    \u003Cmeta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" />\n    \u003Cmeta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n    \u003Ctitle>CodeMirror6\u003C/title>\n    \u003Clink rel=\"stylesheet\" href=\"styles.css\" />\n  \u003C/head>\n  \u003Cbody>\n    \u003Cmain>\n      \u003Ch1>CodeMirror 6\u003C/h1>\n      \u003Cdiv id=\"editor\">\n        \u003C!-- code editor goes here  -->\n      \u003C/div>\n    \u003C/main>\n    \u003Cscript src=\"editor.bundle.js\">\u003C/script>\n  \u003C/body>\n\u003C/html>\n```\n\nThe `editor.bundle.js` is missing for the moment. We need to generate it from `editor.js` somehow.\nThere are several ways, using a tool like Webpack or Rollup. Here we use Rollup.\n\n### Rollup\n\nWe need to install Rollup:\n\n```\nnpm i rollup @rollup/plugin-node-resolve\n```\n\nNow let's create a Rollup configuration file, called `rollup.config.js`:\n\n```js\nimport { nodeResolve } from \"@rollup/plugin-node-resolve\";\nexport default {\n  input: \"./editor.js\",\n  output: {\n    file: \"./editor.bundle.js\",\n    format: \"iife\",\n  },\n  plugins: [nodeResolve()],\n};\n```\n\nTo make things simple edit the `package.json` and add a `\"start\": \"rollup -c\"` script.\n`package.json` should be something like this:\n\n```json\n{\n  \"name\": \"codemirror6\",\n  \"version\": \"1.0.0\",\n  \"description\": \"\",\n  \"main\": \"index.js\",\n  \"scripts\": {\n    \"start\": \"rollup -c\"\n  },\n  \"author\": \"\",\n  \"license\": \"ISC\",\n  \"dependencies\": {\n    \"@codemirror/basic-setup\": \"^0.18.2\",\n    \"@codemirror/lang-javascript\": \"^0.18.0\",\n    \"@rollup/plugin-node-resolve\": \"^13.0.0\",\n    \"rollup\": \"^2.50.6\"\n  }\n}\n```\n\n### Build the bundle\n\nNow, if everything is set up correctly we can run:\n\n```\nnpm start\n```\n\nAnd this will generate the `editor.bundle.js` file.\n\nOpen `index.html` in a browser and you'll see a single line of the editor:\n\nimport { Picture } from \"astro:assets\";\n\n\u003CPicture\n  src={import(\"./codemirror6.png\")}\n  widths={[480, 800]}\n  formats={[\"webp\"]}\n  sizes=\"(max-width: 600px) 480px, 800px\"\n  alt=\"CodeMirror 6\"\n/>\n\nIf we look at the source code, we can see that the editor was added in the body:\n\n```html\n\u003Cdiv class=\"cm-editor cm-wrap ͼ1 ͼ2 ͼ4\">\n  \u003Cdiv aria-live=\"polite\" style=\"position: absolute; top: -10000px;\">\u003C/div>\n  \u003Cdiv tabindex=\"-1\" class=\"cm-scroller\">\n    \u003Cdiv\n      class=\"cm-gutters\"\n      aria-hidden=\"true\"\n      style=\"position: sticky; min-height: 26px;\"\n    >\n      \u003Cdiv class=\"cm-gutter cm-lineNumbers\">\n        \u003Cdiv\n          class=\"cm-gutterElement\"\n          style=\"height: 0px; visibility: hidden; pointer-events: none;\"\n        >\n          9\n        \u003C/div>\n        \u003Cdiv\n          class=\"cm-gutterElement cm-activeLineGutter\"\n          style=\"height: 18px; margin-top: 4px;\"\n        >\n          1\n        \u003C/div>\n      \u003C/div>\n      \u003Cdiv class=\"cm-gutter cm-foldGutter\">\n        \u003Cdiv\n          class=\"cm-gutterElement\"\n          style=\"height: 0px; visibility: hidden; pointer-events: none;\"\n        >\n          \u003Cspan title=\"Unfold line\">›\u003C/span>\n        \u003C/div>\n        \u003Cdiv\n          class=\"cm-gutterElement cm-activeLineGutter\"\n          style=\"height: 18px; margin-top: 4px;\"\n        >\u003C/div>\n      \u003C/div>\n    \u003C/div>\n    \u003Cdiv\n      spellcheck=\"false\"\n      autocorrect=\"off\"\n      autocapitalize=\"off\"\n      contenteditable=\"true\"\n      class=\"cm-content\"\n      style=\"tab-size: 4\"\n      role=\"textbox\"\n      aria-multiline=\"true\"\n      aria-autocomplete=\"list\"\n    >\n      \u003Cdiv class=\"cm-activeLine cm-line\">\u003Cbr />\u003C/div>\n    \u003C/div>\n    \u003Cdiv class=\"cm-selectionLayer\" aria-hidden=\"true\">\u003C/div>\n    \u003Cdiv\n      class=\"cm-cursorLayer\"\n      aria-hidden=\"true\"\n      style=\"animation-duration: 1200ms;\"\n    >\n      \u003Cdiv\n        class=\"cm-cursor cm-cursor-primary\"\n        style=\"left: 34.8125px; top: 5px; height: 15px;\"\n      >\u003C/div>\n    \u003C/div>\n  \u003C/div>\n\u003C/div>\n```\n\n## CodeMirror\n\nCodeMirror is a collection of modules that provide a full-featured text and code editor.\nThis means that you can pick and choose which features you need, but setting up an editor requires you to put together a bunch of pieces.\n\nLet's go back to the `editor.js` source to see what is happening there:\n\n```js\nimport { EditorState, EditorView, basicSetup } from \"@codemirror/basic-setup\";\nimport { javascript } from \"@codemirror/lang-javascript\";\n\nlet editor = new EditorView({\n  state: EditorState.create({\n    extensions: [basicSetup, javascript()],\n  }),\n  parent: document.body,\n});\n```\n\nThere are two parts:\n\n- state (EditorState): which contains the data structures that model the editor state (the editor state is made up of a current document and a selection)\n- view (EditorView): which provides the UI of the editor.\n\nThe editor will be rendered inside the body. If you want it to render somewhere else you just need to change the element selector set to `parent`.\n\n### Language\n\nA real code editor needs key bindings, highlighting, a line number gutter or an undo history, etc. While you can add each manually,\nCodeMirror provides a \"basic-setup\" package that includes all the functionality of a code editor. This is why we use \"@codemirror/basic-setup\".\n\nYou can see that we also use the \"@codemirror/lang-javascript\" package. Since each programming language has its specific rules and features, we need to\nuse the correct language package. This way we benefit from a parser, autocompletion, highlighting, and so on.\n\nBefore you can use a different language you need to install the corresponding package. Here are some examples:\n\n```\nnpm i @codemirror/lang-html\nnpm i @codemirror/lang-css\nnpm i @codemirror/lang-json\n```\n\nWhen I'm writing this CodeMirror supports CSS, C++, HTML, Java, JavaScript, JSON, Markdown, Python, Rust, and XML.\n\nThen you import and use the package,e.g. here is how to use the `lang-html`:\n\n```js\nimport { EditorState, EditorView, basicSetup } from \"@codemirror/basic-setup\";\nimport { html } from \"@codemirror/lang-html\";\n\nlet editor = new EditorView({\n  state: EditorState.create({\n    extensions: [basicSetup, html()],\n  }),\n  parent: document.body,\n});\n```\n\n### Document initial value\n\nTo set a start value for the editor you just need to set the state's `doc` property to the value.\nFor example, if the initial editor value is:\n\n```html\n\u003Chtml lang=\"en\">\n  \u003Cbody>\n    \u003Ch1>CodeMirror 6\u003C/h1>\n    \u003Cscript src=\"editor.bundle.js\">\u003C/script>\n  \u003C/body>\n\u003C/html>\n```\n\nThen we set it as `doc` value:\n\n```js\nimport { EditorState, EditorView, basicSetup } from \"@codemirror/basic-setup\";\nimport { html } from \"@codemirror/lang-html\";\n\nlet editor = new EditorView({\n  state: EditorState.create({\n    extensions: [basicSetup, html()],\n    doc: `\u003Chtml lang=\"en\">\n\u003Cbody>\n    \u003Ch1>CodeMirror 6\u003C/h1>\n    \u003Cscript src=\"editor.bundle.js\">\u003C/script>  \n\u003C/body>\n\u003C/html>`,\n  }),\n  parent: document.body,\n});\n```\n\n\u003CPicture\n  src={import(\"./codemirror6_html.png\")}\n  widths={[480, 800]}\n  formats={[\"webp\"]}\n  sizes=\"(max-width: 600px) 480px, 800px\"\n  alt=\"CodeMirror 6 Displaying HTML\"\n/>\n\n### Reading and setting the document's text\n\nTo read the current text displayed by the editor you do:\n\n```js\nconst currentValue = editor.state.doc.toString();\n\n// \u003Chtml lang=\"en\">\n// \u003Cbody>\n//    \u003Ch1>CodeMirror 6\u003C/h1>\n//    \u003Cscript src=\"editor.bundle.js\">\u003C/script>\n// \u003C/body>\n// \u003C/html>\n```\n\nYou can change the value in multiple ways by dispatching changes.\n_DO NOT change the doc directly._\n\n- Inserting text\n\n```js\neditor.dispatch({\n  changes: { from: 0, insert: \"\u003C!DOCTYPE html>\\n\" },\n});\n\n// \u003C!DOCTYPE html>\n// \u003Chtml lang=\"en\">\n// \u003Cbody>\n//    \u003Ch1>CodeMirror 6\u003C/h1>\n//    \u003Cscript src=\"editor.bundle.js\">\u003C/script>\n// \u003C/body>\n// \u003C/html>\n```\n\n- Replacing text\n\n```js\nconst currentValue = editor.state.doc.toString();\nconst startPosition = currentValue.indexOf(\"editor.bundle.js\");\nconst endPosition = startPosition + \"editor.bundle.js\".length;\n\neditor.dispatch({\n  changes: {\n    from: startPosition,\n    to: endPosition,\n    insert: \"code-mirror-editor.js\",\n  },\n});\n\n// \u003C!DOCTYPE html>\n// \u003Chtml lang=\"en\">\n// \u003Cbody>\n//    \u003Ch1>CodeMirror 6\u003C/h1>\n//    \u003Cscript src=\"code-mirror-editor.js\">\u003C/script>\n// \u003C/body>\n// \u003C/html>\n```\n\nSo to replace everything you just need to get the current text length:\n\n```js\nconst currentValue = editor.state.doc.toString();\nconst endPosition = currentValue.length;\n\neditor.dispatch({\n  changes: {\n    from: 0,\n    to: endPosition,\n    insert: \"something else\",\n  },\n});\n```\n\nYou can dispatch multiple changes at once if you need that, `changes` must be an array of individual changes.\n\n### Listen for changes\n\nUsually, you want to listen for change and do something with the new code, for example, to reinterpret/evaluate the code. This is\ndone by adding a `updateListener` to the editor view like this:\n\n```js\nimport {EditorState, EditorView, basicSetup} from \"@codemirror/basic-setup\"\nimport {html} from \"@codemirror/lang-html\"\n\nlet editor = new EditorView({\n state: EditorState.create({\n   extensions: [\n     basicSetup,\n     html(),\n     EditorView.updateListener.of((v)=> {\n     if(v.docChanged) {\n         console.log('DO SOMETHING WITH THE NEW CODE');\n     }\n   })]],\n }),\n parent: document.body\n})\n```\n\nOf course, if you don't want to do a lot of processing each time a key is pressed you need to use a timeout there:\n\n```js\nimport { EditorState, EditorView, basicSetup } from \"@codemirror/basic-setup\";\nimport { html } from \"@codemirror/lang-html\";\n\nlet timer;\n\nlet editor = new EditorView({\n  state: EditorState.create({\n    extensions: [\n      basicSetup,\n      html(),\n      EditorView.updateListener.of((v) => {\n        if (v.docChanged) {\n          if (timer) clearTimeout(timer);\n          timer = setTimeout(() => {\n            console.log(\"DO SOMETHING WITH THE NEW CODE\");\n          }, 500);\n        }\n      }),\n    ],\n  }),\n  parent: document.body,\n});\n```\n\n## Themes\n\nThemes, like anything else, can be provided as NPM packages. Or you can provide your theme.\nFor the moment (CodeMirror6 is still in beta) there is only one dark theme you can install, `One Dark`:\n\n```\nnpm i @codemirror/theme-one-dark\n```\n\nYou can use a theme just like anything else: you import it and use it as an extension:\n\n```js\nimport { EditorState, EditorView, basicSetup } from \"@codemirror/basic-setup\";\nimport { html } from \"@codemirror/lang-html\";\nimport { oneDarkTheme } from \"@codemirror/theme-one-dark\";\n\nlet timer;\n\nlet editor = new EditorView({\n  state: EditorState.create({\n    extensions: [basicSetup, html(), oneDarkTheme],\n  }),\n  parent: document.body,\n});\n```\n\n\u003CPicture\n  src={import(\"./codemirror6_darktheme.png\")}\n  widths={[480, 800]}\n  formats={[\"webp\"]}\n  sizes=\"(max-width: 600px) 480px, 800px\"\n  alt=\"CodeMirror 6 One Dark\"\n/>\n\nAs I've said you can use your theme. CodeMirror 6 uses CSS-in-JS.\n\n```js\nlet myTheme = EditorView.theme(\n  {\n    \"&\": {\n      color: \"white\",\n      backgroundColor: \"#034\",\n    },\n    \".cm-content\": {\n      caretColor: \"#0e9\",\n    },\n    \"&.cm-focused .cm-cursor\": {\n      borderLeftColor: \"#0e9\",\n    },\n    \"&.cm-focused .cm-selectionBackground, ::selection\": {\n      backgroundColor: \"#074\",\n    },\n    \".cm-gutters\": {\n      backgroundColor: \"#045\",\n      color: \"#ddd\",\n      border: \"none\",\n    },\n  },\n  { dark: true }\n);\n```\n\nIf you don't want to provide styles for everything, you can extend the base theme and overwrite only parts of it. Here is an example\nthat changes the editor font family and size:\n\n```js\nimport { EditorView } from \"@codemirror/view\";\n\nconst myTheme = EditorView.baseTheme({\n  \"&.cm-editor\": {\n    fontSize: \"16px\",\n  },\n  \".cm-scroller\": {\n    fontFamily:\n      \"Consolas, Menlo, Monaco, source-code-pro, Courier New, monospace\",\n  },\n});\n```\n\n## Putting all together\n\nThe only missing piece is a code evaluator, which for JavaScript is easy to do (since this runs in the browser).\nJust add some `console.log()` to see the results of the code execution on the browser's DevTools console.\n\n```js\nimport { EditorState, EditorView, basicSetup } from \"@codemirror/basic-setup\";\nimport { javascript } from \"@codemirror/lang-javascript\";\n\nconst jscode = \"\";\nconst myTheme = EditorView.baseTheme({\n  \"&.cm-editor\": {\n    fontSize: \"16px\",\n  },\n  \".cm-scroller\": {\n    fontFamily:\n      \"Consolas, Menlo, Monaco, source-code-pro, Courier New, monospace\",\n  },\n});\n\nlet timer;\n\nconst evaluateCode = (code) => {\n  console.clear();\n  try {\n    Function(code)(window);\n  } catch (err) {\n    console.error(err);\n  }\n};\n\nlet editor = new EditorView({\n  state: EditorState.create({\n    extensions: [\n      basicSetup,\n      javascript(),\n      myTheme,\n      EditorView.updateListener.of((v) => {\n        if (v.docChanged) {\n          if (timer) clearTimeout(timer);\n          timer = setTimeout(() => {\n            evaluateCode(editor.state.doc.toString());\n          }, 500);\n        }\n      }),\n    ],\n    doc: jscode,\n  }),\n  parent: document.body,\n});\n```\n\n\u003CPicture\n  src={import(\"./editor_in_action.png\")}\n  widths={[480, 800]}\n  formats={[\"webp\"]}\n  sizes=\"(max-width: 600px) 480px, 800px\"\n  alt=\"The editor in action\"\n/>\n\nAnd that is all. You have a nice JavaScript playground that can be integrated into a bigger platform.\n\n## Resources\n\n- [CodeMirror](https://codemirror.net/6)\n- [CodeMirror Document changes](https://codemirror.net/6/examples/change/)\n- [CodeMirror Styling](https://codemirror.net/6/examples/styling/)\n- [CodeMirror Forum](https://discuss.codemirror.net/t/codemirror-6-proper-way-to-listen-for-changes/2395/5)","src/content/how-to-make-a-code-editor-with-codemirror6/index.mdx","da436406cbb60162","how-to-get-100-performance-score",["Map",7,622],{"id":7,"data":623,"body":629,"filePath":630,"digest":631,"legacyId":18,"deferredRender":19},{"title":624,"pubDate":625,"description":626,"keywords":627},"How to get 100 website performance score",["Date","2020-07-05T00:00:00.000Z"],"It's not easy to get 100 website performance, but most important you cannot do it without some big compromises.",[628,14,564],"Web performance","First, let's see what 100 website performance score means.\nA tool, called [Lighthouse](https://developers.google.com/web/tools/lighthouse), can be used to measure\nwebsite performance. The measurement is a score between 0 and 100. 100 means the best performance.\n\nThis score is important in several ways:\n\n- It's an indicator of the user experience. If the website is slow, visitors will not wait and move on to other sites.\n  This is more important on mobile devices, which in general have a slow internet connection.\n- It's part of the Google Search Engine algorithm that determines the rank of the website for a search query. The lower the score, the lower the website ranking, given there are\n  other sites that match the search query and have a better score.\n\nLighthouse is integrated into Chrome's Developer Tools so you can use it from there, but you can also use\n[web.dev](https://web.dev/measure/) or [PageSpeed Insights](https://developers.google.com/speed/pagespeed/insights/)\n\nHere is the performance score of this website using web.dev:\n\nimport { Picture } from \"astro:assets\";\n\n\u003CPicture\n  src={import(\"./perf.png\")}\n  widths={[480, 800]}\n  formats={[\"webp\"]}\n  sizes=\"(max-width: 600px) 480px, 800px\"\n  alt=\"The performance score of this website\"\n/>\n\nThe performance score is determined by [3 metrics](https://web.dev/vitals/):\n\n1. Largest Contentful Paint (LCP): measures loading performance. To provide good user experience, LCP should occur within 2.5 seconds of when the page first starts loading.\n2. First Input Delay (FID): measures interactivity. To provide good user experience, pages should have an FID of less than 100 milliseconds.\n3. Cumulative Layout Shift (CLS): measures visual stability. To provide good user experience, pages should maintain a CLS of less than 0.1.\n\n## Why go for 100?\n\nA score of 90+ is great, you are doing a great job. So why would someone want to go for 100?\n\nThere is no good answer to this question. There's not much of a difference between 90+ and 100 scores.\nPeople will have the same experience. The rank on Google will be the same.\nYou'll go for 100 only if you want to demonstrate that you can. This is why I did it anyway.\n\nWhy you should not go for it?\nIf your website is very interactive, uses buttons to fetch data, to post data, so is very dynamic, you'll have a hard time\nreaching 100 because you'll need to load too much JavaScript.\n\n## How to do it\n\nThis can be done by removing a lot of JavaScript, embedding CSS and fonts and using less images and optimizing\nthe images.\n\n### 1. Remove JavaScript\n\nJavaScript affects LCP & FID.\n\nI'm using Gatsby to build the website, the pages are rendered server-side and served as HTML to the browser.\nBut after the HTML is loaded, it loads 200k of JavaScript, including React. When React loads it adds interactivity\nto your buttons, fetches data, etc.\n\nBecause this website has only links, no buttons, no data fetch, I removed all the JavaScript added by Gatsby using\nthe [`gatsby-plugin-no-javascript`](https://www.gatsbyjs.org/packages/gatsby-plugin-no-javascript/) in `gatsby-config.js`\n\n```javascript\nmodule.exports = {\n  plugins: [...`gatsby-plugin-no-javascript`],\n};\n```\n\nI have a button the website, the lightbulb next to the sitename is used to change the theme. That was not working\nanymore after I've removed all the JavaScript, but I've solved this by reimplementing the functionality in plain\nJavaScript inside `html.js`:\n\n```jsx\n\u003Cscript\n  dangerouslySetInnerHTML={{\n    __html: `\n        var theme;\n        try {\n            theme = localStorage.getItem('theme');\n        } catch (err) { }\n\n        if(!theme && window.matchMedia('(prefers-color-scheme: dark)') && window.matchMedia('(prefers-color-scheme: dark)').matches) {                \n            theme = 'dark'\n        }               \n        document.body.className = theme || 'light';\n\n        function toggleTheme() {\n            var body = document.querySelector('body');\n            var newTheme = body.className === 'dark' ? 'light' : 'dark';                \n            body.className = newTheme;\n            try {\n                localStorage.setItem('theme', newTheme);\n            } catch (err) { }\n        }`,\n  }}\n/>\n```\n\nAnother thing that I did was to call the [analytics function](/server-side-google-analytics/) from `html.js` also,\nthis way I don't include Google Analytics scripts on the website:\n\n```jsx\n\u003Cscript\n  dangerouslySetInnerHTML={{\n    __html: `\n        // send analytics data\n        function sendData() {\n            var sitedata = {\n                ...\n            }\n            return fetch('/.netlify/functions/send', {\n                body: JSON.stringify(sitedata),\n                method: 'POST'\n            })\n        }\n        sendData();\n    `,\n  }}\n/>\n```\n\nIf you are using Twitter share on your website you might need to remove the Twitter library and replace the calls\nwith plain links. Here is an example:\n\n```html\n\u003Ca\n  href=\"https://twitter.com/share?url=https://raresportan.com/how-to-get-100-performance/&amp;text=How%20to%20Get%20100%20Website%20Performance&amp;via=raresportan\"\n  target=\"_blank\"\n  rel=\"noreferrer\"\n>\n  Please share it with your friends on Twitter\n\u003C/a>\n```\n\n### 2. Embed critical styles\n\nCSS files affect CLS. If the CSS is loaded after the HTML is rendered, the page visuals are changing.\n\nCritical CSS must be added inside the HTML using a `\u003Cstyle>` tag. Do not use a `.css` file for your critical CSS.\nLucky me, Gatsby does this by default. It concatenates the content of all CSS files in a single string that\nis added as `\u003Cstyle>` tag inside the HTML.\n\n### 3. Embed fonts\n\nJust as CSS, fonts affect CLS. The moment the font is loaded, the texts on the page are re-rendered.\nAnd just as CSS, the fonts must be in the HTML, and not loaded as separate files.\n\nIn my case, I creates a fonts.css that contains the font sources as base64 encoded strings. They end up inside the\n`\u003Cstyle>` tag with the rest of the CSS.\n\n```css\n@font-face {\n    font-family: IBM Plex Sans;\n    font-style: normal;\n    font-display: swap;\n    font-weight: 500;\n    src: url(data:font/woff2;base64,d09GMgABAAAAAEjQABEAAAAAy...)\n```\n\nI used a `base64` command (available on macOS and Linux) to transform the fonts:\n\n```bash\n$ base64 myfont.ttf > fontbase64.txt\n```\n\nAlternatively, you can use an online service to do this.\n\n### 4. Optimize images\n\nYou should use few images if possible. If not make sure you optimize the hell out of them.\nAlways set a width and height or put them inside a container that has 'overflow: hidden', otherwise when an image\nis loaded it moved content around and this is very bad for the CLS.\n\nI'm using Gatsby's plugins to optimize my images. It automatically generates different images for different viewport sizes\nand loads the images lazy:\n\n```html\n\u003Cimg\n  class=\"gatsby-resp-image-image\"\n  alt=\"The performance score of this website\"\n  title=\"The performance score of this website\"\n  src=\"/static/772422e4c6077575d4fc47afd461bf7e/c5bb3/perf.png\"\n  srcset=\"\n    /static/772422e4c6077575d4fc47afd461bf7e/04472/perf.png  170w,\n    /static/772422e4c6077575d4fc47afd461bf7e/9f933/perf.png  340w,\n    /static/772422e4c6077575d4fc47afd461bf7e/c5bb3/perf.png  680w,\n    /static/772422e4c6077575d4fc47afd461bf7e/b12f7/perf.png 1020w,\n    /static/772422e4c6077575d4fc47afd461bf7e/b5a09/perf.png 1360w,\n    /static/772422e4c6077575d4fc47afd461bf7e/eee07/perf.png 1628w\n  \"\n  sizes=\"(max-width: 680px) 100vw, 680px\"\n  loading=\"lazy\"\n  style=\"width: 100%; height: 100%; margin: 0px; vertical-align: middle; position: absolute; top: 0px; left: 0px;\"\n/>\n```\n\nBeside this I'm using a [Netlify plugin](https://www.npmjs.com/package/netlify-plugin-image-optim) that optimizes the image even further.\n\n### 5. Preload pages\n\nOne of the nice things Gatsby does is that it preloads all the pages referenced by a specific page. This way navigation\nfrom one website page to another is instant.\n\nI loved that. But now that I've removed JavaScript, the navigation between pages is much slower.\nI almost give up at this point. While the initial page load was faster, the in-site navigation was worse.\n\nIn the end, I wrote a bit of plain JavaScript that prefetch a page when the user hovers on the link. This way\nI save 100-300ms and the page are appearing to load faster:\n\n```jsx\n\u003Cscript\n  dangerouslySetInnerHTML={{\n    __html: `\n        window.addEventListener('DOMContentLoaded', (event) => {\n            document.querySelector('button.lightbulb').addEventListener('click', toggleTheme);\n\n            //only in-site links\n            var links = document.querySelectorAll('a[href^=\"/\"')\n            links.forEach(function(link) {\n                link.addEventListener('mouseover', function(e) {\n                var l = e.target;\n                var href = l.href; \n                var link = document.querySelector('link[href=\"'+href+'\"]');\n                if (!link) {\n                    var prefetchLink = document.createElement(\"link\");\n                    prefetchLink.href = href;\n                    prefetchLink.rel = \"prefetch\";\n                    document.head.appendChild(prefetchLink);\n                }\n            })\n        });        \n    `,\n  }}\n/>\n```\n\n## Conclusion\n\nIf you are willing to make some compromises, most importantly to replace kilos of JavaScript libraries\nwith some vanilla JavaScript you can reach a 100 score in website performance.\n\nWhile you can do something about CSS and fonts, in most cases is probably not practical to remove all the JavaScript,\nand a 90+ score is fine.","src/content/how-to-get-100-performance-score/index.mdx","a5e43387584af4f8","how-to-make-an-npm-package",["Map",7,634],{"id":7,"data":635,"body":643,"filePath":644,"digest":645,"legacyId":18,"deferredRender":19},{"title":636,"pubDate":637,"description":638,"keywords":639},"How to create an NPM package",["Date","2020-06-05T00:00:00.000Z"],"All the steps you need to follow to share your JavaScript code with the world as an NPM package",[640,641,642,14],"npm","node.js","Github","I’ve written some code that I thought might be useful to others, so I decided to share the code as NPM packages.\nI ended up creating two packages and made some mistakes on the way.\n\nOne thing I want to point out is that I'm hosting my code on GitHub. This is not required, you can host your code anywhere you want.\nBut since I'm using GitHub I'll also provide some (optional) GitHub related tips.\n\n## Install Node.js\n\nIf you didn't have it already, you need to get Node.js from [https://nodejs.org/en/](https://nodejs.org/en/). I recommend the LTS edition.\nType `node -v` and `npm -v` in a terminal if you are not sure if you have it:\n\n```bash\n$ node -v\nv11.15.0\n$ npm -v\n6.7.0\n```\n\nnpm comes with node. (npm is an abbreviation for Node Package Manager.)\n\n## Choose the Package Name\n\nThink a bit about your package name. Make sure the name conveys the package purpose as best as possible.\nWhen you decided on the name, check if the name is available, for example by going to [npmjs.org](https://www.npmjs.com/)\nand searching for your package name or using `npm search`. If it is taken, you'll need to come up with another one.\n\nTip: You should use the kebab-case naming for your package if its name consists of several words. All lowercase with - separating words.\n\nLet's assume you decided to go with `dates-and-times`: an npm package with utility functions related to date and time.\n\n## Start the project\n\nI prefer to first create a new project on [Github](https://github.com/). Of course, you need to have a GitHub account if you want to do the same.\nThere are some settings I prefer to do from the start because otherwise, I forget about them.\nThen I just clone it the project on my local machine by running `git clone \u003Crepo-url>.git` in a terminal.\n\nAssuming the GitHub URL is https://github.com/janedoe/dates-and-times/, to clone it, you run:\n\n```bash\ngit clone https://github.com/janedoe/dates-and-times.git\n```\n\nThis creates the `dates-and-times` folder with the repository content.\n\nOr, you can create a new folder somewhere on the disk and move inside it:\n\n```bash\n$ mkdir dates-and-times\n$ cd dates-and-times\ndates-and-times$\n```\n\nNow, to initialize the project, type the following while you are inside the `dates-and-times` folder:\n\n```bash\nnpm init\n```\n\nAnswer the questions, don't worry, you can change them later. The result is the creation of a file called `package.json`\nthat should look like this:\n\n```json\n{\n  \"name\": \"dates-and-times\",\n  \"version\": \"0.1.0\",\n  \"description\": \"A collection of date and time related functions\",\n  \"main\": \"index.js\",\n  \"scripts\": {\n    \"test\": \"echo \\\"Error: no test specified\\\" && exit 1\"\n  },\n  \"author\": \"Jane Doe\",\n  \"license\": \"MIT\"\n}\n```\n\n### Implement the main file\n\nWhatever you choose to be your main file (like `index.js`) will be loaded by the projects that will use your npm package.\nHere you export all the functionality provided by your package.\n\nFor instance, let's assume we want to create a package that provides a greeting function:\n\n```js\nconst greeting = (date = new Date()) => {\n  const weekDay = date.toLocaleDateString(\"default\", { weekday: \"long\" });\n  return `Enjoy the rest of your ${weekDay}!`;\n};\n\nmodule.exports = greeting;\n```\n\nThe code that will use the package will import the functionality like this:\n\n```js\nconst greeting = require(\"dates-and-times\");\n\n// use it\nconsole.log(greeting());\nconsole.log(greeting(new Date(\"2020-06-01\"))); // Enjoy the rest of your Sunday!\n```\n\n### Write tests\n\nI prefer to use [jest](https://jestjs.io/) but feel free to use what you like.\nFirst, install the test library as a dev dependency:\n\n```bash\ndates-and-times$ npm i --save-dev jest\n```\n\nThen change the test script from `package.json`:\n\n```json\n{\n  \"name\": \"dates-and-times\",\n  \"version\": \"0.1.0\",\n  \"description\": \"A collection of date and time related functions\",\n  \"main\": \"index.js\",\n  \"scripts\": {\n    \"test\": \"jest\"\n  },\n  \"author\": \"Jane Doe\",\n  \"license\": \"MIT\",\n  \"devDependencies\": {\n    \"jest\": \"^26.0.1\"\n  }\n}\n```\n\nCreate a `index.test.js` with tests for your code:\n\n```js\nconst greeting = require(\"dates-and-times\");\n\ntest(\"week day is correct\", () => {\n  expect(greeting(new Date(\"2020-06-01\"))).toEqual(\n    \"Enjoy the rest of your Sunday!\"\n  );\n  expect(greeting(new Date(\"2020-12-25\"))).toEqual(\n    \"Enjoy the rest of your Friday!\"\n  );\n});\n```\n\nRun the tests:\n\n```bash\ndates-and-times$ npm test\n```\n\n### Specify what files to publish\n\nA project can contain a lot of files that should not be part of the published package.\nFor example the test files, the development dependencies, and so on.\n\nYou should specify which files need to be shipped.\n\n```json\n{\n  \"name\": \"dates-and-times\",\n  \"version\": \"0.1.0\",\n  \"description\": \"A collection of date and time related functions\",\n  \"main\": \"index.js\",\n  \"scripts\": {\n    \"test\": \"jest\"\n  },\n  \"files\": [\"index.js\"],\n  \"author\": \"Jane Doe\",\n  \"license\": \"MIT\",\n  \"devDependencies\": {\n    \"jest\": \"^26.0.1\"\n  }\n}\n```\n\n### Add a README\n\nYou should add a README.md file where you explain how to install the package and how to use it.\nUsers will read this to decide if your package suits their needs. So spend some time on this and\nmake a compelling offer.\n\nProvide examples and explain each option when the package takes parameters or configurations.\n\nThis file must be written in Markdown language. You might not no Markdown but is very easy to pick up.\n[Here](https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet) is a cheat sheet if you need it.\n\n### Test your package like a user\n\nYou can create a separate test project and add your package as a dependency.\nTo do this first pack you package as it will be done when published.\n\n```bash\n$ npm pack\nnpm notice\nnpm notice 📦  dates-and-times@0.1.0\nnpm notice === Tarball Contents ===\nnpm notice 939B  package.json\nnpm notice 2.1kB index.js\nnpm notice 1.1kB LICENSE\nnpm notice 5.3kB README.md\nnpm notice === Tarball Details ===\nnpm notice name:          dates-and-times\nnpm notice version:       0.1.0\nnpm notice filename:      dates-and-times-0.1.0.tgz\nnpm notice package size:  5.0 kB\nnpm notice unpacked size: 15.4 kB\nnpm notice shasum:        574b4bb33f49679c89283211b1a336d4a5fa512a\nnpm notice integrity:     sha512-/QiwJPZKUxOHu[...]5s106I5TyJ0lQ==\nnpm notice total files:   5\nnpm notice\ndates-and-times-0.1.0.tgz\n```\n\nThis is a good way to verify that you are not shipping unwanted files.\nNote that some files like `package.json` must always be in the package.\n\nThen create a new project in a different folder and add your tgz as a dependency:\n\n```bash\n$ mkdir proof\n$ cd proof\nproof$ npm init -y\nproof$ npm i \u003Cpath-to-file>dates-and-times-0.1.0.tgz\n```\n\nCreate a proof.js file and use your package:\n\n```js\nconst greeting = require(\"dates-and-times\");\nconsole.log(greeting());\n```\n\nFinally, run it:\n\n```bash\n$ node proof.js\nEnjoy the rest of your Monday!\n```\n\n## Create an npm account\n\nYou only need to login once, so if you logged in before, you don't need to do it again.\nTo check if you are already logged in type:\n\n```bash\n$ npm whoami\n```\n\nIt prints your username if you are logged in already.\n\nIf you don't have an npm account, go to [npmjs](https://www.npmjs.com/) and create an [account](https://www.npmjs.com/signup) if you don't have one.\nYou will receive a confirmation email, don't forget to confirm it, otherwise, you cannot publish your package.\n\nLogin from the terminal:\n\n```bash\n$ npm login\nUsername: janedoe\nPassword:\nEmail: (this IS public) janedoe@gmail.com\nLogged in as janedoe on https://registry.npmjs.org/\n```\n\n## Publish the package\n\nConfirm the code works as expected. Once you publish your package you cannot unpublish it, you can only publish new versions.\nCheck that the `test` script is not throwing errors, which does by default (`\"test\": \"echo \\\"Error: no test specified\\\" && exit 1\"`)\n\nFrom the project folder, run:\n\n```bash\ndates-and-times$ npm publish\n```\n\nIf there are no errors, go to [npmjs](https://www.npmjs.com/) and the new package should be among your packages.\n\n## Publish a new version\n\nThere's a good chance that you'll find some small issues later. Like typos, missing stuff from README, console.logs left in the code, etc.\nYou'll want to fix them, and each time you'll have to publish a new version.\n\nYou should start at version 0.0.0 or 0.1.0. Your fixes will go in 0.0.1 or 0.1.1, etc.\nWhen your package is ready for usage, bump the version to 1.0.0. (One mistake I did was to start from 1.0.0)\n\nThe package version should follow the [_semantic versioning_](https://semver.org/) system, MAJOR.MINOR.PATCH:\n\n- increase PATCH version for small bug fixes, typos, documentation updates, etc.\n- increase MINOR version when you add new functionality, compatible with the last version. Or when you add important performance improvements.\n  performance improvements.\n- increase MAJOR version when you make major changes, incompatible with the last version. Or when you add new features.\n\nBut there are several things that you need to do each time you publish a new version:\n\n- Update version in package.json\n- Push the package to Github\n- Push the package to npm\n- Create release notes for the new version\n\nYou might forget about some of them (as I did 😞) so you might need a tool that helps you with this, like [np](https://www.npmjs.com/package/np)\nor [GitHub Actions](https://github.com/features/actions).\n\n### np\n\nnp works only with a remote Git repository, like GitHub. Also, you must have pushed to the remote repository at least once.\n\n1. Install it once globally, then you can use it in multiple projects:\n\n```bash\n$ npm install --global np\n```\n\n2. Run it inside your project when you want to publish a new version:\n\n```bash\ndates-and-times$ np\n```\n\nIf there are no errors your new package will be published.\n\n### Github Actions\n\nIf you are using Github, you might use the Github Actions:\n\nimport { Picture } from \"astro:assets\";\n\n\u003CPicture\n  src={import(\"./github-actions.png\")}\n  widths={[480, 800]}\n  formats={[\"webp\"]}\n  sizes=\"(max-width: 600px) 480px, 800px\"\n  alt=\"Github Actions on github.com\"\n/>\n\nThe idea is to add a `.github/workflows` folder inside your project with a .yml configuration file.\nFor details see https://help.github.com/actions/language-and-framework-guides/publishing-nodejs-packages\n\nNote that in this case, you will have to get an auth token from npmjs, and add it to your GitHub repository as a Secret.\nPlus, you need to do this for each of your repositories.\n\nHere is an example:\n\n```yml\nname: Node.js Package\n\non:\n  push:\n    branches:\n      - master\n\njobs:\n  build:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v2\n      - uses: actions/setup-node@v1\n        with:\n          node-version: 12\n      - run: yarn\n      - run: yarn test\n\n  publish-npm:\n    needs: build\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v2\n      - uses: actions/setup-node@v1\n        with:\n          node-version: 12\n          registry-url: https://registry.npmjs.org/\n      - run: yarn\n      - run: yarn publish\n        env:\n          NODE_AUTH_TOKEN: ${{secrets.npm_token}}\n```","src/content/how-to-make-an-npm-package/index.mdx","ce5d953ad6981f98","html-basics-part-one",["Map",7,648],{"id":7,"data":649,"body":657,"filePath":658,"digest":659,"rendered":660,"legacyId":64},{"title":650,"pubDate":651,"description":652,"keywords":653,"twitterImage":654,"minutesRead":655,"excerpt":656},"HTML Basics",["Date","2021-02-20T00:00:00.000Z"],"You might be surprised, but not many web developers know what are the basic HTML parts of a web page. It's time to changed that",[433],"https://www.raresportan.com/twitter-cards/html-basics.png","9 min read","Looks to me that many web developers, especially “full-stack web developers,” are\nnot sure what is the correct HTML for a webpage and use di","Looks to me that many web developers, especially \"full-stack web developers,\" are\nnot sure what is the correct HTML for a webpage and use divs and spans instead\nof other, more semantically meaningful tags.\n\nThe HTML output of your website it’s way more important than the tooling you’ve used to create that output. User experience is more important than developer experience.\n\nSadly many of us web developers care more about the JavaScript framework we're using, we're studying CSS tricks, but never about the HTML. Many of us don't even think\nabout HTML as programming.\n\nLet's learn how to use some HTML.\n\n## Too long; didn't read\n\n```html\n\u003C!DOCTYPE html>\n\u003Chtml lang=\"en\">\n  \u003Chead>\n  \t\u003Ctitle>PAGE TITLE\u003C/title>\n  \t\u003Cmeta name=\"description\" content=\"WHAT IS THIS PAGE ABOUT\" />\n    \u003Cmeta charset=\"UTF-8\" />\n    \u003Cmeta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n    \u003Cmeta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\" />\n  \u003C/head>\n  \u003Cbody>\n\n    \u003Ca href=\"#content\">Skip to content\u003C/a>\n\n    \u003Cheader role=\"banner\">\n        \u003Ca href=\"/\" aria-label=\"Home\">\n          \u003Csvg aria-hidden=\"true\" focusable=\"false\">...\u003C/svg>\n        \u003C/a>\n        \u003Cnav aria-label=\"primary\">\n          \u003Cul>\n            \u003Cli>\u003Ca href=\"/\">Home\u003C/a>\u003C/li>\n            \u003Cli>\u003Ca href=\"/about\">About\u003C/a>\u003C/li>\n            OTHER LINKS\n          \u003C/ul>\n        \u003C/nav>\n    \u003C/header>\n\n    \u003Cmain tabindex=\"-1\" id=\"content\">\n      \u003Carticle>\n        \u003Ch1>PAGE TITLE\u003C/h1>\n        ...\n        REST OF CONTENT\n        ...\n      \u003C/article>\n    \u003C/main>\n\n    \u003Caside>\n      \u003Ch2>You might also like\u003Ch2>\n      \u003Cul>\n        \u003Cli>\n          \u003Ca href=\"/intersting-article\">Interesting article\u003C/a>\n        \u003C/li>\n        \u003Cli>\n          \u003Ca href=\"/must-read-article\">Must read article\u003C/a>\n        \u003C/li>\n      \u003C/ul>\n    \u003C/aside>\n\n    \u003Cfooter>\n      \u003Cnav>\n        \u003Cul>\n          \u003Cli>\n            \u003Ca href=\"https://twitter.com/my_twitter_name\"\n            target=\"_blank\" rel=\"noreferrer\">Twitter\u003C/a>\n          \u003C/li>\n          \u003Cli>\n            \u003Ca href=\"https://github.com/my_github_name\"\n            target=\"_blank\" rel=\"noreferrer\">Github\u003C/a>\n          \u003C/li>\n        \u003C/ul>\n      \u003C/nav>\n      \u003Cspan>&copy; 2021 All rights reserved.\u003C/span>\n    \u003C/footer>\n\n  \u003C/body>\n\u003C/html>\n```\n\n## HTML, head, and body\n\nAll webpages should have the following bare minimum HTML:\n\n```html\n\u003C!DOCTYPE html>\n\u003Chtml lang=\"en\">\n  \u003Chead>\n    \u003Ctitle>PAGE TITLE\u003C/title>\n    \u003Cmeta name=\"description\" content=\"WHAT IS THIS PAGE ABOUT\" />\n    \u003Cmeta charset=\"UTF-8\" />\n    \u003Cmeta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n    \u003Cmeta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\" />\n  \u003C/head>\n  \u003Cbody>\u003C/body>\n\u003C/html>\n```\n\nLet's see why we need each part:\n\n### DOCTYPE tag\n\n```html\n\u003C!DOCTYPE html>\n```\n\nIn the past, when different browsers were following different standards, there were\nmultiple doctypes, and based on it, the browsers rendered the same page in different\nways. These days, we only need to use `\u003C!DOCTYPE html>` to make browsers follow standards.\n\nThis line must always be the first in the document.\n\n_HTML is very forgiving, and will work even if you don't add this, but:_\nSome browsers might surprisingly render the webpage and you will have no idea why.\n\n### html tag\n\n```html\n\u003Chtml>\u003C/html>\n```\n\nThe HTML`\u003Chtml>` element represents the root of an HTML document. There can be only one html in a page.\nAll other elements must be descendants of this element.\n\nOne important attribute you want to set on the html element is \"lang\" to indicate\nthe language used on the page. Usually, the browsers can detect the language, if\nyou don't have content in different languages on the same page. Still, to avoid\nsurprises you should set the \"lang\" attribute.\n\n_HTML is very forgiving, and will work even if you don't add this, but:_\nBrowsers will have to guess where the html tag should be and could lead to\ndifferent results in some browsers.\n\n### head tag\n\n```html\n\u003Chead> \u003C/head>\n```\n\nThe HTML `\u003Chead>` element contains machine-readable information (metadata) about the webpage.\nThe information in the head is not used by humans but by browsers and search engines.\nThere can be only one head in a page.\n\nYou can set many things in the head but what is important is:\n\n- `\u003Ctitle>PAGE TITLE\u003C/title>` : the name of your webpage like the news article title, the page purpose (e.g. About, Contact), etc.\n  It is displayed along with the site logo inside the browser tab that shows your site.\n  This is indexed by search engines and appears in search results. You want to be very careful with titles.\n- `\u003Cmeta name=\"description\" content=\"WHAT IS THIS PAGE ABOUT\"/>` : usually the title is not enough and you need to provide a description. For example, the\n  title is the name of your fancy startup, in the description you need to say what is your startup about.\n  Besides the title, the description also appears in the search results so provide a helpful description.\n- `\u003Cmeta charset=\"UTF-8\" />` : you should specify the character encoding of the content of your\n  webpage. UTF-8 is a safe bet. If you use only ANSII characters on your website it's ok to not set it\n  but to be future-proof set it to UTF-8.\n- `\u003Cmeta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />` : the problem is that\n  on the small mobile screens you can't read the content of the website and the smartphone tries all\n  kind of tricks to make that better. If you want to have control and stop smartphones\n  zoom like crazy, add the above metadata. You'll also need some CSS to make that better, but this\n  metadata is the first step.\n- `\u003Cmeta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\" />` : allows us to choose what version\n  of Internet Explorer the page should be rendered with. It's a legacy meta. Hopefully, soon nobody\n  will use Internet Explorer, but till then, this metadata is very useful.\n\n_HTML is very forgiving, and will work even if you don't add this, but:_\n\n- Search engines will not know the name of your website\n- Browsers might use different content encodings, so your content can look\n  strange in some.\n- Mobile browsers will zoom and resize your webpage in weird ways.\n\n### body tag\n\n```html\n\u003Cbody>\u003C/body>\n```\n\nThe HTML `\u003Cbody>` element represents the content of an HTML document. There can be only one body in a page.\nAll visible content goes here.\n\n## Page landmarks\n\nIf you think about it, most of the web pages have several parts:\n\n- header with logo or site name\n- several links to navigate through main website pages\n- the main content of the page\n- a footer with small prints, copyright, links to related websites, and so on.\n  And guess what, users expect these parts to be there. These parts are called page landmarks.\n\n### Main content\n\nMaybe some websites don’t have all of the above, but for sure they have\nsome content. To indicate what is the content we use `\u003Cmain>`:\n\n```html\n\u003C!DOCTYPE html>\n\u003Chtml lang=\"en\">\n  \u003Chead>\n    ...\n  \u003C/head>\n  \u003Cbody>\n    \u003Cmain>CONTENT GOES HERE\u003C/main>\n  \u003C/body>\n\u003C/html>\n```\n\nIf you also have a header and navigation it's a good practice to provide a \"Skip to\ncontent\" link. This link can be used by screen readers to skip the navigation and\njump straight to content:\n\n```html\n\u003C!DOCTYPE html>\n\u003Chtml lang=\"en\">\n  \u003Chead>\n    ...\n  \u003C/head>\n  \u003Cbody>\n    \u003Ca href=\"#content\">Skip to content\u003C/a>\n    \u003Cmain tabindex=\"-1\" id=\"content\">CONTENT GOES HERE\u003C/main>\n  \u003C/body>\n\u003C/html>\n```\n\nWe add an \"id\" to `\u003Cmain>` to allow it to be programmatically focused.\nWhen someone clicks the \"Skip to content\" link, the `\u003Cmain>` element will get the focus.\nThat's why we also set a \"tabindex\" with value `-1` to send focus to the next focusable element inside `\u003Cmain>`\n\nAlso, note that a webpage must have a single `\u003Cmain>` element.\n\n### The header\n\nIt's the place where we put the website logo and the links to other pages (navigation).\nUsually, the header is displayed on every page.\n\n```html\n\u003C!DOCTYPE html>\n\u003Chtml lang=\"en\">\n  \u003Chead>\n    ...\n  \u003C/head>\n  \u003Cbody>\n    \u003Ca href=\"#content\">Skip to content\u003C/a>\n    \u003Cheader role=\"banner\">\n      \u003Ca href=\"/\" aria-label=\"Home\">\n        \u003Csvg aria-hidden=\"true\" focusable=\"false\">...\u003C/svg>\n      \u003C/a>\n      \u003Cnav aria-label=\"primary\">\n        \u003Cul>\n          \u003Cli>\u003Ca href=\"/\">Home\u003C/a>\u003C/li>\n          \u003Cli>\u003Ca href=\"/about\">About\u003C/a>\u003C/li>\n          OTHER LINKS\n        \u003C/ul>\n      \u003C/nav>\n    \u003C/header>\n    \u003Cmain tabindex=\"-1\" id=\"content\">CONTENT GOES HERE\u003C/main>\n  \u003C/body>\n\u003C/html>\n```\n\n- The header goes between \"Skip to content\" and `\u003Cmain>`, the purpose of \"Skip to content\"\n  is exactly to skip the header.\n- The webpage `header` should have the \"banner\" role to make it clear for screen readers\n  about its purpose. You can have other headers, those should not have banner role.\n- The `\u003Cnav>` element is the website's main navigation. It's a good practice to set\n  \"aria-label\" to \"primary\" or \"main\" to it. This way we can have multiple `\u003Cnav>`,\n  but the others will have different values for \"aria-label\", so it will be clear the purpose of\n  each one.\n- For the links inside `\u003Cnav>` we use an unordered list, a `\u003Cul>`, as we do in general\n  for any collection of items.\n- The logo is an SVG file, a drawing that cannot be read by screen readers.\n  So we use `\u003Csvg aria-hidden=\"true\" focusable=\"false\">` to hide it from them.\n\n### The footer\n\nWe use the `\u003Cfooter>` element to create the website footer.\nNormally, the footer contains some links and copyright texts.\n\n```html\n\u003C!DOCTYPE html>\n\u003Chtml lang=\"en\">\n  \u003Chead>\n    ...\n  \u003C/head>\n  \u003Cbody>\n    \u003Ca href=\"#content\">Skip to content\u003C/a>\n    \u003Cheader role=\"banner\">...\u003C/header>\n\n    \u003Cmain tabindex=\"-1\" id=\"content\">CONTENT GOES HERE\u003C/main>\n\n    \u003Cfooter>\n      \u003Cnav>\n        \u003Cul>\n          \u003Cli>\n            \u003Ca\n              href=\"https://twitter.com/my_twitter_name\"\n              target=\"_blank\"\n              rel=\"noreferrer\"\n              >Twitter\u003C/a\n            >\n          \u003C/li>\n          \u003Cli>\n            \u003Ca\n              href=\"https://github.com/my_github_name\"\n              target=\"_blank\"\n              rel=\"noreferrer\"\n              >Github\u003C/a\n            >\n          \u003C/li>\n        \u003C/ul>\n      \u003C/nav>\n      \u003Cspan>&copy; 2021 All rights reserved.\u003C/span>\n    \u003C/footer>\n  \u003C/body>\n\u003C/html>\n```\n\n### The article\n\nIf the page is a piece of writing about something like a blog post or a news piece,\na product page, a person, and so on, you should add the content inside a `\u003Carticle>`.\nAnd inside the `\u003Carticle>` add an `\u003Ch1>` with the page title, the same used in `\u003Chead>\u003Ctitle>`.\n\nScreen readers and search engines will have a better understanding of your page.\n\n```html\n\u003C!DOCTYPE html>\n\u003Chtml lang=\"en\">\n  \u003Chead>\n    ...\n  \u003C/head>\n  \u003Cbody>\n    \u003Ca href=\"#content\">Skip to content\u003C/a>\n    \u003Cheader role=\"banner\">...\u003C/header>\n    \u003Cmain tabindex=\"-1\" id=\"content\">\n      \u003Carticle>\n        \u003Ch1>PAGE TITLE\u003C/h1>\n        ... REST OF CONTENT ...\n      \u003C/article>\n    \u003C/main>\n    \u003Cfooter>...\u003C/footer>\n  \u003C/body>\n\u003C/html>\n```\n\nIf the page has multiple articles, for example, a collection of the latest news or\nlatest posts, you can use multiple `\u003Carticle>` elements.\n\n### Aside\n\nSometimes we need to provide content that is indirectly related to the main content like:\n\n- Similar/related/popular/recommended articles\n- Call-out or pitch boxes\n- Sidebars\n- Tables of content\n\nIn this case we use the `\u003Caside>` element.\n\n```html\n\u003C!DOCTYPE html>\n\u003Chtml lang=\"en\">\n  \u003Chead>\n  \t...\n  \u003C/head>\n  \u003Cbody>\n    \u003Ca href=\"#content\">Skip to content\u003C/a>\n    \u003Cheader role=\"banner\">\n      ...\n    \u003C/header>\n    \u003Cmain tabindex=\"-1\" id=\"content\">\n     ...\n    \u003C/main>\n    \u003Caside>\n      \u003Ch2>You might also like\u003Ch2>\n      \u003Cul>\n        \u003Cli>\n          \u003Ca href=\"/intersting-article\">Interesting article\u003C/a>\n        \u003C/li>\n        \u003Cli>\n          \u003Ca href=\"/must-read-article\">Must read article\u003C/a>\n        \u003C/li>\n      \u003C/ul>\n    \u003C/aside>\n    \u003Cfooter>\n      ...\n    \u003C/footer>\n  \u003C/body>\n\u003C/html>\n```\n\nYou can have multiple `\u003Caside>` elements on a page. For example, you can have an\naside to the main content and an aside to a section of the content, no problem.\n\n## Final words on landmarks\n\n`\u003Cmain>`, `\u003Cheader>`, `\u003Cfooter>`, `\u003Cnav>`, `\u003Carticle>` and `\u003Caside>` have meaning,\nthey have a role on the page and you should use them.\n\nBut this doesn't mean you shouldn't sprinkle some `\u003Cdiv>` and `\u003Cspa>` here and there\nto help you build the layout you need.\n\n## Resources\n\n- [HTML5 Sectioning Elements](https://www.w3.org/TR/2017/NOTE-wai-aria-practices-1.1-20171214/examples/landmarks/HTML5.html)\n- [The practical value of semantic HTML](https://www.brucelawson.co.uk/2018/the-practical-value-of-semantic-html/)","src/content/html-basics-part-one/index.md","8fe34e73c04756b5",{"html":661,"metadata":662},"\u003Cp>Looks to me that many web developers, especially “full-stack web developers,” are\nnot sure what is the correct HTML for a webpage and use divs and spans instead\nof other, more semantically meaningful tags.\u003C/p>\n\u003Cp>The HTML output of your website it’s way more important than the tooling you’ve used to create that output. User experience is more important than developer experience.\u003C/p>\n\u003Cp>Sadly many of us web developers care more about the JavaScript framework we’re using, we’re studying CSS tricks, but never about the HTML. Many of us don’t even think\nabout HTML as programming.\u003C/p>\n\u003Cp>Let’s learn how to use some HTML.\u003C/p>\n\u003Ch2 id=\"too-long-didnt-read\">Too long; didn’t read\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#too-long-didnt-read\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cpre class=\"language-html\" data-language=\"html\">\u003Ccode is:raw=\"\" class=\"language-html\">\u003Cspan class=\"token doctype\">\u003Cspan class=\"token punctuation\">&#x3C;!\u003C/span>\u003Cspan class=\"token doctype-tag\">DOCTYPE\u003C/span> \u003Cspan class=\"token name\">html\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>html\u003C/span> \u003Cspan class=\"token attr-name\">lang\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>en\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n  \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>head\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n  \t\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>title\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>PAGE TITLE\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>title\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n  \t\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>meta\u003C/span> \u003Cspan class=\"token attr-name\">name\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>description\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token attr-name\">content\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>WHAT IS THIS PAGE ABOUT\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token punctuation\">/>\u003C/span>\u003C/span>\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>meta\u003C/span> \u003Cspan class=\"token attr-name\">charset\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>UTF-8\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token punctuation\">/>\u003C/span>\u003C/span>\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>meta\u003C/span> \u003Cspan class=\"token attr-name\">name\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>viewport\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token attr-name\">content\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>width=device-width, initial-scale=1.0\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token punctuation\">/>\u003C/span>\u003C/span>\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>meta\u003C/span> \u003Cspan class=\"token attr-name\">http-equiv\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>X-UA-Compatible\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token attr-name\">content\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>ie=edge\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token punctuation\">/>\u003C/span>\u003C/span>\n  \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>head\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n  \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>body\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>a\u003C/span> \u003Cspan class=\"token attr-name\">href\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>#content\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>Skip to content\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>a\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>header\u003C/span> \u003Cspan class=\"token attr-name\">role\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>banner\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n        \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>a\u003C/span> \u003Cspan class=\"token attr-name\">href\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>/\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token attr-name\">aria-label\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>Home\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n          \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>svg\u003C/span> \u003Cspan class=\"token attr-name\">aria-hidden\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>true\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token attr-name\">focusable\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>false\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>...\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>svg\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n        \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>a\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n        \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>nav\u003C/span> \u003Cspan class=\"token attr-name\">aria-label\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>primary\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n          \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>ul\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n            \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>li\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>a\u003C/span> \u003Cspan class=\"token attr-name\">href\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>/\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>Home\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>a\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>li\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n            \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>li\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>a\u003C/span> \u003Cspan class=\"token attr-name\">href\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>/about\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>About\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>a\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>li\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n            OTHER LINKS\n          \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>ul\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n        \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>nav\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>header\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>main\u003C/span> \u003Cspan class=\"token attr-name\">tabindex\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>-1\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token attr-name\">id\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>content\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n      \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>article\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n        \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>h1\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>PAGE TITLE\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>h1\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n        ...\n        REST OF CONTENT\n        ...\n      \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>article\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>main\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>aside\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n      \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>h2\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>You might also like\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>h2\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n      \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>ul\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n        \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>li\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n          \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>a\u003C/span> \u003Cspan class=\"token attr-name\">href\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>/intersting-article\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>Interesting article\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>a\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n        \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>li\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n        \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>li\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n          \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>a\u003C/span> \u003Cspan class=\"token attr-name\">href\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>/must-read-article\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>Must read article\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>a\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n        \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>li\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n      \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>ul\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>aside\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>footer\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n      \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>nav\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n        \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>ul\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n          \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>li\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n            \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>a\u003C/span> \u003Cspan class=\"token attr-name\">href\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>https://twitter.com/my_twitter_name\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\n            \u003Cspan class=\"token attr-name\">target\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>_blank\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token attr-name\">rel\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>noreferrer\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>Twitter\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>a\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n          \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>li\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n          \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>li\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n            \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>a\u003C/span> \u003Cspan class=\"token attr-name\">href\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>https://github.com/my_github_name\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\n            \u003Cspan class=\"token attr-name\">target\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>_blank\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token attr-name\">rel\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>noreferrer\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>Github\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>a\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n          \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>li\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n        \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>ul\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n      \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>nav\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n      \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>span\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\u003Cspan class=\"token entity named-entity\" title=\"©\">&#x26;copy;\u003C/span> 2021 All rights reserved.\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>span\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>footer\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n\n  \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>body\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>html\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Ch2 id=\"html-head-and-body\">HTML, head, and body\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#html-head-and-body\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>All webpages should have the following bare minimum HTML:\u003C/p>\n\u003Cpre class=\"language-html\" data-language=\"html\">\u003Ccode is:raw=\"\" class=\"language-html\">\u003Cspan class=\"token doctype\">\u003Cspan class=\"token punctuation\">&#x3C;!\u003C/span>\u003Cspan class=\"token doctype-tag\">DOCTYPE\u003C/span> \u003Cspan class=\"token name\">html\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>html\u003C/span> \u003Cspan class=\"token attr-name\">lang\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>en\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n  \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>head\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>title\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>PAGE TITLE\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>title\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>meta\u003C/span> \u003Cspan class=\"token attr-name\">name\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>description\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token attr-name\">content\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>WHAT IS THIS PAGE ABOUT\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token punctuation\">/>\u003C/span>\u003C/span>\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>meta\u003C/span> \u003Cspan class=\"token attr-name\">charset\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>UTF-8\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token punctuation\">/>\u003C/span>\u003C/span>\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>meta\u003C/span> \u003Cspan class=\"token attr-name\">name\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>viewport\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token attr-name\">content\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>width=device-width, initial-scale=1.0\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token punctuation\">/>\u003C/span>\u003C/span>\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>meta\u003C/span> \u003Cspan class=\"token attr-name\">http-equiv\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>X-UA-Compatible\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token attr-name\">content\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>ie=edge\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token punctuation\">/>\u003C/span>\u003C/span>\n  \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>head\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n  \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>body\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>body\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>html\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>Let’s see why we need each part:\u003C/p>\n\u003Ch3 id=\"doctype-tag\">DOCTYPE tag\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#doctype-tag\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cpre class=\"language-html\" data-language=\"html\">\u003Ccode is:raw=\"\" class=\"language-html\">\u003Cspan class=\"token doctype\">\u003Cspan class=\"token punctuation\">&#x3C;!\u003C/span>\u003Cspan class=\"token doctype-tag\">DOCTYPE\u003C/span> \u003Cspan class=\"token name\">html\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>In the past, when different browsers were following different standards, there were\nmultiple doctypes, and based on it, the browsers rendered the same page in different\nways. These days, we only need to use \u003Ccode>&#x3C;!DOCTYPE html>\u003C/code> to make browsers follow standards.\u003C/p>\n\u003Cp>This line must always be the first in the document.\u003C/p>\n\u003Cp>\u003Cem>HTML is very forgiving, and will work even if you don’t add this, but:\u003C/em>\nSome browsers might surprisingly render the webpage and you will have no idea why.\u003C/p>\n\u003Ch3 id=\"html-tag\">html tag\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#html-tag\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cpre class=\"language-html\" data-language=\"html\">\u003Ccode is:raw=\"\" class=\"language-html\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>html\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>html\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>The HTML\u003Ccode>&#x3C;html>\u003C/code> element represents the root of an HTML document. There can be only one html in a page.\nAll other elements must be descendants of this element.\u003C/p>\n\u003Cp>One important attribute you want to set on the html element is “lang” to indicate\nthe language used on the page. Usually, the browsers can detect the language, if\nyou don’t have content in different languages on the same page. Still, to avoid\nsurprises you should set the “lang” attribute.\u003C/p>\n\u003Cp>\u003Cem>HTML is very forgiving, and will work even if you don’t add this, but:\u003C/em>\nBrowsers will have to guess where the html tag should be and could lead to\ndifferent results in some browsers.\u003C/p>\n\u003Ch3 id=\"head-tag\">head tag\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#head-tag\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cpre class=\"language-html\" data-language=\"html\">\u003Ccode is:raw=\"\" class=\"language-html\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>head\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span> \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>head\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>The HTML \u003Ccode>&#x3C;head>\u003C/code> element contains machine-readable information (metadata) about the webpage.\nThe information in the head is not used by humans but by browsers and search engines.\nThere can be only one head in a page.\u003C/p>\n\u003Cp>You can set many things in the head but what is important is:\u003C/p>\n\u003Cul>\n\u003Cli>\u003Ccode>&#x3C;title>PAGE TITLE&#x3C;/title>\u003C/code> : the name of your webpage like the news article title, the page purpose (e.g. About, Contact), etc.\nIt is displayed along with the site logo inside the browser tab that shows your site.\nThis is indexed by search engines and appears in search results. You want to be very careful with titles.\u003C/li>\n\u003Cli>\u003Ccode>&#x3C;meta name=\"description\" content=\"WHAT IS THIS PAGE ABOUT\"/>\u003C/code> : usually the title is not enough and you need to provide a description. For example, the\ntitle is the name of your fancy startup, in the description you need to say what is your startup about.\nBesides the title, the description also appears in the search results so provide a helpful description.\u003C/li>\n\u003Cli>\u003Ccode>&#x3C;meta charset=\"UTF-8\" />\u003C/code> : you should specify the character encoding of the content of your\nwebpage. UTF-8 is a safe bet. If you use only ANSII characters on your website it’s ok to not set it\nbut to be future-proof set it to UTF-8.\u003C/li>\n\u003Cli>\u003Ccode>&#x3C;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\u003C/code> : the problem is that\non the small mobile screens you can’t read the content of the website and the smartphone tries all\nkind of tricks to make that better. If you want to have control and stop smartphones\nzoom like crazy, add the above metadata. You’ll also need some CSS to make that better, but this\nmetadata is the first step.\u003C/li>\n\u003Cli>\u003Ccode>&#x3C;meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\" />\u003C/code> : allows us to choose what version\nof Internet Explorer the page should be rendered with. It’s a legacy meta. Hopefully, soon nobody\nwill use Internet Explorer, but till then, this metadata is very useful.\u003C/li>\n\u003C/ul>\n\u003Cp>\u003Cem>HTML is very forgiving, and will work even if you don’t add this, but:\u003C/em>\u003C/p>\n\u003Cul>\n\u003Cli>Search engines will not know the name of your website\u003C/li>\n\u003Cli>Browsers might use different content encodings, so your content can look\nstrange in some.\u003C/li>\n\u003Cli>Mobile browsers will zoom and resize your webpage in weird ways.\u003C/li>\n\u003C/ul>\n\u003Ch3 id=\"body-tag\">body tag\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#body-tag\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cpre class=\"language-html\" data-language=\"html\">\u003Ccode is:raw=\"\" class=\"language-html\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>body\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>body\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>The HTML \u003Ccode>&#x3C;body>\u003C/code> element represents the content of an HTML document. There can be only one body in a page.\nAll visible content goes here.\u003C/p>\n\u003Ch2 id=\"page-landmarks\">Page landmarks\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#page-landmarks\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>If you think about it, most of the web pages have several parts:\u003C/p>\n\u003Cul>\n\u003Cli>header with logo or site name\u003C/li>\n\u003Cli>several links to navigate through main website pages\u003C/li>\n\u003Cli>the main content of the page\u003C/li>\n\u003Cli>a footer with small prints, copyright, links to related websites, and so on.\nAnd guess what, users expect these parts to be there. These parts are called page landmarks.\u003C/li>\n\u003C/ul>\n\u003Ch3 id=\"main-content\">Main content\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#main-content\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cp>Maybe some websites don’t have all of the above, but for sure they have\nsome content. To indicate what is the content we use \u003Ccode>&#x3C;main>\u003C/code>:\u003C/p>\n\u003Cpre class=\"language-html\" data-language=\"html\">\u003Ccode is:raw=\"\" class=\"language-html\">\u003Cspan class=\"token doctype\">\u003Cspan class=\"token punctuation\">&#x3C;!\u003C/span>\u003Cspan class=\"token doctype-tag\">DOCTYPE\u003C/span> \u003Cspan class=\"token name\">html\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>html\u003C/span> \u003Cspan class=\"token attr-name\">lang\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>en\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n  \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>head\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n    ...\n  \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>head\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n  \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>body\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>main\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>CONTENT GOES HERE\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>main\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n  \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>body\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>html\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>If you also have a header and navigation it’s a good practice to provide a “Skip to\ncontent” link. This link can be used by screen readers to skip the navigation and\njump straight to content:\u003C/p>\n\u003Cpre class=\"language-html\" data-language=\"html\">\u003Ccode is:raw=\"\" class=\"language-html\">\u003Cspan class=\"token doctype\">\u003Cspan class=\"token punctuation\">&#x3C;!\u003C/span>\u003Cspan class=\"token doctype-tag\">DOCTYPE\u003C/span> \u003Cspan class=\"token name\">html\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>html\u003C/span> \u003Cspan class=\"token attr-name\">lang\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>en\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n  \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>head\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n    ...\n  \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>head\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n  \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>body\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>a\u003C/span> \u003Cspan class=\"token attr-name\">href\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>#content\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>Skip to content\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>a\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>main\u003C/span> \u003Cspan class=\"token attr-name\">tabindex\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>-1\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token attr-name\">id\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>content\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>CONTENT GOES HERE\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>main\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n  \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>body\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>html\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>We add an “id” to \u003Ccode>&#x3C;main>\u003C/code> to allow it to be programmatically focused.\nWhen someone clicks the “Skip to content” link, the \u003Ccode>&#x3C;main>\u003C/code> element will get the focus.\nThat’s why we also set a “tabindex” with value \u003Ccode>-1\u003C/code> to send focus to the next focusable element inside \u003Ccode>&#x3C;main>\u003C/code>\u003C/p>\n\u003Cp>Also, note that a webpage must have a single \u003Ccode>&#x3C;main>\u003C/code> element.\u003C/p>\n\u003Ch3 id=\"the-header\">The header\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#the-header\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cp>It’s the place where we put the website logo and the links to other pages (navigation).\nUsually, the header is displayed on every page.\u003C/p>\n\u003Cpre class=\"language-html\" data-language=\"html\">\u003Ccode is:raw=\"\" class=\"language-html\">\u003Cspan class=\"token doctype\">\u003Cspan class=\"token punctuation\">&#x3C;!\u003C/span>\u003Cspan class=\"token doctype-tag\">DOCTYPE\u003C/span> \u003Cspan class=\"token name\">html\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>html\u003C/span> \u003Cspan class=\"token attr-name\">lang\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>en\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n  \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>head\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n    ...\n  \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>head\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n  \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>body\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>a\u003C/span> \u003Cspan class=\"token attr-name\">href\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>#content\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>Skip to content\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>a\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>header\u003C/span> \u003Cspan class=\"token attr-name\">role\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>banner\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n      \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>a\u003C/span> \u003Cspan class=\"token attr-name\">href\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>/\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token attr-name\">aria-label\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>Home\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n        \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>svg\u003C/span> \u003Cspan class=\"token attr-name\">aria-hidden\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>true\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token attr-name\">focusable\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>false\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>...\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>svg\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n      \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>a\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n      \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>nav\u003C/span> \u003Cspan class=\"token attr-name\">aria-label\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>primary\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n        \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>ul\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n          \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>li\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>a\u003C/span> \u003Cspan class=\"token attr-name\">href\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>/\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>Home\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>a\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>li\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n          \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>li\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>a\u003C/span> \u003Cspan class=\"token attr-name\">href\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>/about\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>About\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>a\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>li\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n          OTHER LINKS\n        \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>ul\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n      \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>nav\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>header\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>main\u003C/span> \u003Cspan class=\"token attr-name\">tabindex\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>-1\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token attr-name\">id\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>content\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>CONTENT GOES HERE\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>main\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n  \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>body\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>html\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cul>\n\u003Cli>The header goes between “Skip to content” and \u003Ccode>&#x3C;main>\u003C/code>, the purpose of “Skip to content”\nis exactly to skip the header.\u003C/li>\n\u003Cli>The webpage \u003Ccode>header\u003C/code> should have the “banner” role to make it clear for screen readers\nabout its purpose. You can have other headers, those should not have banner role.\u003C/li>\n\u003Cli>The \u003Ccode>&#x3C;nav>\u003C/code> element is the website’s main navigation. It’s a good practice to set\n“aria-label” to “primary” or “main” to it. This way we can have multiple \u003Ccode>&#x3C;nav>\u003C/code>,\nbut the others will have different values for “aria-label”, so it will be clear the purpose of\neach one.\u003C/li>\n\u003Cli>For the links inside \u003Ccode>&#x3C;nav>\u003C/code> we use an unordered list, a \u003Ccode>&#x3C;ul>\u003C/code>, as we do in general\nfor any collection of items.\u003C/li>\n\u003Cli>The logo is an SVG file, a drawing that cannot be read by screen readers.\nSo we use \u003Ccode>&#x3C;svg aria-hidden=\"true\" focusable=\"false\">\u003C/code> to hide it from them.\u003C/li>\n\u003C/ul>\n\u003Ch3 id=\"the-footer\">The footer\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#the-footer\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cp>We use the \u003Ccode>&#x3C;footer>\u003C/code> element to create the website footer.\nNormally, the footer contains some links and copyright texts.\u003C/p>\n\u003Cpre class=\"language-html\" data-language=\"html\">\u003Ccode is:raw=\"\" class=\"language-html\">\u003Cspan class=\"token doctype\">\u003Cspan class=\"token punctuation\">&#x3C;!\u003C/span>\u003Cspan class=\"token doctype-tag\">DOCTYPE\u003C/span> \u003Cspan class=\"token name\">html\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>html\u003C/span> \u003Cspan class=\"token attr-name\">lang\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>en\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n  \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>head\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n    ...\n  \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>head\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n  \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>body\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>a\u003C/span> \u003Cspan class=\"token attr-name\">href\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>#content\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>Skip to content\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>a\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>header\u003C/span> \u003Cspan class=\"token attr-name\">role\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>banner\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>...\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>header\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>main\u003C/span> \u003Cspan class=\"token attr-name\">tabindex\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>-1\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token attr-name\">id\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>content\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>CONTENT GOES HERE\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>main\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>footer\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n      \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>nav\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n        \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>ul\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n          \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>li\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n            \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>a\u003C/span>\n              \u003Cspan class=\"token attr-name\">href\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>https://twitter.com/my_twitter_name\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\n              \u003Cspan class=\"token attr-name\">target\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>_blank\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\n              \u003Cspan class=\"token attr-name\">rel\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>noreferrer\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\n              \u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>Twitter\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>a\u003C/span>\n            \u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n          \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>li\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n          \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>li\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n            \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>a\u003C/span>\n              \u003Cspan class=\"token attr-name\">href\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>https://github.com/my_github_name\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\n              \u003Cspan class=\"token attr-name\">target\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>_blank\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\n              \u003Cspan class=\"token attr-name\">rel\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>noreferrer\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\n              \u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>Github\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>a\u003C/span>\n            \u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n          \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>li\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n        \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>ul\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n      \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>nav\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n      \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>span\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\u003Cspan class=\"token entity named-entity\" title=\"©\">&#x26;copy;\u003C/span> 2021 All rights reserved.\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>span\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>footer\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n  \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>body\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>html\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Ch3 id=\"the-article\">The article\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#the-article\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cp>If the page is a piece of writing about something like a blog post or a news piece,\na product page, a person, and so on, you should add the content inside a \u003Ccode>&#x3C;article>\u003C/code>.\nAnd inside the \u003Ccode>&#x3C;article>\u003C/code> add an \u003Ccode>&#x3C;h1>\u003C/code> with the page title, the same used in \u003Ccode>&#x3C;head>&#x3C;title>\u003C/code>.\u003C/p>\n\u003Cp>Screen readers and search engines will have a better understanding of your page.\u003C/p>\n\u003Cpre class=\"language-html\" data-language=\"html\">\u003Ccode is:raw=\"\" class=\"language-html\">\u003Cspan class=\"token doctype\">\u003Cspan class=\"token punctuation\">&#x3C;!\u003C/span>\u003Cspan class=\"token doctype-tag\">DOCTYPE\u003C/span> \u003Cspan class=\"token name\">html\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>html\u003C/span> \u003Cspan class=\"token attr-name\">lang\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>en\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n  \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>head\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n    ...\n  \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>head\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n  \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>body\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>a\u003C/span> \u003Cspan class=\"token attr-name\">href\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>#content\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>Skip to content\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>a\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>header\u003C/span> \u003Cspan class=\"token attr-name\">role\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>banner\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>...\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>header\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>main\u003C/span> \u003Cspan class=\"token attr-name\">tabindex\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>-1\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token attr-name\">id\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>content\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n      \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>article\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n        \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>h1\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>PAGE TITLE\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>h1\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n        ... REST OF CONTENT ...\n      \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>article\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>main\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>footer\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>...\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>footer\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n  \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>body\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>html\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>If the page has multiple articles, for example, a collection of the latest news or\nlatest posts, you can use multiple \u003Ccode>&#x3C;article>\u003C/code> elements.\u003C/p>\n\u003Ch3 id=\"aside\">Aside\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#aside\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cp>Sometimes we need to provide content that is indirectly related to the main content like:\u003C/p>\n\u003Cul>\n\u003Cli>Similar/related/popular/recommended articles\u003C/li>\n\u003Cli>Call-out or pitch boxes\u003C/li>\n\u003Cli>Sidebars\u003C/li>\n\u003Cli>Tables of content\u003C/li>\n\u003C/ul>\n\u003Cp>In this case we use the \u003Ccode>&#x3C;aside>\u003C/code> element.\u003C/p>\n\u003Cpre class=\"language-html\" data-language=\"html\">\u003Ccode is:raw=\"\" class=\"language-html\">\u003Cspan class=\"token doctype\">\u003Cspan class=\"token punctuation\">&#x3C;!\u003C/span>\u003Cspan class=\"token doctype-tag\">DOCTYPE\u003C/span> \u003Cspan class=\"token name\">html\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>html\u003C/span> \u003Cspan class=\"token attr-name\">lang\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>en\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n  \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>head\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n  \t...\n  \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>head\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n  \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>body\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>a\u003C/span> \u003Cspan class=\"token attr-name\">href\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>#content\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>Skip to content\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>a\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>header\u003C/span> \u003Cspan class=\"token attr-name\">role\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>banner\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n      ...\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>header\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>main\u003C/span> \u003Cspan class=\"token attr-name\">tabindex\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>-1\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token attr-name\">id\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>content\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n     ...\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>main\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>aside\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n      \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>h2\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>You might also like\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>h2\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n      \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>ul\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n        \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>li\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n          \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>a\u003C/span> \u003Cspan class=\"token attr-name\">href\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>/intersting-article\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>Interesting article\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>a\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n        \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>li\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n        \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>li\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n          \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>a\u003C/span> \u003Cspan class=\"token attr-name\">href\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>/must-read-article\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>Must read article\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>a\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n        \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>li\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n      \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>ul\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>aside\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>footer\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n      ...\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>footer\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n  \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>body\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>html\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>You can have multiple \u003Ccode>&#x3C;aside>\u003C/code> elements on a page. For example, you can have an\naside to the main content and an aside to a section of the content, no problem.\u003C/p>\n\u003Ch2 id=\"final-words-on-landmarks\">Final words on landmarks\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#final-words-on-landmarks\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>\u003Ccode>&#x3C;main>\u003C/code>, \u003Ccode>&#x3C;header>\u003C/code>, \u003Ccode>&#x3C;footer>\u003C/code>, \u003Ccode>&#x3C;nav>\u003C/code>, \u003Ccode>&#x3C;article>\u003C/code> and \u003Ccode>&#x3C;aside>\u003C/code> have meaning,\nthey have a role on the page and you should use them.\u003C/p>\n\u003Cp>But this doesn’t mean you shouldn’t sprinkle some \u003Ccode>&#x3C;div>\u003C/code> and \u003Ccode>&#x3C;spa>\u003C/code> here and there\nto help you build the layout you need.\u003C/p>\n\u003Ch2 id=\"resources\">Resources\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#resources\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cul>\n\u003Cli>\u003Ca href=\"https://www.w3.org/TR/2017/NOTE-wai-aria-practices-1.1-20171214/examples/landmarks/HTML5.html\">HTML5 Sectioning Elements\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"https://www.brucelawson.co.uk/2018/the-practical-value-of-semantic-html/\">The practical value of semantic HTML\u003C/a>\u003C/li>\n\u003C/ul>",{"headings":663,"imagePaths":704,"frontmatter":649},[664,667,670,673,676,679,682,685,688,691,694,697,700,703],{"depth":51,"slug":665,"text":666},"too-long-didnt-read","Too long; didn’t read",{"depth":51,"slug":668,"text":669},"html-head-and-body","HTML, head, and body",{"depth":88,"slug":671,"text":672},"doctype-tag","DOCTYPE tag",{"depth":88,"slug":674,"text":675},"html-tag","html tag",{"depth":88,"slug":677,"text":678},"head-tag","head tag",{"depth":88,"slug":680,"text":681},"body-tag","body tag",{"depth":51,"slug":683,"text":684},"page-landmarks","Page landmarks",{"depth":88,"slug":686,"text":687},"main-content","Main content",{"depth":88,"slug":689,"text":690},"the-header","The header",{"depth":88,"slug":692,"text":693},"the-footer","The footer",{"depth":88,"slug":695,"text":696},"the-article","The article",{"depth":88,"slug":698,"text":699},"aside","Aside",{"depth":51,"slug":701,"text":702},"final-words-on-landmarks","Final words on landmarks",{"depth":51,"slug":98,"text":99},[],"javascript-part-five",["Map",7,707],{"id":7,"data":708,"body":715,"filePath":716,"digest":717,"rendered":718,"legacyId":64},{"title":709,"pubDate":710,"description":711,"keywords":712,"twitterImage":713,"minutesRead":655,"excerpt":714},"Let's Learn JavaScript - Data types","2022-1-12","Data types in JavaScript. What is a value and a type. What is immutable and what is not.",[14],"https://www.raresportan.com/twitter-cards/let's-learn-javascript---data-types.png","The purpose of any program is to transform data. Any program needs data. In JavaScript, when we talk about the program’s data we talk about ","The purpose of any program is to transform data. Any program needs data. In JavaScript, when we talk about the program's data we talk about _values_:\n\n```js\n42;\n(\"Deep Thought\");\ntrue;\n{\n}\n[];\nundefined;\nnull;\n```\n\nUsing values like this is perfectly fine, but we don't have their meaning (values like these are called _magic values_ because nobody knows why they are what they are, they just work like magic).\n\nTo solve this problem we can bind values to names so we can reference them and understand their purpose and meaning:\n\n```js\nconst answer = 42;\nconst superComputerName = \"Deep Thought\";\nlet isThisTheAnswer = true;\nconst emptyness = {};\nconst empty = [];\nlet bookName = undefined;\nlet author = null;\n```\n\nOne thing you can notice in both examples is that we don't say what is the _type_ of a value.\nSo what does this mean? Do the values have no type? The type is implied by value? It doesn't matter?\n\nWe'll answer all these questions.\n\n## Every value has a type\n\nData can have different roles or meanings, can be of different types. A value is a piece of data of a specific type.\nValues are things that are. Types are things that could be.\n\n```js\n42; // type number\n(\"Deep Thought\"); // type string\ntrue; // type boolean\n{\n} // type Object\n[]; // type Object (should be Array)\nundefined; // type undefined\nnull; // type null\n```\n\nTo find the type of a value, we use the built-in `typeof` operator:\n\n```js\ntypeof 42; // \"number\"\ntypeof \"Deep Thought\"; // \"string\"\ntypeof true; // \"boolean\"\ntypeof {}; // \"object\"\ntypeof []; // \"object\" (should be \"array\")\ntypeof undefined; // \"undefined\"\ntypeof null; // \"object\" (should be \"null\")\n```\n\nThe operator always returns a string value! For example, it returns the \"number\" string for numbers.\n\nSadly `typeof` operator has some bugs and returns the wrong value for some of the types:\n\n- for array, it returns \"object\" instead of \"array\"\n- for null it returns \"object\" instead of \"null\"\n\n_These bugs are from the early days of JavaScript and cannot be fixed because some part of the Internet relies on them. All new versions of JavaScript are perfectly compatible with old ones, old code will never break when JavaScript changes._\n\nWhat about bindings? Can we find the type of the bound value? Yes, `typeof` operator works with bindings also:\n\n```js\nconst answer = 42;\ntypeof answer; // \"number\"\n\nconst superComputerName = \"Deep Thought\";\ntypeof superComputerName; // \"string\"\n\nlet isThisTheAnswer = true;\ntypeof isThisTheAnswer; // \"boolean\"\n\nconst emptyness = {};\ntypeof emptyness; // \"object\"\n\nconst empty = [];\ntypeof empty; // \"object\"\n\nlet bookName = undefined;\ntypeof bookName; // \"undefined\"\n\nlet author = null;\ntypeof author; // \"object\"\n```\n\nWhat if we just declare a binding without a value?\n\n```js\nlet x;\ntypeof x;\n```\n\nThe type of `x` is undefined. Try it out!\n_Everything that is not initialized by you, is initialized by JavaScript with `undefined`._\n\n## Primitive values and objects\n\nJavaScript types can be primitive types or objects.\n\n_The big difference is that the primitive type values are immutable, they cannot be changed_\n\nIf you have the value `1` there is no way to change it to value `2`. If you have the value `\"Hello\"` you can't change it to `\"Hey\"`. No way.\n\nYou can use bindings to change the bound value, but that doesn't mean you change the value `1` into value `2`, it means you bind `2` where `1` was bound:\n\n```js\nlet x = 1; // x is bound to 1\nx = 2; // x is bound to 2\n```\n\nWhat happens to `1`? It is _garbage collected_, removed from memory, wiped.\n\nSame with strings, you can't change `\"Hey\"` to `\"Hello\"`, only bind a new value:\n\n```js\nlet greeting = \"Hey\";\ngreeting = \"Hello\"; // you can only bind another value\n\nconst firstname = \"Jon\";\nconst surname = \"Snow\";\nconst name = firstname + \" \" + surname;\n```\n\nStrings have methods, will see that in a bit, but all those methods return new strings, they don't change the string they are called on:\n\n```js\nconst name = \"Jon Snow\";\nname.toUpperCase();\nconsole.log(\"Name:\", name); // still \"Jon Snow\"\n\n// you need to get the new string\nconst upper = name.toUpperCase();\nconsole.log(\"NAME:\", upper); // JON SNOW\n```\n\nOn the other hand, objects are mutable, their \"content\" can be changed:\n\n```js\n// a person object with a \"name\" property\nconst person = {\n  name: \"Jon Snow\",\n};\nconsole.log(person);\n\nperson.name = \"JON SNOW\";\nconsole.log(person);\n```\n\nProgramming with immutable values and mutable values are two different development paradigms.\nBoth have advantages and issues. While there are programming languages that only work with immutable values by design, most\nhave immutable primitives and objects, just like JavaScript.\n\nWorking with immutable values means creating new values all the time you need a new value. Working with mutable values means changing an existing value.\n\nFrom my experience, using immutable values (and pure functions) as much as possible improves the resilience and understanding of the program. But the downside is you create a lot of values.\nWorking with mutable objects has the big downside that you don't know what piece of code changed the objects, especially in a multithread environment this is a nightmare.\n\n## Numbers\n\nJavaScript has two types for all the numbers, integers, floating-point numbers, etc.:\n\n- Number - 64-bit floating-point doubles\n- BigInt - double-precision floating-point approximation of the integer values\n\nSpecial numbers are `NaN` (Not a Number), `Infinity` and `-Infinity`.\n`Number.MAX_SAFE_INTEGER` ( 2\u003Csup>53 - 1\u003C/sup> ) and `Number.MIN_SAFE_INTEGER` -(2\u003Csup>53 - 1\u003C/sup>),\n`Number.MAX_VALUE` (1.79E+308, or 2\u003Csup>1024\u003C/sup>) and `Number.MIN_VALUE` (5E-324), are the Number limits.\n\nIf you need numbers over that limit you need to use BigInts. Note that BigInt is a new addition to the language and it doesn't work in older browsers.\n\n```js\nconst n = 1;\nconst half = 0.5;\nconst solarSystemAge = 4.568e9;\n\n// Problems with precision, don't use this for money calculations\nconst dollars = 0.1 + 0.2;\nconsole.log(\"Dollars:\", dollars);  // 0.30000000000000004\n\n// Numbers have some methods even if they are primitives\nconsole.log(\"Dollars with precision:\", dollars.toPrecision(1));\n\n// You cannot use methods on literal numbers but you cand do this:\n// 7.toString // throws error\n7.0.toString();\n(7).toString();\n7..toString();\n7 .toString();\n\n// Transform string to numbers\nconst minutes = parseInt(\"08\");\nconsole.log(\"Minutes:\", minutes); // 0 NOT 8 in some browsers!\n\nconst hours = parseInt(\"08\", 10); // always set radix\nconsole.log(\"Hours:\", hours);\n\n// Another way to convert strings to numbers using Number function\n// (Yes, it's a function not a class even if it starts with capital N)\nconst seconds = Number(\"08\");\nconsole.log(\"Seconds:\", seconds);\n\n// And yet another way\nconst millis = +'123';\nconsole.log(\"Millis:\", millis);\n\n// To create BigInts, you need to add 'n' after the number;\nconst bigInt = 2n ** 53n + 1n;\nconsole.log(\"Type of bigInt\", typeof bigInt);\nconsole.log(\"bigInt\", bigInt);\n\n// Binary\nlet five = 0b101\nconsole.log(five);\n\n// Hex\nlet red = 0xFF0000\nconsole.log(red);\n\n// Working with Infinity\nconsole.log(\"0 \u003C Infinity:\", 0 \u003C Infinity) // 0 \u003C Infinity: true\nconsole.log(\"-Infinity \u003C 0:\", -Infinity \u003C 0) -Infinity \u003C 0: true\n\nconsole.log(\"typeof Infinity:\", typeof Infinity) // typeof Infinity: number\nconsole.log(\"typeof -Infinity:\", typeof -Infinity) // typeof -Infinity: number\n\n```\n\nBasic operations:\n\n```js\nlet sum = 1 + 2;\n\nlet diff = 2 - 1;\n\nlet product = 2 * 3;\n\nlet quotient = 6 / 2;\n\nlet pow = 2 ** 10;\n\nlet isLower = 3 > 2;\n\nlet reminder = 13 % 5;\n\n// we also got assignment versions of most of the operators\nsum += 3; // same as: sum = sum + 3;\n\ndiff -= 10; // same as: diff = diff - 10;\n\nproduct *= 3; // same as: product = product * 3;\n\nquotient /= 2; // same as: quotient = quotient /2;\n\npow **= 10; // same as: pow = pow ** 10;\n\nreminder %= 5; // same as: reminder = reminder % 5;\n```\n\nWe can also do bitwise operators.\n\nNot a number, `NaN` is a very very special number. Yes, NaN _is a number_ and is called _not a number_. You get NaN when you try to get a number\nfrom something that can't be a number. NaN is supposed to denote the result of a nonsensical computation.\n\n```js\n// When strings cannot be converted to numbers you get NaN\nconst time = Number(\"01:02:08.123\");\nconsole.log(\"Time:\", time); // Time: NaN\n\n// NaN is supposed to denote the result of a nonsensical computation,\n// so it isn’t equal to the result of any other nonsensical computations.\nconsole.log(\"Nan === NaN?\", NaN === NaN); // Nan === NaN? false\n\n// Check if the value is not a number\nconst isNotANumber = isNaN(\"abc\");\nconsole.log(\"abc is not a number:\", isNotANumber); // abc is not a number: true\n\nconsole.log(\"typeof NaN:\", typeof NaN); // typeof NaN: number  ¯\\_(ツ)_/¯\n```\n\nAnother small weirdness is the number `-0`. I'll mention it just so you're aware of it.\n\n```js\nlet zero = 0; // 0\nlet plus0 = +0; // 0\nlet minus0 = -0; // -0\n\n// The difference matters in some cases:\n1 / 0; // Infinity\n1 / -0; // -Infinity\n\nMath.atan2(0, 0); // 0\nMath.atan2(0, -0); // PI\n```\n\n`Math` object provides mathematical operations that work with numbers, here are some of them:\n\n```js\nMath.random(); // Random number between 0 and 1\nMath.PI\nMath.abs(x) // Absolute value\nMath.ceil(x) // Smallest integer greater than or equal to x.\nMath.cos(x) // Cosine of x\nMath.floor(x) // Largest integer less than or equal to x\nMath.max([x[, y[, …]]]) // Largest of zero or more numbers.\nMath.min([x[, y[, …]]]) // Smallest of zero or more numbers.\nMath.random() // Pseudo-random number between 0 and 1\nMath.round(x) // x rounded to the nearest integer\nMath.sin(x) // Sine of x\nMath.sqrt(x) // Positive square root of x\nMath.trunc(x) // Integer part of x, removing any fractional digits.\n```\n\n## Summary\n\n- Every value has a type\n- Some times produce immutable values, some not\n- Working with numbers is relatively easy, but there are some gotchas.\n\n### Previously on \"Let's Learn JavaScript\"\n\n- [How JavaScript compares to other programming languages](/javascript-part-one) and the mindset you need to learn JavaScript\n- [\"Hello, World!\"](/javascript-part-two) in JavaScript\n- JavaScript [values and bindings](/javascript-part-three)\n- How to [name things](/javascript-part-four) in JavaScript","src/content/javascript-part-five/index.md","70c654dbbd8c247b",{"html":719,"metadata":720},"\u003Cp>The purpose of any program is to transform data. Any program needs data. In JavaScript, when we talk about the program’s data we talk about \u003Cem>values\u003C/em>:\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token number\">42\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"Deep Thought\"\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token boolean\">true\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token punctuation\">{\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\n\u003Cspan class=\"token punctuation\">[\u003C/span>\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token keyword\">undefined\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token keyword\">null\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>Using values like this is perfectly fine, but we don’t have their meaning (values like these are called \u003Cem>magic values\u003C/em> because nobody knows why they are what they are, they just work like magic).\u003C/p>\n\u003Cp>To solve this problem we can bind values to names so we can reference them and understand their purpose and meaning:\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token keyword\">const\u003C/span> answer \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token number\">42\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> superComputerName \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token string\">\"Deep Thought\"\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token keyword\">let\u003C/span> isThisTheAnswer \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token boolean\">true\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> emptyness \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> empty \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token keyword\">let\u003C/span> bookName \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token keyword\">undefined\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token keyword\">let\u003C/span> author \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token keyword\">null\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>One thing you can notice in both examples is that we don’t say what is the \u003Cem>type\u003C/em> of a value.\nSo what does this mean? Do the values have no type? The type is implied by value? It doesn’t matter?\u003C/p>\n\u003Cp>We’ll answer all these questions.\u003C/p>\n\u003Ch2 id=\"every-value-has-a-type\">Every value has a type\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#every-value-has-a-type\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>Data can have different roles or meanings, can be of different types. A value is a piece of data of a specific type.\nValues are things that are. Types are things that could be.\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token number\">42\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token comment\">// type number\u003C/span>\n\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"Deep Thought\"\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token comment\">// type string\u003C/span>\n\u003Cspan class=\"token boolean\">true\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token comment\">// type boolean\u003C/span>\n\u003Cspan class=\"token punctuation\">{\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span> \u003Cspan class=\"token comment\">// type Object\u003C/span>\n\u003Cspan class=\"token punctuation\">[\u003C/span>\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token comment\">// type Object (should be Array)\u003C/span>\n\u003Cspan class=\"token keyword\">undefined\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token comment\">// type undefined\u003C/span>\n\u003Cspan class=\"token keyword\">null\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token comment\">// type null\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>To find the type of a value, we use the built-in \u003Ccode>typeof\u003C/code> operator:\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token keyword\">typeof\u003C/span> \u003Cspan class=\"token number\">42\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token comment\">// \"number\"\u003C/span>\n\u003Cspan class=\"token keyword\">typeof\u003C/span> \u003Cspan class=\"token string\">\"Deep Thought\"\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token comment\">// \"string\"\u003C/span>\n\u003Cspan class=\"token keyword\">typeof\u003C/span> \u003Cspan class=\"token boolean\">true\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token comment\">// \"boolean\"\u003C/span>\n\u003Cspan class=\"token keyword\">typeof\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token comment\">// \"object\"\u003C/span>\n\u003Cspan class=\"token keyword\">typeof\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token comment\">// \"object\" (should be \"array\")\u003C/span>\n\u003Cspan class=\"token keyword\">typeof\u003C/span> \u003Cspan class=\"token keyword\">undefined\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token comment\">// \"undefined\"\u003C/span>\n\u003Cspan class=\"token keyword\">typeof\u003C/span> \u003Cspan class=\"token keyword\">null\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token comment\">// \"object\" (should be \"null\")\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>The operator always returns a string value! For example, it returns the “number” string for numbers.\u003C/p>\n\u003Cp>Sadly \u003Ccode>typeof\u003C/code> operator has some bugs and returns the wrong value for some of the types:\u003C/p>\n\u003Cul>\n\u003Cli>for array, it returns “object” instead of “array”\u003C/li>\n\u003Cli>for null it returns “object” instead of “null”\u003C/li>\n\u003C/ul>\n\u003Cp>\u003Cem>These bugs are from the early days of JavaScript and cannot be fixed because some part of the Internet relies on them. All new versions of JavaScript are perfectly compatible with old ones, old code will never break when JavaScript changes.\u003C/em>\u003C/p>\n\u003Cp>What about bindings? Can we find the type of the bound value? Yes, \u003Ccode>typeof\u003C/code> operator works with bindings also:\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token keyword\">const\u003C/span> answer \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token number\">42\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token keyword\">typeof\u003C/span> answer\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token comment\">// \"number\"\u003C/span>\n\n\u003Cspan class=\"token keyword\">const\u003C/span> superComputerName \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token string\">\"Deep Thought\"\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token keyword\">typeof\u003C/span> superComputerName\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token comment\">// \"string\"\u003C/span>\n\n\u003Cspan class=\"token keyword\">let\u003C/span> isThisTheAnswer \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token boolean\">true\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token keyword\">typeof\u003C/span> isThisTheAnswer\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token comment\">// \"boolean\"\u003C/span>\n\n\u003Cspan class=\"token keyword\">const\u003C/span> emptyness \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token keyword\">typeof\u003C/span> emptyness\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token comment\">// \"object\"\u003C/span>\n\n\u003Cspan class=\"token keyword\">const\u003C/span> empty \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token keyword\">typeof\u003C/span> empty\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token comment\">// \"object\"\u003C/span>\n\n\u003Cspan class=\"token keyword\">let\u003C/span> bookName \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token keyword\">undefined\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token keyword\">typeof\u003C/span> bookName\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token comment\">// \"undefined\"\u003C/span>\n\n\u003Cspan class=\"token keyword\">let\u003C/span> author \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token keyword\">null\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token keyword\">typeof\u003C/span> author\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token comment\">// \"object\"\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>What if we just declare a binding without a value?\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token keyword\">let\u003C/span> x\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token keyword\">typeof\u003C/span> x\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>The type of \u003Ccode>x\u003C/code> is undefined. Try it out!\n\u003Cem>Everything that is not initialized by you, is initialized by JavaScript with \u003Ccode>undefined\u003C/code>.\u003C/em>\u003C/p>\n\u003Ch2 id=\"primitive-values-and-objects\">Primitive values and objects\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#primitive-values-and-objects\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>JavaScript types can be primitive types or objects.\u003C/p>\n\u003Cp>\u003Cem>The big difference is that the primitive type values are immutable, they cannot be changed\u003C/em>\u003C/p>\n\u003Cp>If you have the value \u003Ccode>1\u003C/code> there is no way to change it to value \u003Ccode>2\u003C/code>. If you have the value \u003Ccode>\"Hello\"\u003C/code> you can’t change it to \u003Ccode>\"Hey\"\u003C/code>. No way.\u003C/p>\n\u003Cp>You can use bindings to change the bound value, but that doesn’t mean you change the value \u003Ccode>1\u003C/code> into value \u003Ccode>2\u003C/code>, it means you bind \u003Ccode>2\u003C/code> where \u003Ccode>1\u003C/code> was bound:\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token keyword\">let\u003C/span> x \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token number\">1\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token comment\">// x is bound to 1\u003C/span>\nx \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token number\">2\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token comment\">// x is bound to 2\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>What happens to \u003Ccode>1\u003C/code>? It is \u003Cem>garbage collected\u003C/em>, removed from memory, wiped.\u003C/p>\n\u003Cp>Same with strings, you can’t change \u003Ccode>\"Hey\"\u003C/code> to \u003Ccode>\"Hello\"\u003C/code>, only bind a new value:\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token keyword\">let\u003C/span> greeting \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token string\">\"Hey\"\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\ngreeting \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token string\">\"Hello\"\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token comment\">// you can only bind another value\u003C/span>\n\n\u003Cspan class=\"token keyword\">const\u003C/span> firstname \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token string\">\"Jon\"\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> surname \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token string\">\"Snow\"\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> name \u003Cspan class=\"token operator\">=\u003C/span> firstname \u003Cspan class=\"token operator\">+\u003C/span> \u003Cspan class=\"token string\">\" \"\u003C/span> \u003Cspan class=\"token operator\">+\u003C/span> surname\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>Strings have methods, will see that in a bit, but all those methods return new strings, they don’t change the string they are called on:\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token keyword\">const\u003C/span> name \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token string\">\"Jon Snow\"\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\nname\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">toUpperCase\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\nconsole\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">log\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"Name:\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> name\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token comment\">// still \"Jon Snow\"\u003C/span>\n\n\u003Cspan class=\"token comment\">// you need to get the new string\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> upper \u003Cspan class=\"token operator\">=\u003C/span> name\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">toUpperCase\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\nconsole\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">log\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"NAME:\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> upper\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token comment\">// JON SNOW\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>On the other hand, objects are mutable, their “content” can be changed:\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token comment\">// a person object with a \"name\" property\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> person \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n  \u003Cspan class=\"token literal-property property\">name\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token string\">\"Jon Snow\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\nconsole\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">log\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>person\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\nperson\u003Cspan class=\"token punctuation\">.\u003C/span>name \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token string\">\"JON SNOW\"\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\nconsole\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">log\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>person\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>Programming with immutable values and mutable values are two different development paradigms.\nBoth have advantages and issues. While there are programming languages that only work with immutable values by design, most\nhave immutable primitives and objects, just like JavaScript.\u003C/p>\n\u003Cp>Working with immutable values means creating new values all the time you need a new value. Working with mutable values means changing an existing value.\u003C/p>\n\u003Cp>From my experience, using immutable values (and pure functions) as much as possible improves the resilience and understanding of the program. But the downside is you create a lot of values.\nWorking with mutable objects has the big downside that you don’t know what piece of code changed the objects, especially in a multithread environment this is a nightmare.\u003C/p>\n\u003Ch2 id=\"numbers\">Numbers\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#numbers\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>JavaScript has two types for all the numbers, integers, floating-point numbers, etc.:\u003C/p>\n\u003Cul>\n\u003Cli>Number - 64-bit floating-point doubles\u003C/li>\n\u003Cli>BigInt - double-precision floating-point approximation of the integer values\u003C/li>\n\u003C/ul>\n\u003Cp>Special numbers are \u003Ccode>NaN\u003C/code> (Not a Number), \u003Ccode>Infinity\u003C/code> and \u003Ccode>-Infinity\u003C/code>.\n\u003Ccode>Number.MAX_SAFE_INTEGER\u003C/code> ( 2\u003Csup>53 - 1\u003C/sup> ) and \u003Ccode>Number.MIN_SAFE_INTEGER\u003C/code> -(2\u003Csup>53 - 1\u003C/sup>),\n\u003Ccode>Number.MAX_VALUE\u003C/code> (1.79E+308, or 2\u003Csup>1024\u003C/sup>) and \u003Ccode>Number.MIN_VALUE\u003C/code> (5E-324), are the Number limits.\u003C/p>\n\u003Cp>If you need numbers over that limit you need to use BigInts. Note that BigInt is a new addition to the language and it doesn’t work in older browsers.\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token keyword\">const\u003C/span> n \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token number\">1\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> half \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token number\">0.5\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> solarSystemAge \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token number\">4.568e9\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token comment\">// Problems with precision, don't use this for money calculations\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> dollars \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token number\">0.1\u003C/span> \u003Cspan class=\"token operator\">+\u003C/span> \u003Cspan class=\"token number\">0.2\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\nconsole\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">log\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"Dollars:\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> dollars\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>  \u003Cspan class=\"token comment\">// 0.30000000000000004\u003C/span>\n\n\u003Cspan class=\"token comment\">// Numbers have some methods even if they are primitives\u003C/span>\nconsole\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">log\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"Dollars with precision:\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> dollars\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">toPrecision\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token number\">1\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token comment\">// You cannot use methods on literal numbers but you cand do this:\u003C/span>\n\u003Cspan class=\"token comment\">// 7.toString // throws error\u003C/span>\n\u003Cspan class=\"token number\">7.0\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">toString\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token number\">7\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">toString\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token number\">7.\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">toString\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token number\">7\u003C/span> \u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">toString\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token comment\">// Transform string to numbers\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> minutes \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token function\">parseInt\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"08\"\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\nconsole\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">log\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"Minutes:\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> minutes\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token comment\">// 0 NOT 8 in some browsers!\u003C/span>\n\n\u003Cspan class=\"token keyword\">const\u003C/span> hours \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token function\">parseInt\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"08\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token number\">10\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token comment\">// always set radix\u003C/span>\nconsole\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">log\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"Hours:\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> hours\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token comment\">// Another way to convert strings to numbers using Number function\u003C/span>\n\u003Cspan class=\"token comment\">// (Yes, it's a function not a class even if it starts with capital N)\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> seconds \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token function\">Number\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"08\"\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\nconsole\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">log\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"Seconds:\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> seconds\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token comment\">// And yet another way\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> millis \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token operator\">+\u003C/span>\u003Cspan class=\"token string\">'123'\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\nconsole\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">log\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"Millis:\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> millis\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token comment\">// To create BigInts, you need to add 'n' after the number;\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> bigInt \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token number\">2n\u003C/span> \u003Cspan class=\"token operator\">**\u003C/span> \u003Cspan class=\"token number\">53n\u003C/span> \u003Cspan class=\"token operator\">+\u003C/span> \u003Cspan class=\"token number\">1n\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\nconsole\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">log\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"Type of bigInt\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token keyword\">typeof\u003C/span> bigInt\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\nconsole\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">log\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"bigInt\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> bigInt\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token comment\">// Binary\u003C/span>\n\u003Cspan class=\"token keyword\">let\u003C/span> five \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token number\">0b101\u003C/span>\nconsole\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">log\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>five\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token comment\">// Hex\u003C/span>\n\u003Cspan class=\"token keyword\">let\u003C/span> red \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token number\">0xFF0000\u003C/span>\nconsole\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">log\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>red\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token comment\">// Working with Infinity\u003C/span>\nconsole\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">log\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"0 &#x3C; Infinity:\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token number\">0\u003C/span> \u003Cspan class=\"token operator\">&#x3C;\u003C/span> \u003Cspan class=\"token number\">Infinity\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token comment\">// 0 &#x3C; Infinity: true\u003C/span>\nconsole\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">log\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"-Infinity &#x3C; 0:\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token operator\">-\u003C/span>\u003Cspan class=\"token number\">Infinity\u003C/span> \u003Cspan class=\"token operator\">&#x3C;\u003C/span> \u003Cspan class=\"token number\">0\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">-\u003C/span>\u003Cspan class=\"token number\">Infinity\u003C/span> \u003Cspan class=\"token operator\">&#x3C;\u003C/span> \u003Cspan class=\"token number\">0\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token boolean\">true\u003C/span>\n\nconsole\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">log\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"typeof Infinity:\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token keyword\">typeof\u003C/span> \u003Cspan class=\"token number\">Infinity\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token comment\">// typeof Infinity: number\u003C/span>\nconsole\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">log\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"typeof -Infinity:\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token keyword\">typeof\u003C/span> \u003Cspan class=\"token operator\">-\u003C/span>\u003Cspan class=\"token number\">Infinity\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token comment\">// typeof -Infinity: number\u003C/span>\n\n\u003C/code>\u003C/pre>\n\u003Cp>Basic operations:\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token keyword\">let\u003C/span> sum \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token number\">1\u003C/span> \u003Cspan class=\"token operator\">+\u003C/span> \u003Cspan class=\"token number\">2\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token keyword\">let\u003C/span> diff \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token number\">2\u003C/span> \u003Cspan class=\"token operator\">-\u003C/span> \u003Cspan class=\"token number\">1\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token keyword\">let\u003C/span> product \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token number\">2\u003C/span> \u003Cspan class=\"token operator\">*\u003C/span> \u003Cspan class=\"token number\">3\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token keyword\">let\u003C/span> quotient \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token number\">6\u003C/span> \u003Cspan class=\"token operator\">/\u003C/span> \u003Cspan class=\"token number\">2\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token keyword\">let\u003C/span> pow \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token number\">2\u003C/span> \u003Cspan class=\"token operator\">**\u003C/span> \u003Cspan class=\"token number\">10\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token keyword\">let\u003C/span> isLower \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token number\">3\u003C/span> \u003Cspan class=\"token operator\">>\u003C/span> \u003Cspan class=\"token number\">2\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token keyword\">let\u003C/span> reminder \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token number\">13\u003C/span> \u003Cspan class=\"token operator\">%\u003C/span> \u003Cspan class=\"token number\">5\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token comment\">// we also got assignment versions of most of the operators\u003C/span>\nsum \u003Cspan class=\"token operator\">+=\u003C/span> \u003Cspan class=\"token number\">3\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token comment\">// same as: sum = sum + 3;\u003C/span>\n\ndiff \u003Cspan class=\"token operator\">-=\u003C/span> \u003Cspan class=\"token number\">10\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token comment\">// same as: diff = diff - 10;\u003C/span>\n\nproduct \u003Cspan class=\"token operator\">*=\u003C/span> \u003Cspan class=\"token number\">3\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token comment\">// same as: product = product * 3;\u003C/span>\n\nquotient \u003Cspan class=\"token operator\">/=\u003C/span> \u003Cspan class=\"token number\">2\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token comment\">// same as: quotient = quotient /2;\u003C/span>\n\npow \u003Cspan class=\"token operator\">**=\u003C/span> \u003Cspan class=\"token number\">10\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token comment\">// same as: pow = pow ** 10;\u003C/span>\n\nreminder \u003Cspan class=\"token operator\">%=\u003C/span> \u003Cspan class=\"token number\">5\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token comment\">// same as: reminder = reminder % 5;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>We can also do bitwise operators.\u003C/p>\n\u003Cp>Not a number, \u003Ccode>NaN\u003C/code> is a very very special number. Yes, NaN \u003Cem>is a number\u003C/em> and is called \u003Cem>not a number\u003C/em>. You get NaN when you try to get a number\nfrom something that can’t be a number. NaN is supposed to denote the result of a nonsensical computation.\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token comment\">// When strings cannot be converted to numbers you get NaN\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> time \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token function\">Number\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"01:02:08.123\"\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\nconsole\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">log\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"Time:\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> time\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token comment\">// Time: NaN\u003C/span>\n\n\u003Cspan class=\"token comment\">// NaN is supposed to denote the result of a nonsensical computation,\u003C/span>\n\u003Cspan class=\"token comment\">// so it isn’t equal to the result of any other nonsensical computations.\u003C/span>\nconsole\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">log\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"Nan === NaN?\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token number\">NaN\u003C/span> \u003Cspan class=\"token operator\">===\u003C/span> \u003Cspan class=\"token number\">NaN\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token comment\">// Nan === NaN? false\u003C/span>\n\n\u003Cspan class=\"token comment\">// Check if the value is not a number\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> isNotANumber \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token function\">isNaN\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"abc\"\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\nconsole\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">log\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"abc is not a number:\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> isNotANumber\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token comment\">// abc is not a number: true\u003C/span>\n\nconsole\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">log\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"typeof NaN:\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token keyword\">typeof\u003C/span> \u003Cspan class=\"token number\">NaN\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token comment\">// typeof NaN: number  ¯\\_(ツ)_/¯\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>Another small weirdness is the number \u003Ccode>-0\u003C/code>. I’ll mention it just so you’re aware of it.\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token keyword\">let\u003C/span> zero \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token number\">0\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token comment\">// 0\u003C/span>\n\u003Cspan class=\"token keyword\">let\u003C/span> plus0 \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token operator\">+\u003C/span>\u003Cspan class=\"token number\">0\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token comment\">// 0\u003C/span>\n\u003Cspan class=\"token keyword\">let\u003C/span> minus0 \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token operator\">-\u003C/span>\u003Cspan class=\"token number\">0\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token comment\">// -0\u003C/span>\n\n\u003Cspan class=\"token comment\">// The difference matters in some cases:\u003C/span>\n\u003Cspan class=\"token number\">1\u003C/span> \u003Cspan class=\"token operator\">/\u003C/span> \u003Cspan class=\"token number\">0\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token comment\">// Infinity\u003C/span>\n\u003Cspan class=\"token number\">1\u003C/span> \u003Cspan class=\"token operator\">/\u003C/span> \u003Cspan class=\"token operator\">-\u003C/span>\u003Cspan class=\"token number\">0\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token comment\">// -Infinity\u003C/span>\n\nMath\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">atan2\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token number\">0\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token number\">0\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token comment\">// 0\u003C/span>\nMath\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">atan2\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token number\">0\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token operator\">-\u003C/span>\u003Cspan class=\"token number\">0\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token comment\">// PI\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>\u003Ccode>Math\u003C/code> object provides mathematical operations that work with numbers, here are some of them:\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">Math\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">random\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token comment\">// Random number between 0 and 1\u003C/span>\nMath\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token constant\">PI\u003C/span>\nMath\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">abs\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>x\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token comment\">// Absolute value\u003C/span>\nMath\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">ceil\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>x\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token comment\">// Smallest integer greater than or equal to x.\u003C/span>\nMath\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">cos\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>x\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token comment\">// Cosine of x\u003C/span>\nMath\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">floor\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>x\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token comment\">// Largest integer less than or equal to x\u003C/span>\nMath\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">max\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">[\u003C/span>x\u003Cspan class=\"token punctuation\">[\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> y\u003Cspan class=\"token punctuation\">[\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> …\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token comment\">// Largest of zero or more numbers.\u003C/span>\nMath\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">min\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">[\u003C/span>x\u003Cspan class=\"token punctuation\">[\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> y\u003Cspan class=\"token punctuation\">[\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> …\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token comment\">// Smallest of zero or more numbers.\u003C/span>\nMath\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">random\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token comment\">// Pseudo-random number between 0 and 1\u003C/span>\nMath\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">round\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>x\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token comment\">// x rounded to the nearest integer\u003C/span>\nMath\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">sin\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>x\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token comment\">// Sine of x\u003C/span>\nMath\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">sqrt\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>x\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token comment\">// Positive square root of x\u003C/span>\nMath\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">trunc\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>x\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token comment\">// Integer part of x, removing any fractional digits.\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Ch2 id=\"summary\">Summary\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#summary\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cul>\n\u003Cli>Every value has a type\u003C/li>\n\u003Cli>Some times produce immutable values, some not\u003C/li>\n\u003Cli>Working with numbers is relatively easy, but there are some gotchas.\u003C/li>\n\u003C/ul>\n\u003Ch3 id=\"previously-on-lets-learn-javascript\">Previously on “Let’s Learn JavaScript”\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#previously-on-lets-learn-javascript\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cul>\n\u003Cli>\u003Ca href=\"/javascript-part-one\">How JavaScript compares to other programming languages\u003C/a> and the mindset you need to learn JavaScript\u003C/li>\n\u003Cli>\u003Ca href=\"/javascript-part-two\">“Hello, World!”\u003C/a> in JavaScript\u003C/li>\n\u003Cli>JavaScript \u003Ca href=\"/javascript-part-three\">values and bindings\u003C/a>\u003C/li>\n\u003Cli>How to \u003Ca href=\"/javascript-part-four\">name things\u003C/a> in JavaScript\u003C/li>\n\u003C/ul>",{"headings":721,"imagePaths":737,"frontmatter":708},[722,725,728,731,734],{"depth":51,"slug":723,"text":724},"every-value-has-a-type","Every value has a type",{"depth":51,"slug":726,"text":727},"primitive-values-and-objects","Primitive values and objects",{"depth":51,"slug":729,"text":730},"numbers","Numbers",{"depth":51,"slug":732,"text":733},"summary","Summary",{"depth":88,"slug":735,"text":736},"previously-on-lets-learn-javascript","Previously on “Let’s Learn JavaScript”",[],"javascript-part-six",["Map",7,740],{"id":7,"data":741,"body":748,"filePath":749,"digest":750,"rendered":751,"legacyId":64},{"title":742,"pubDate":743,"description":744,"keywords":745,"twitterImage":746,"minutesRead":194,"excerpt":747},"Let's Learn JavaScript - Strings","2022-1-31","A very important primitive data type is the String. Strings are composed of one or more characters and are used to keep words and texts. Mastering them is a must.",[14],"https://www.raresportan.com/twitter-cards/let's-learn-javascript---strings.png","Another important primitive data type is the String. Strings are composed of one or more characters and are used to keep words and texts.\nIn","Another important primitive data type is the String. Strings are composed of one or more characters and are used to keep words and texts.\nIn JavaScript there is no char type for characters, we can work with a string's individual characters, but each character is considered a one-letter string.\n\nLike any other primitive data type, strings are immutable, each time you need a new string you have to create a new one instead of modifying an existing one.\n\n## How to create strings\n\nWe have several ways to create strings, the most common are the following:\n\n```js\n// using double quotes (\" \")\nconst name = \"Jon Doe\";\nconsole.log(typeof name); // string\n\n// using single quotes (' ')\nconst color = \"blue\";\nconsole.log(typeof color); // string\n\n// using back-ticks (` `)\nconst poem = `\n    Roses are red\n    Violets are blue\n    Unexpected } on line 32\n`;\nconsole.log(typeof poem); // string\n```\n\nThere is no difference between the first two ways, but the back-ticks version allows us to create multi-line strings and also allows parameter interpolation.\n\nIf you need to use the chars used to create strings inside the string content you have two options:\n\n- Escape the chars inside\n\n```js\nconst name = 'Jon \"The Legendary\" Doe';\n```\n\n- Use different quotes\n\n```js\nconst name = 'Jon \"The Legendary\" Doe';\n```\n\nOther useful ways to create strings:\n\n```js\n// combine several strings into one using the + operator\nconst abc = \"a\" + \"b\" + \"c\";\nconsole.log(abc); // abc\n\n// use + with numbers and strings and get strings back\nconst stringFromNumber = 1 + \"\";\nconsole.log(stringFromNumber); // 1\n\n// transform primitives to string using String function\nconst stringFromSomething = String(123);\n\n// numbers to string\n(10).toString();\nMath.PI.toPrecision(3); // 3.14\n```\n\n## Methods\n\nStrings have lots of useful methods, all of them return new values, none of them modifies the string itself. As said, strings are immutable.\nHere are some of the available methods:\n\n- length\n- indexOf\n- substring\n- toLowerCase & toUpperCase\n- replace\n- repeat\n\n```js\nconst fix = \"Have you tried turning it off and on again?\";\n\n// length\nconsole.log(fix.length); // how many chars are in the string\n\n// indexOf\nconst indexOfOff = fix.indexOf(\"off\");\nconsole.log(\"index of off\", indexOfOff); // position of 'off', starts from 0\n\n// substring\nconst substring = fix.substring(4);\nconsole.log(\"substring\", substring); // create a new string from a part of the original string\n\n// toUpperCase\nconsole.log(fix.toUpperCase()); // HAVE YOU TRIED TURNING IT OFF AND ON AGAIN?\n\n// replace\nconst replacements = fix.replace(\"on again\", \"go home\"); // Have you tried turning it off and go home?\n\n// repeat\nconst chorus = \"Because I'm happy.\\n\";\nconsole.log(chorus.repeat(3));\n// Because I'm happy.\n// Because I'm happy.\n// Because I'm happy.\n```\n\n## Parameter interpolation\n\nStrings enclosed by the back-tick are called template literals. Template literals allow string interpolation:\n\n```js\nconst lang = \"Java\";\nconst interpolated = ` \n    - Honey, I can't open the jar!\n    - You need to download ${lang}!`;\n\nconsole.log(interpolated);\n// - Honey, I can't open the jar!\n// - You need to download Java!`\n```\n\n## How to get a character from a string\n\nTo get a specific character from a string we need to provide the character position in the string (0 is the position of the first character):\n\n```js\nconst opinion = \"yikes\";\n\n// access a char\nconst firstChar = opinion[0];\nconsole.log(firstChar); // y\nconst lastChar = opinion[opinion.length - 1];\nconsole.log(lastChar); // s\n\n// we get undefined if the position is out of limits\nconst charOverLimit = opinion[10];\nconsole.log(charOverLimit); // undefined\n```\n\n## How to compare strings\n\nTo check if two strings are equal we use the === operator and use \u003C and > to find which one is bigger.\n\n```js\nconst s1 = \"Hello\";\nconst s2 = \"HELLO\";\n\nconsole.log(\"Equal?\", s1 === s2);\nconsole.log(\"First is bigger\", s1 > s2); // true\nconsole.log(\"Second is bigger\", s1 \u003C s2); // false\n```\n\nThe comparison works by comparing the number associated with each character. You may have heard about the ASCII table, where a numeric \"code\" is assigned to each character. Well, the ASCII table contains just a small set of characters. To represent a lot more characters, UNICODE was born.\nSometimes comparison doesn't work as expected, especially if you use some non-English characters like `ß` or `ü`. If that's the case you need to use comparison by location:\n\n```js\nconst s1 = \"Hello\";\nconst s2 = \"HELLO\";\n\nconsole.log(s1.localeCompare(s2));\n```\n\n## String length\n\nWhen we're using normal characters all is good, the `length` returns what we expect. But when we start to add emojis or Asian characters `length` is not working as expected:\n\n```js\nconst s1 = \"Hello\";\nconsole.log(s1.length); // 4\n\nconst s2 = \"🏳️‍🌈\";\nconsole.log(s2.length); // 6!!!\n```\n\nEmojis are special, what you see on the screen is not what is actually coded in the value. For instance the pride flag 🏳️‍🌈 is a white flag 🏳 and a rainbow 🌈, mashed together with an invisible emoji that says \"hey mash these two together\".\nEach part is 2 bytes so in total there are 6 bytes = 6 characters.\n\nIf you need to interpret emojis as one char, you can use a library called [grapheme-splitter](https://github.com/orling/grapheme-splitter).\n\n## Exercises\n\nFormat a 10 digit phone number to a human-readable version: 0742552233 -> 0742.552.233 using `substring`:\n\n```js\nfunction formatPhoneNumber(phoneNumber) {\n  let result = \"\";\n  // your code here\n\n  return result;\n}\nconsole.log(formatPhoneNumber(\"0742552233\")); // 0742.552.233\n```\n\nCensor word: Given a phrase and a word, replace each word's chars with `*`, leave all other words as they are. Use `replaceAll` and `repeat`:\n\n```js\nconst censor = (phrase, word) => {\n  let result = \"\";\n  // your code here\n\n  return result;\n};\nconsole.log(censor(\"JFK was killed by KGB\", \"KGB\")); // JFK was killed by ***\nconsole.log(censor(\"JFK was killed by Mafia\", \"Mafia\")); // JFK was killed by *****\n```\n\n## Summary\n\n- Strings are an important part of JavaScript, mastering them is a must.\n- There are several ways to declare string bindings\n- Strings have a lot of useful methods\n- Strings are immutable, each time you need a new string you have to create a new one instead of modifying an existing one.\n\n### Previously on \"Let's Learn JavaScript\"\n\n- [How JavaScript compares to other programming languages](/javascript-part-one) and the mindset you need to learn JavaScript\n- [\"Hello, World!\"](/javascript-part-two) in JavaScript\n- JavaScript [values and bindings](/javascript-part-three)\n- How to [name things](/javascript-part-four) in JavaScript\n- [Data types](/javascript-part-five) in JavaScript","src/content/javascript-part-six/index.md","d495112a5c6ef93a",{"html":752,"metadata":753},"\u003Cp>Another important primitive data type is the String. Strings are composed of one or more characters and are used to keep words and texts.\nIn JavaScript there is no char type for characters, we can work with a string’s individual characters, but each character is considered a one-letter string.\u003C/p>\n\u003Cp>Like any other primitive data type, strings are immutable, each time you need a new string you have to create a new one instead of modifying an existing one.\u003C/p>\n\u003Ch2 id=\"how-to-create-strings\">How to create strings\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#how-to-create-strings\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>We have several ways to create strings, the most common are the following:\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token comment\">// using double quotes (\" \")\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> name \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token string\">\"Jon Doe\"\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\nconsole\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">log\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token keyword\">typeof\u003C/span> name\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token comment\">// string\u003C/span>\n\n\u003Cspan class=\"token comment\">// using single quotes (' ')\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> color \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token string\">\"blue\"\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\nconsole\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">log\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token keyword\">typeof\u003C/span> color\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token comment\">// string\u003C/span>\n\n\u003Cspan class=\"token comment\">// using back-ticks (` `)\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> poem \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token template-string\">\u003Cspan class=\"token template-punctuation string\">`\u003C/span>\u003Cspan class=\"token string\">\n    Roses are red\n    Violets are blue\n    Unexpected } on line 32\n\u003C/span>\u003Cspan class=\"token template-punctuation string\">`\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\nconsole\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">log\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token keyword\">typeof\u003C/span> poem\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token comment\">// string\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>There is no difference between the first two ways, but the back-ticks version allows us to create multi-line strings and also allows parameter interpolation.\u003C/p>\n\u003Cp>If you need to use the chars used to create strings inside the string content you have two options:\u003C/p>\n\u003Cul>\n\u003Cli>Escape the chars inside\u003C/li>\n\u003C/ul>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token keyword\">const\u003C/span> name \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token string\">'Jon \"The Legendary\" Doe'\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cul>\n\u003Cli>Use different quotes\u003C/li>\n\u003C/ul>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token keyword\">const\u003C/span> name \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token string\">'Jon \"The Legendary\" Doe'\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>Other useful ways to create strings:\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token comment\">// combine several strings into one using the + operator\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> abc \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token string\">\"a\"\u003C/span> \u003Cspan class=\"token operator\">+\u003C/span> \u003Cspan class=\"token string\">\"b\"\u003C/span> \u003Cspan class=\"token operator\">+\u003C/span> \u003Cspan class=\"token string\">\"c\"\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\nconsole\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">log\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>abc\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token comment\">// abc\u003C/span>\n\n\u003Cspan class=\"token comment\">// use + with numbers and strings and get strings back\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> stringFromNumber \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token number\">1\u003C/span> \u003Cspan class=\"token operator\">+\u003C/span> \u003Cspan class=\"token string\">\"\"\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\nconsole\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">log\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>stringFromNumber\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token comment\">// 1\u003C/span>\n\n\u003Cspan class=\"token comment\">// transform primitives to string using String function\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> stringFromSomething \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token function\">String\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token number\">123\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token comment\">// numbers to string\u003C/span>\n\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token number\">10\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">toString\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\nMath\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token constant\">PI\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">toPrecision\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token number\">3\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token comment\">// 3.14\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Ch2 id=\"methods\">Methods\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#methods\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>Strings have lots of useful methods, all of them return new values, none of them modifies the string itself. As said, strings are immutable.\nHere are some of the available methods:\u003C/p>\n\u003Cul>\n\u003Cli>length\u003C/li>\n\u003Cli>indexOf\u003C/li>\n\u003Cli>substring\u003C/li>\n\u003Cli>toLowerCase &#x26; toUpperCase\u003C/li>\n\u003Cli>replace\u003C/li>\n\u003Cli>repeat\u003C/li>\n\u003C/ul>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token keyword\">const\u003C/span> fix \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token string\">\"Have you tried turning it off and on again?\"\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token comment\">// length\u003C/span>\nconsole\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">log\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>fix\u003Cspan class=\"token punctuation\">.\u003C/span>length\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token comment\">// how many chars are in the string\u003C/span>\n\n\u003Cspan class=\"token comment\">// indexOf\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> indexOfOff \u003Cspan class=\"token operator\">=\u003C/span> fix\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">indexOf\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"off\"\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\nconsole\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">log\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"index of off\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> indexOfOff\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token comment\">// position of 'off', starts from 0\u003C/span>\n\n\u003Cspan class=\"token comment\">// substring\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> substring \u003Cspan class=\"token operator\">=\u003C/span> fix\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">substring\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token number\">4\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\nconsole\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">log\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"substring\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> substring\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token comment\">// create a new string from a part of the original string\u003C/span>\n\n\u003Cspan class=\"token comment\">// toUpperCase\u003C/span>\nconsole\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">log\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>fix\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">toUpperCase\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token comment\">// HAVE YOU TRIED TURNING IT OFF AND ON AGAIN?\u003C/span>\n\n\u003Cspan class=\"token comment\">// replace\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> replacements \u003Cspan class=\"token operator\">=\u003C/span> fix\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">replace\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"on again\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token string\">\"go home\"\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token comment\">// Have you tried turning it off and go home?\u003C/span>\n\n\u003Cspan class=\"token comment\">// repeat\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> chorus \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token string\">\"Because I'm happy.\\n\"\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\nconsole\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">log\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>chorus\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">repeat\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token number\">3\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token comment\">// Because I'm happy.\u003C/span>\n\u003Cspan class=\"token comment\">// Because I'm happy.\u003C/span>\n\u003Cspan class=\"token comment\">// Because I'm happy.\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Ch2 id=\"parameter-interpolation\">Parameter interpolation\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#parameter-interpolation\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>Strings enclosed by the back-tick are called template literals. Template literals allow string interpolation:\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token keyword\">const\u003C/span> lang \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token string\">\"Java\"\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> interpolated \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token template-string\">\u003Cspan class=\"token template-punctuation string\">`\u003C/span>\u003Cspan class=\"token string\"> \n    - Honey, I can't open the jar!\n    - You need to download \u003C/span>\u003Cspan class=\"token interpolation\">\u003Cspan class=\"token interpolation-punctuation punctuation\">${\u003C/span>lang\u003Cspan class=\"token interpolation-punctuation punctuation\">}\u003C/span>\u003C/span>\u003Cspan class=\"token string\">!\u003C/span>\u003Cspan class=\"token template-punctuation string\">`\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\nconsole\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">log\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>interpolated\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token comment\">// - Honey, I can't open the jar!\u003C/span>\n\u003Cspan class=\"token comment\">// - You need to download Java!`\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Ch2 id=\"how-to-get-a-character-from-a-string\">How to get a character from a string\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#how-to-get-a-character-from-a-string\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>To get a specific character from a string we need to provide the character position in the string (0 is the position of the first character):\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token keyword\">const\u003C/span> opinion \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token string\">\"yikes\"\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token comment\">// access a char\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> firstChar \u003Cspan class=\"token operator\">=\u003C/span> opinion\u003Cspan class=\"token punctuation\">[\u003C/span>\u003Cspan class=\"token number\">0\u003C/span>\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\nconsole\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">log\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>firstChar\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token comment\">// y\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> lastChar \u003Cspan class=\"token operator\">=\u003C/span> opinion\u003Cspan class=\"token punctuation\">[\u003C/span>opinion\u003Cspan class=\"token punctuation\">.\u003C/span>length \u003Cspan class=\"token operator\">-\u003C/span> \u003Cspan class=\"token number\">1\u003C/span>\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\nconsole\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">log\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>lastChar\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token comment\">// s\u003C/span>\n\n\u003Cspan class=\"token comment\">// we get undefined if the position is out of limits\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> charOverLimit \u003Cspan class=\"token operator\">=\u003C/span> opinion\u003Cspan class=\"token punctuation\">[\u003C/span>\u003Cspan class=\"token number\">10\u003C/span>\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\nconsole\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">log\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>charOverLimit\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token comment\">// undefined\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Ch2 id=\"how-to-compare-strings\">How to compare strings\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#how-to-compare-strings\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>To check if two strings are equal we use the === operator and use &#x3C; and > to find which one is bigger.\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token keyword\">const\u003C/span> s1 \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token string\">\"Hello\"\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> s2 \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token string\">\"HELLO\"\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\nconsole\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">log\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"Equal?\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> s1 \u003Cspan class=\"token operator\">===\u003C/span> s2\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\nconsole\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">log\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"First is bigger\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> s1 \u003Cspan class=\"token operator\">>\u003C/span> s2\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token comment\">// true\u003C/span>\nconsole\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">log\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"Second is bigger\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> s1 \u003Cspan class=\"token operator\">&#x3C;\u003C/span> s2\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token comment\">// false\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>The comparison works by comparing the number associated with each character. You may have heard about the ASCII table, where a numeric “code” is assigned to each character. Well, the ASCII table contains just a small set of characters. To represent a lot more characters, UNICODE was born.\nSometimes comparison doesn’t work as expected, especially if you use some non-English characters like \u003Ccode>ß\u003C/code> or \u003Ccode>ü\u003C/code>. If that’s the case you need to use comparison by location:\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token keyword\">const\u003C/span> s1 \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token string\">\"Hello\"\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> s2 \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token string\">\"HELLO\"\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\nconsole\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">log\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>s1\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">localeCompare\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>s2\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Ch2 id=\"string-length\">String length\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#string-length\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>When we’re using normal characters all is good, the \u003Ccode>length\u003C/code> returns what we expect. But when we start to add emojis or Asian characters \u003Ccode>length\u003C/code> is not working as expected:\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token keyword\">const\u003C/span> s1 \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token string\">\"Hello\"\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\nconsole\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">log\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>s1\u003Cspan class=\"token punctuation\">.\u003C/span>length\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token comment\">// 4\u003C/span>\n\n\u003Cspan class=\"token keyword\">const\u003C/span> s2 \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token string\">\"🏳️‍🌈\"\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\nconsole\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">log\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>s2\u003Cspan class=\"token punctuation\">.\u003C/span>length\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token comment\">// 6!!!\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>Emojis are special, what you see on the screen is not what is actually coded in the value. For instance the pride flag 🏳️‍🌈 is a white flag 🏳 and a rainbow 🌈, mashed together with an invisible emoji that says “hey mash these two together”.\nEach part is 2 bytes so in total there are 6 bytes = 6 characters.\u003C/p>\n\u003Cp>If you need to interpret emojis as one char, you can use a library called \u003Ca href=\"https://github.com/orling/grapheme-splitter\">grapheme-splitter\u003C/a>.\u003C/p>\n\u003Ch2 id=\"exercises\">Exercises\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#exercises\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>Format a 10 digit phone number to a human-readable version: 0742552233 -> 0742.552.233 using \u003Ccode>substring\u003C/code>:\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token keyword\">function\u003C/span> \u003Cspan class=\"token function\">formatPhoneNumber\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">phoneNumber\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n  \u003Cspan class=\"token keyword\">let\u003C/span> result \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token string\">\"\"\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n  \u003Cspan class=\"token comment\">// your code here\u003C/span>\n\n  \u003Cspan class=\"token keyword\">return\u003C/span> result\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\nconsole\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">log\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token function\">formatPhoneNumber\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"0742552233\"\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token comment\">// 0742.552.233\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>Censor word: Given a phrase and a word, replace each word’s chars with \u003Ccode>*\u003C/code>, leave all other words as they are. Use \u003Ccode>replaceAll\u003C/code> and \u003Ccode>repeat\u003C/code>:\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token keyword\">const\u003C/span> \u003Cspan class=\"token function-variable function\">censor\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">phrase\u003Cspan class=\"token punctuation\">,\u003C/span> word\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n  \u003Cspan class=\"token keyword\">let\u003C/span> result \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token string\">\"\"\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n  \u003Cspan class=\"token comment\">// your code here\u003C/span>\n\n  \u003Cspan class=\"token keyword\">return\u003C/span> result\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\nconsole\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">log\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token function\">censor\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"JFK was killed by KGB\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token string\">\"KGB\"\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token comment\">// JFK was killed by ***\u003C/span>\nconsole\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">log\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token function\">censor\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"JFK was killed by Mafia\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token string\">\"Mafia\"\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token comment\">// JFK was killed by *****\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Ch2 id=\"summary\">Summary\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#summary\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cul>\n\u003Cli>Strings are an important part of JavaScript, mastering them is a must.\u003C/li>\n\u003Cli>There are several ways to declare string bindings\u003C/li>\n\u003Cli>Strings have a lot of useful methods\u003C/li>\n\u003Cli>Strings are immutable, each time you need a new string you have to create a new one instead of modifying an existing one.\u003C/li>\n\u003C/ul>\n\u003Ch3 id=\"previously-on-lets-learn-javascript\">Previously on “Let’s Learn JavaScript”\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#previously-on-lets-learn-javascript\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cul>\n\u003Cli>\u003Ca href=\"/javascript-part-one\">How JavaScript compares to other programming languages\u003C/a> and the mindset you need to learn JavaScript\u003C/li>\n\u003Cli>\u003Ca href=\"/javascript-part-two\">“Hello, World!”\u003C/a> in JavaScript\u003C/li>\n\u003Cli>JavaScript \u003Ca href=\"/javascript-part-three\">values and bindings\u003C/a>\u003C/li>\n\u003Cli>How to \u003Ca href=\"/javascript-part-four\">name things\u003C/a> in JavaScript\u003C/li>\n\u003Cli>\u003Ca href=\"/javascript-part-five\">Data types\u003C/a> in JavaScript\u003C/li>\n\u003C/ul>",{"headings":754,"imagePaths":778,"frontmatter":741},[755,758,761,764,767,770,773,776,777],{"depth":51,"slug":756,"text":757},"how-to-create-strings","How to create strings",{"depth":51,"slug":759,"text":760},"methods","Methods",{"depth":51,"slug":762,"text":763},"parameter-interpolation","Parameter interpolation",{"depth":51,"slug":765,"text":766},"how-to-get-a-character-from-a-string","How to get a character from a string",{"depth":51,"slug":768,"text":769},"how-to-compare-strings","How to compare strings",{"depth":51,"slug":771,"text":772},"string-length","String length",{"depth":51,"slug":774,"text":775},"exercises","Exercises",{"depth":51,"slug":732,"text":733},{"depth":88,"slug":735,"text":736},[],"javascript-part-four",["Map",7,781],{"id":7,"data":782,"body":789,"filePath":790,"digest":791,"rendered":792,"legacyId":64},{"title":783,"pubDate":784,"description":785,"keywords":786,"twitterImage":787,"minutesRead":75,"excerpt":788},"Let's Learn JavaScript - Naming things","2021-12-7","How to name things in JavaScript and what names you cannot use",[14],"https://www.raresportan.com/twitter-cards/let's-learn-javascript---naming-things.png","Previously on “Let’s Learn JavaScript”:\n\nHow JavaScript compares to other programming languages and the mindset you need to learn JavaScript","Previously on \"Let's Learn JavaScript\":\n\n- [How JavaScript compares to other programming languages](/javascript-part-one) and the mindset you need to learn JavaScript\n- [\"Hello, World!\"](/javascript-part-two) in JavaScript\n- JavaScript [values and bindings](/javascript-part-three)\n\nNow it's time to see how we name things in JavaScript.\n\n## Names\n\nAll the things you create in a JavaScript program have names.\nWe have seen bindings, but there are also classes, functions, methods, members, etc. All have names.\n\nIn JavaScript, a name must start with a letter, optionally followed by one or more letters, digits, or underscore.\n$ (dollar sign) and \\_ (underscore) can be used instead of a letter as a name prefix.\n\n```js\nlet name = \"Jon Snow\";\n\n// binding that starts with a letter followed by a digit\nconst castle1 = \"Winterfell\";\n\n// binding that starts with _ followed by a digit\nconst _1stOne = \"firstOne\";\n\n// binding that starts with $ followed by a digit\nconst $2nd = \"second\";\n```\n\nSo the only constraint is that a name can't start with a digit, you will get an error if you try to do this:\n\n```js\n// This doesn't work\nconst 1st = \"first\";\nconst 2nd = \"second\";\n```\n\nBy convention, the name of all members, bindings, functions starts in lower case.\nClass names start with upper case.\n\n_camelCaseNotation_ is used for names composed from several words of all other names:\n\n```js\nconst nameOfTheGame = \"football\";\nconst isDone = false;\nconst numberOfBottles = 3;\n```\n\nJavaScript is case sensitive, this means _name_, _Name_ and _NAME_ are three different things:\n\n```js\nconst name = \"Jon\";\nconst Name = \"Snow\";\nconst NAME = \"JON\";\n```\n\nA special case is program level constants are entirely upper case and we separate words with underscores:\n\n```js\nconst DATABASE_IP = \"192.34.55.11\";\nconst LEVEL_WARNING = \"LEVEL_WARNING\";\n```\n\nIt might be hard to see the difference between a _const_ binding and a _program level constant._\n_const_ binding is a language feature, a _program level constant_ is a convention, and also it's perfectly fine to create a\nJavaScript program without any program level constants. Program level constants are things that are not changing in a program and\nare available in multiple parts of a program.\n\nFor example, if you make a Chess program, the number of squares on the board is 64 so you can use a program level constant, BOARD_SQUARES for that.\nAll Sudoku boards have 81 squares, so that's a program-level constant.\n\n## Keywords\n\nThere are some words with special meanings in JavaScript. Like _const_ or _let_. These words are reserved and we can't use them\nto name our abstractions.\n\n```js\n// This doesn't work\nconst const = \"const\";\nlet let = \"let\";\n```\n\nSome of the keywords are not used by the language but might be in future versions. New keywords may be added by newer versions of JavaScript.\n\nHere is the list of reserved words that you cannot use to name your stuff:\n\n|          |            |              |           |\n| -------- | ---------- | ------------ | --------- |\n| abstract | arguments  | await        | boolean   |\n| break    | byte       | case         | catch     |\n| char     | class      | const        | continue  |\n| debugger | default    | delete       | do        |\n| double   | else       | enum         | eval      |\n| export   | extends    | false        | final     |\n| finally  | float      | for          | function  |\n| goto     | if         | implements   | import    |\n| in       | instanceof | int          | interface |\n| let      | long       | native       | new       |\n| null     | package    | private      | protected |\n| public   | return     | short        | static    |\n| super    | switch     | synchronized | this      |\n| throw    | throws     | transient    | true      |\n| try      | typeof     | var          | void      |\n| volatile | while      | with         | yield     |\n\n## Naming things\n\nIn [10 Reasons Why You Are Not a Great Programmer](/10-reasons-why-you-are-not-a-great-programmer/) and [What Makes Good Code Good](/what-makes-good-code-good/),\nI've talked at length about what it means to write good code.\n\nGood programmers understand that they spend most of the time _reading_ code, not writing new code.\nWe write a piece of code once, but we read it many times: to fix bugs, to refactor it, to extend it, to reuse it, to use it as a base for new code.\n\nImagine that you come back to it after several weeks or months. If the code is not clear you will have a hard time understanding\nhow the code is working. If you work in a team, that piece of code you wrote a while back will be read by several people, maybe somebody else will have\nto use your code and they'll have to understand it. Will they be able to understand it? Will you be able to understand it after a while?\n\nOne of the things that make the code clear or not is the naming of the abstractions from that code.\nEverything, from the name of a binding to the name of a function or a class counts.\n\nNaming things is hard but important. Please spend time to find eloquent names for things. Future you will thank you.\n\n- Don't use one letter names\n- Don't use `foo`, `bar`, or other meaningless names\n- Don't use magic numbers, make them program level constants, attach a name to a number. For example, don't use `81`, use `BOARD_SQUARES`.\n- Don't use confusing or unexpected names, use the right name for the context. For example, don't use an `animal` for a `car`.\n- Don't name different things with the same name. For example, don't use `Header` for the site header and an article header, use `SiteHeader` and `ArticleHeader`.\n- Don't use general, ambiguous names like Manager, Service, Controller, Handler, Factory, Object, Interface, etc.\n- Don't exagerate with long names. For example, don't use `theNumberOfActiveUsersOnTheSite`, use `activeUsers`.\n\nIn practice this is hard to do, is fast and a no-brainer to use a bad name. Think a bit about it. Ask yourself if is the right one.\n\n## Summary\n\n- There are rules to name things.\n- Keywords are words with a meaning\n- Naming things is hard, so spend some time finding the most appropriate ones\n\nTime is up. Looks like we didn't get to data types, so let's do that next time.","src/content/javascript-part-four/index.md","b22fcaeb11b836e5",{"html":793,"metadata":794},"\u003Cp>Previously on “Let’s Learn JavaScript”:\u003C/p>\n\u003Cul>\n\u003Cli>\u003Ca href=\"/javascript-part-one\">How JavaScript compares to other programming languages\u003C/a> and the mindset you need to learn JavaScript\u003C/li>\n\u003Cli>\u003Ca href=\"/javascript-part-two\">“Hello, World!”\u003C/a> in JavaScript\u003C/li>\n\u003Cli>JavaScript \u003Ca href=\"/javascript-part-three\">values and bindings\u003C/a>\u003C/li>\n\u003C/ul>\n\u003Cp>Now it’s time to see how we name things in JavaScript.\u003C/p>\n\u003Ch2 id=\"names\">Names\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#names\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>All the things you create in a JavaScript program have names.\nWe have seen bindings, but there are also classes, functions, methods, members, etc. All have names.\u003C/p>\n\u003Cp>In JavaScript, a name must start with a letter, optionally followed by one or more letters, digits, or underscore.\n$ (dollar sign) and _ (underscore) can be used instead of a letter as a name prefix.\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token keyword\">let\u003C/span> name \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token string\">\"Jon Snow\"\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token comment\">// binding that starts with a letter followed by a digit\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> castle1 \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token string\">\"Winterfell\"\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token comment\">// binding that starts with _ followed by a digit\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> _1stOne \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token string\">\"firstOne\"\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token comment\">// binding that starts with $ followed by a digit\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> $2nd \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token string\">\"second\"\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>So the only constraint is that a name can’t start with a digit, you will get an error if you try to do this:\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token comment\">// This doesn't work\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> 1st \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token string\">\"first\"\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> 2nd \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token string\">\"second\"\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>By convention, the name of all members, bindings, functions starts in lower case.\nClass names start with upper case.\u003C/p>\n\u003Cp>\u003Cem>camelCaseNotation\u003C/em> is used for names composed from several words of all other names:\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token keyword\">const\u003C/span> nameOfTheGame \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token string\">\"football\"\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> isDone \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token boolean\">false\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> numberOfBottles \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token number\">3\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>JavaScript is case sensitive, this means \u003Cem>name\u003C/em>, \u003Cem>Name\u003C/em> and \u003Cem>NAME\u003C/em> are three different things:\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token keyword\">const\u003C/span> name \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token string\">\"Jon\"\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> Name \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token string\">\"Snow\"\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> \u003Cspan class=\"token constant\">NAME\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token string\">\"JON\"\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>A special case is program level constants are entirely upper case and we separate words with underscores:\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token keyword\">const\u003C/span> \u003Cspan class=\"token constant\">DATABASE_IP\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token string\">\"192.34.55.11\"\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> \u003Cspan class=\"token constant\">LEVEL_WARNING\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token string\">\"LEVEL_WARNING\"\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>It might be hard to see the difference between a \u003Cem>const\u003C/em> binding and a \u003Cem>program level constant.\u003C/em>\n\u003Cem>const\u003C/em> binding is a language feature, a \u003Cem>program level constant\u003C/em> is a convention, and also it’s perfectly fine to create a\nJavaScript program without any program level constants. Program level constants are things that are not changing in a program and\nare available in multiple parts of a program.\u003C/p>\n\u003Cp>For example, if you make a Chess program, the number of squares on the board is 64 so you can use a program level constant, BOARD_SQUARES for that.\nAll Sudoku boards have 81 squares, so that’s a program-level constant.\u003C/p>\n\u003Ch2 id=\"keywords\">Keywords\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#keywords\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>There are some words with special meanings in JavaScript. Like \u003Cem>const\u003C/em> or \u003Cem>let\u003C/em>. These words are reserved and we can’t use them\nto name our abstractions.\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token comment\">// This doesn't work\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> \u003Cspan class=\"token keyword\">const\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token string\">\"const\"\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token keyword\">let\u003C/span> \u003Cspan class=\"token keyword\">let\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token string\">\"let\"\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>Some of the keywords are not used by the language but might be in future versions. New keywords may be added by newer versions of JavaScript.\u003C/p>\n\u003Cp>Here is the list of reserved words that you cannot use to name your stuff:\u003C/p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>\u003C/th>\u003Cth>\u003C/th>\u003Cth>\u003C/th>\u003Cth>\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>abstract\u003C/td>\u003Ctd>arguments\u003C/td>\u003Ctd>await\u003C/td>\u003Ctd>boolean\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>break\u003C/td>\u003Ctd>byte\u003C/td>\u003Ctd>case\u003C/td>\u003Ctd>catch\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>char\u003C/td>\u003Ctd>class\u003C/td>\u003Ctd>const\u003C/td>\u003Ctd>continue\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>debugger\u003C/td>\u003Ctd>default\u003C/td>\u003Ctd>delete\u003C/td>\u003Ctd>do\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>double\u003C/td>\u003Ctd>else\u003C/td>\u003Ctd>enum\u003C/td>\u003Ctd>eval\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>export\u003C/td>\u003Ctd>extends\u003C/td>\u003Ctd>false\u003C/td>\u003Ctd>final\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>finally\u003C/td>\u003Ctd>float\u003C/td>\u003Ctd>for\u003C/td>\u003Ctd>function\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>goto\u003C/td>\u003Ctd>if\u003C/td>\u003Ctd>implements\u003C/td>\u003Ctd>import\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>in\u003C/td>\u003Ctd>instanceof\u003C/td>\u003Ctd>int\u003C/td>\u003Ctd>interface\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>let\u003C/td>\u003Ctd>long\u003C/td>\u003Ctd>native\u003C/td>\u003Ctd>new\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>null\u003C/td>\u003Ctd>package\u003C/td>\u003Ctd>private\u003C/td>\u003Ctd>protected\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>public\u003C/td>\u003Ctd>return\u003C/td>\u003Ctd>short\u003C/td>\u003Ctd>static\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>super\u003C/td>\u003Ctd>switch\u003C/td>\u003Ctd>synchronized\u003C/td>\u003Ctd>this\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>throw\u003C/td>\u003Ctd>throws\u003C/td>\u003Ctd>transient\u003C/td>\u003Ctd>true\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>try\u003C/td>\u003Ctd>typeof\u003C/td>\u003Ctd>var\u003C/td>\u003Ctd>void\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>volatile\u003C/td>\u003Ctd>while\u003C/td>\u003Ctd>with\u003C/td>\u003Ctd>yield\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch2 id=\"naming-things\">Naming things\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#naming-things\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>In \u003Ca href=\"/10-reasons-why-you-are-not-a-great-programmer/\">10 Reasons Why You Are Not a Great Programmer\u003C/a> and \u003Ca href=\"/what-makes-good-code-good/\">What Makes Good Code Good\u003C/a>,\nI’ve talked at length about what it means to write good code.\u003C/p>\n\u003Cp>Good programmers understand that they spend most of the time \u003Cem>reading\u003C/em> code, not writing new code.\nWe write a piece of code once, but we read it many times: to fix bugs, to refactor it, to extend it, to reuse it, to use it as a base for new code.\u003C/p>\n\u003Cp>Imagine that you come back to it after several weeks or months. If the code is not clear you will have a hard time understanding\nhow the code is working. If you work in a team, that piece of code you wrote a while back will be read by several people, maybe somebody else will have\nto use your code and they’ll have to understand it. Will they be able to understand it? Will you be able to understand it after a while?\u003C/p>\n\u003Cp>One of the things that make the code clear or not is the naming of the abstractions from that code.\nEverything, from the name of a binding to the name of a function or a class counts.\u003C/p>\n\u003Cp>Naming things is hard but important. Please spend time to find eloquent names for things. Future you will thank you.\u003C/p>\n\u003Cul>\n\u003Cli>Don’t use one letter names\u003C/li>\n\u003Cli>Don’t use \u003Ccode>foo\u003C/code>, \u003Ccode>bar\u003C/code>, or other meaningless names\u003C/li>\n\u003Cli>Don’t use magic numbers, make them program level constants, attach a name to a number. For example, don’t use \u003Ccode>81\u003C/code>, use \u003Ccode>BOARD_SQUARES\u003C/code>.\u003C/li>\n\u003Cli>Don’t use confusing or unexpected names, use the right name for the context. For example, don’t use an \u003Ccode>animal\u003C/code> for a \u003Ccode>car\u003C/code>.\u003C/li>\n\u003Cli>Don’t name different things with the same name. For example, don’t use \u003Ccode>Header\u003C/code> for the site header and an article header, use \u003Ccode>SiteHeader\u003C/code> and \u003Ccode>ArticleHeader\u003C/code>.\u003C/li>\n\u003Cli>Don’t use general, ambiguous names like Manager, Service, Controller, Handler, Factory, Object, Interface, etc.\u003C/li>\n\u003Cli>Don’t exagerate with long names. For example, don’t use \u003Ccode>theNumberOfActiveUsersOnTheSite\u003C/code>, use \u003Ccode>activeUsers\u003C/code>.\u003C/li>\n\u003C/ul>\n\u003Cp>In practice this is hard to do, is fast and a no-brainer to use a bad name. Think a bit about it. Ask yourself if is the right one.\u003C/p>\n\u003Ch2 id=\"summary\">Summary\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#summary\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cul>\n\u003Cli>There are rules to name things.\u003C/li>\n\u003Cli>Keywords are words with a meaning\u003C/li>\n\u003Cli>Naming things is hard, so spend some time finding the most appropriate ones\u003C/li>\n\u003C/ul>\n\u003Cp>Time is up. Looks like we didn’t get to data types, so let’s do that next time.\u003C/p>",{"headings":795,"imagePaths":806,"frontmatter":782},[796,799,802,805],{"depth":51,"slug":797,"text":798},"names","Names",{"depth":51,"slug":800,"text":801},"keywords","Keywords",{"depth":51,"slug":803,"text":804},"naming-things","Naming things",{"depth":51,"slug":732,"text":733},[],"javascript-part-one",["Map",7,809],{"id":7,"data":810,"body":815,"filePath":816,"digest":817,"legacyId":18,"deferredRender":19},{"title":811,"pubDate":812,"description":813,"keywords":814},"Let's Learn JavaScript - Using JavaScript",["Date","2021-10-29T00:00:00.000Z"],"One of the most used programming languages of the world, the world's most misunderstood programming language.",[14],"I really love JavaScript.\n\nI've learned and used several programming languages, like C and Java, Ruby and Elixir, even Objective-C. All of them are nice\nand powerful, but I never really loved any of them as I love JavaScript.\n\nMaybe because none of them are so surprising as JavaScript. After so many years of using JavaScript, I'm still surprised\nby something, I still hit the weirdness of the language. But strangely, instead of hating that, I like the language even more.\n\nSo I'll tell you from the start:\n\n> Learn JavaScript only if you are prepared to think differently and you have an open mind.\n\nJavaScript is the world's most misunderstood programming language.\nPartially because it's different from other languages and most people learn it after they've learned something else.\nPartially because at first JavaScript looks so deceivingly simple and similar to what people already know so _they think they know JavaScript_ even if they don't.\n\nAll programming languages have weird parts. All have good _and bad_ parts. But everybody likes to make fun only of JavaScript. Why?\n\nBecause JavaScript is one of the most used programming languages in the world.\n\nPeople using as main programming language something else are also using JavaScript as a secondary language. No other programming language is used so much as a secondary language.\n\n## The past\n\nBrendan Eich created JavaScript in 1995 while working at Netscape.\nHe implemented JavaScript in 10 days. As you can guess it was not perfect.\n\n\u003Ciframe\n  width=\"560\"\n  height=\"315\"\n  src=\"https://www.youtube.com/embed/S0ZWtsYyX8E\"\n  title=\"YouTube video player\"\n  frameborder=\"0\"\n  allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n  allowfullscreen\n>\u003C/iframe>\n\nJavaScript has (almost) nothing to do with Java:\n\n1. The similar name is a marketing gimmick rather than good judgment.\n2. Due to the same marketing reasons, he was pressed to make JavaScript\n   a bit more Java-like.\n\nAfter the JavaScript was shipped in Netscape Navigator, Microsoft reversed engineered the language, as it was at that time, with all\nthe problems. Then they added it in Internet Explorer.\n\nNetscape was horrified. They tried to maintain control by standardizing JavaScript as ECMAScript. But it was too late, Microsoft didn't let them, broken parts remained.\n\nIt would take years to fix some of them. Others will never be fixed.\n\n## The weirdness\n\nSome will say terrible things about JavaScript. Many of these things are true.\nWhen you write something in JavaScript for the first time, you can quickly despise it.\n\n\u003Ciframe\n  width=\"560\"\n  height=\"315\"\n  src=\"https://www.youtube.com/embed/3se2-thqf-A\"\n  title=\"WAT\"\n  frameborder=\"0\"\n  allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n  allowfullscreen\n>\u003C/iframe>\n\nIt will accept almost anything you typed but interpret it in a way that was completely different from what you meant.\nThis, of course, means that you don't have a clue what are you doing, but the real issue is that:\n\n> JavaScript is ridiculously liberal in what it allows.\n\nThe idea was that it would make programming in JavaScript easier for beginners. In reality, it makes finding problems harder\nbecause the system will not point them out to you. It will just try to make sense from what you tell it to do.\n\nThis flexibility also has its advantages, though.\nIt leaves space for a lot of techniques that are impossible in more rigid languages.\nAfter learning the language properly and working with it for a while, the chances are you will actually like JavaScript.\n\n## The katana\n\nThere is a meme out there that compares programming languages with weapons.\nIn that world, where Java is a panzer and C a fighter plane, JavaScript is merely a Samurai sword, a katana.\n\n> A katana can easily break in the hands of a barbarian, but it is deadly in the hands of a samurai. And so is JavaScript.\n\nJavaScript is not so powerful and can't do so much damage as others. But it is much leaner and flexible. You'll never run out of fuel or ammunition, and no one will hear you coming.\n\nIf you want to master JavaScript you'll have to become a Samurai. [You'll have to master the katana and be careful not to break it or cut yourself with it.](https://www.amazon.com/Secrets-JavaScript-Ninja-John-Resig/dp/1617292850)\n\nimport { Picture } from \"astro:assets\";\n\n\u003CPicture\n  src={import(\"./katana.jpeg\")}\n  widths={[480, 800]}\n  formats={[\"webp\"]}\n  sizes=\"(max-width: 600px) 480px, 800px\"\n  alt=\"Katana\"\n/>\n\nNow you know what to expect from JavaScript. The road ahead is dark and full of terrors.\n\nIn the next part of this tutorial, we'll start to write some code.","src/content/javascript-part-one/index.mdx","e4aae6e39f2d5353","make-your-code-testable",["Map",7,820],{"id":7,"data":821,"body":828,"filePath":829,"digest":830,"rendered":831,"legacyId":64},{"title":822,"pubDate":823,"description":824,"keywords":825,"twitterImage":826,"minutesRead":194,"excerpt":827},"Make your code testable",["Date","2021-01-06T00:00:00.000Z"],"How a code that can be easily tested is better than one that is not",[225],"https://www.raresportan.com/twitter-cards/make-your-code-testable.png","There are two types of programmers: those who like to write tests and those who hate it.\nThe hardest thing for me is always to convince one ","There are two types of programmers: those who like to write tests and those who hate it.\nThe hardest thing for me is always to convince one of those test haters to change his mind.\nThey come up with all kind of arguments:\n\n- I don’t have time man, I need to write code that is shipped to the client.\n- I checked my code manually and it works, why bother writing tests?\n- We have QA people that test the code anyway, why should I? I’m a bloody developer.\n- I wrote a couple of tests but they kept failing every time I made a code change so I deleted them. Too much trouble.\n- Nobody else on the team writes tests, why should I?\n- It takes ages to write a single test, I have to create a ton of mockups.\n\nThese are valid arguments. Working software that gets shipped to the clients is what really matters. But tests are very important for this single reason: tests make the code better.\n\n## First use of your code\n\nWhen you write tests, you are actually making a first client for your code.\nYou need to instantiate your objects, create the data flow, call functions, and use their outputs.\n\nIf you feel that your code is hard to use, is very picky about data or order of operations,\nnow is a good time to refactor it a bit, to make it easier to use, more clear.\nAt least add some comments for the tricky parts.\n\nYou’ll be surprised to find that, in some cases, the code is not working as you were thinking.\nYou’ll find ignored edge cases, unhandled errors, inconsistencies, and most likely some bugs.\n\n## Easier to test means better code\n\nGood code is easy to test. Good code is made from small and independent parts and nothing is easier to test than small,\nindependent parts. Especially if those small parts are pure functions. Just think about it: you give it an input and it gives you an output, all you need to do is check if the output is the expected thing.\n\nIf you find yourself writing many tests for a single piece of code usually that means it is too complex and you should\nsimplify it by breaking it into several pieces.\n\nOr if you need to write a lot of test set up code, to simulate a certain state — because only\nin those conditions the code can be tested — you need to improve your code.\n\nWhen your code is good, it is very easy and fast to write tests for it. This means is more likely to write more tests, have better coverage, and test all kinds of niche situations that are very hard to simulate by manual testing.\nBut when the code is not good you’ll have a hard time writing tests.\n\n## Prevent silly mistakes\n\nSometimes in order to add a new feature or fix a bug, you need to refactor or change a piece of code to suit\nyour new needs. But that piece of code is also used in other parts, which you are not interested in.\nSo inadvertently, you break code.\n\nIf the code is tested, the moment you run the tests, you will notice that the tests fail and thus you’ll be\nforced to fix your new code so the old code doesn’t break anymore.\n\n_Several years ago I worked with a very esteemed colleague that had the bad habit of committing code that doesn’t\ncompile. It happened once, then twice, then we blocked his credentials from committing to the repo. Later he used the build automation credentials to commit code and again code that doesn’t compile ended on the repo.\nFinally, we set up the repository to not allow commit of code that doesn’t pass tests.\nOf course, the code had to be compilable in order to even start the tests. And that is how our problem was solved. _\n\n## Remember what the code is supposed to do\n\nWhen you write code, you know the problem it needs to solve, the context, the constraints, all the edge cases.\nBut when you return to the same code months later you don’t remember all those little details.\nYou hardly remember how the code works. Wouldn’t be nice to have a way to remember that? Maybe the documentation\n(if anyone writes low-level documentation anymore). Or maybe the tests! Just look over the tests and you’ll remember\nhow the code is supposed to be used, what data it needs, and what the code returns.\n\n## Better quality, fewer bugs\n\nThis one is obvious, tested code has better quality because bugs are found and fixed while is tested. Not always, but most of the time when I write tests for my code I find at least one issue.\n\nIt happens that we write fast and trashy code to get to the solution as soon as possible. And then we see the\ncode works and everybody is happy. This should not be the end of the story. Next, we should write tests to prove\nthat the code works. And then, once all the tests are written and are running successfully we need to rewrite our trashy code. To make code that not only works but is also great.\nBecause of the tests, you can be sure that the code still works as before but now is way better: simpler, more robust, easier to read, more efficient.\n\nOver time, in the life of every project, comes a period of refactoring, enhancements, improvements, reducing\nthe technical debt, etc. The goal is always to take code the works and make it better somehow. But most of the\ntime something else happens: working code becomes a better code that doesn’t work the same. Always something slips,\nsomething is missed, something is broken. Why? Because there were no unit tests that caught the mistake.\n\n_I didn’t always write tests. I didn’t bother to write them. But as I became a better developer I find them invaluable.\nTests are like one of those things you don’t miss until you use and then you can live without._","src/content/make-your-code-testable/index.md","49b514875c387836",{"html":832,"metadata":833},"\u003Cp>There are two types of programmers: those who like to write tests and those who hate it.\nThe hardest thing for me is always to convince one of those test haters to change his mind.\nThey come up with all kind of arguments:\u003C/p>\n\u003Cul>\n\u003Cli>I don’t have time man, I need to write code that is shipped to the client.\u003C/li>\n\u003Cli>I checked my code manually and it works, why bother writing tests?\u003C/li>\n\u003Cli>We have QA people that test the code anyway, why should I? I’m a bloody developer.\u003C/li>\n\u003Cli>I wrote a couple of tests but they kept failing every time I made a code change so I deleted them. Too much trouble.\u003C/li>\n\u003Cli>Nobody else on the team writes tests, why should I?\u003C/li>\n\u003Cli>It takes ages to write a single test, I have to create a ton of mockups.\u003C/li>\n\u003C/ul>\n\u003Cp>These are valid arguments. Working software that gets shipped to the clients is what really matters. But tests are very important for this single reason: tests make the code better.\u003C/p>\n\u003Ch2 id=\"first-use-of-your-code\">First use of your code\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#first-use-of-your-code\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>When you write tests, you are actually making a first client for your code.\nYou need to instantiate your objects, create the data flow, call functions, and use their outputs.\u003C/p>\n\u003Cp>If you feel that your code is hard to use, is very picky about data or order of operations,\nnow is a good time to refactor it a bit, to make it easier to use, more clear.\nAt least add some comments for the tricky parts.\u003C/p>\n\u003Cp>You’ll be surprised to find that, in some cases, the code is not working as you were thinking.\nYou’ll find ignored edge cases, unhandled errors, inconsistencies, and most likely some bugs.\u003C/p>\n\u003Ch2 id=\"easier-to-test-means-better-code\">Easier to test means better code\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#easier-to-test-means-better-code\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>Good code is easy to test. Good code is made from small and independent parts and nothing is easier to test than small,\nindependent parts. Especially if those small parts are pure functions. Just think about it: you give it an input and it gives you an output, all you need to do is check if the output is the expected thing.\u003C/p>\n\u003Cp>If you find yourself writing many tests for a single piece of code usually that means it is too complex and you should\nsimplify it by breaking it into several pieces.\u003C/p>\n\u003Cp>Or if you need to write a lot of test set up code, to simulate a certain state — because only\nin those conditions the code can be tested — you need to improve your code.\u003C/p>\n\u003Cp>When your code is good, it is very easy and fast to write tests for it. This means is more likely to write more tests, have better coverage, and test all kinds of niche situations that are very hard to simulate by manual testing.\nBut when the code is not good you’ll have a hard time writing tests.\u003C/p>\n\u003Ch2 id=\"prevent-silly-mistakes\">Prevent silly mistakes\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#prevent-silly-mistakes\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>Sometimes in order to add a new feature or fix a bug, you need to refactor or change a piece of code to suit\nyour new needs. But that piece of code is also used in other parts, which you are not interested in.\nSo inadvertently, you break code.\u003C/p>\n\u003Cp>If the code is tested, the moment you run the tests, you will notice that the tests fail and thus you’ll be\nforced to fix your new code so the old code doesn’t break anymore.\u003C/p>\n\u003Cp>_Several years ago I worked with a very esteemed colleague that had the bad habit of committing code that doesn’t\ncompile. It happened once, then twice, then we blocked his credentials from committing to the repo. Later he used the build automation credentials to commit code and again code that doesn’t compile ended on the repo.\nFinally, we set up the repository to not allow commit of code that doesn’t pass tests.\nOf course, the code had to be compilable in order to even start the tests. And that is how our problem was solved. _\u003C/p>\n\u003Ch2 id=\"remember-what-the-code-is-supposed-to-do\">Remember what the code is supposed to do\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#remember-what-the-code-is-supposed-to-do\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>When you write code, you know the problem it needs to solve, the context, the constraints, all the edge cases.\nBut when you return to the same code months later you don’t remember all those little details.\nYou hardly remember how the code works. Wouldn’t be nice to have a way to remember that? Maybe the documentation\n(if anyone writes low-level documentation anymore). Or maybe the tests! Just look over the tests and you’ll remember\nhow the code is supposed to be used, what data it needs, and what the code returns.\u003C/p>\n\u003Ch2 id=\"better-quality-fewer-bugs\">Better quality, fewer bugs\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#better-quality-fewer-bugs\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>This one is obvious, tested code has better quality because bugs are found and fixed while is tested. Not always, but most of the time when I write tests for my code I find at least one issue.\u003C/p>\n\u003Cp>It happens that we write fast and trashy code to get to the solution as soon as possible. And then we see the\ncode works and everybody is happy. This should not be the end of the story. Next, we should write tests to prove\nthat the code works. And then, once all the tests are written and are running successfully we need to rewrite our trashy code. To make code that not only works but is also great.\nBecause of the tests, you can be sure that the code still works as before but now is way better: simpler, more robust, easier to read, more efficient.\u003C/p>\n\u003Cp>Over time, in the life of every project, comes a period of refactoring, enhancements, improvements, reducing\nthe technical debt, etc. The goal is always to take code the works and make it better somehow. But most of the\ntime something else happens: working code becomes a better code that doesn’t work the same. Always something slips,\nsomething is missed, something is broken. Why? Because there were no unit tests that caught the mistake.\u003C/p>\n\u003Cp>\u003Cem>I didn’t always write tests. I didn’t bother to write them. But as I became a better developer I find them invaluable.\nTests are like one of those things you don’t miss until you use and then you can live without.\u003C/em>\u003C/p>",{"headings":834,"imagePaths":850,"frontmatter":821},[835,838,841,844,847],{"depth":51,"slug":836,"text":837},"first-use-of-your-code","First use of your code",{"depth":51,"slug":839,"text":840},"easier-to-test-means-better-code","Easier to test means better code",{"depth":51,"slug":842,"text":843},"prevent-silly-mistakes","Prevent silly mistakes",{"depth":51,"slug":845,"text":846},"remember-what-the-code-is-supposed-to-do","Remember what the code is supposed to do",{"depth":51,"slug":848,"text":849},"better-quality-fewer-bugs","Better quality, fewer bugs",[],"javascript-part-three",["Map",7,853],{"id":7,"data":854,"body":860,"filePath":861,"digest":862,"rendered":863,"legacyId":64},{"title":855,"pubDate":856,"description":813,"keywords":857,"twitterImage":858,"minutesRead":352,"excerpt":859},"Let's Learn JavaScript - Fundamentals",["Date","2021-11-14T00:00:00.000Z"],[14],"https://www.raresportan.com/twitter-cards/let's-learn-javascript---fundamentals.png","This is the third part of the “Let’s Learn JavaScript” tutorial.\nIn the first part, we learned how JavaScript compares to other programming ","This is the third part of the \"Let's Learn JavaScript\" tutorial.\n[In the first part](/javascript-part-one), we learned how JavaScript compares to other programming languages and the mindset you need to learn JavaScript.\nAnd [in the second part](/javascript-part-two), we have seen we can run \"Hello, World!\" in JavaScript.\n\nNow we continue with some fundamentals features of JavaScript.\n\n## use strict\n\nJavaScript was implemented in 10 days (unlike most programming languages that were implemented in several years). As you can guess, mistakes\nwere made. These mistakes are hard to fix because new versions of JavaScript are not allowed to break code written in older versions.\n\nA compromise was reached when ECMAScript 5 (JavaScript v5) was introduced. JavaScript could enter a _strict mode_ if the\nJavaScript source starts with `'use strict';`.\n\nStrict mode:\n\n- Eliminates some silent errors by changing them to errors.\n- Fixes mistakes that make it difficult for JavaScript engines to\n  perform optimizations: strict mode code can sometimes run faster\n  than identical code that's not strict mode.\n- Prohibits some syntax likely to be defined in the future.\n\nTo use the strict mode, we need to add the following as the first line in the code.\n\n```js\n\"use strict\";\n```\n\n> WARNING: All the code presented here runs in strict mode. Some parts will work differently if you run them in non-strict mode!\n\n## Comments\n\nComments are parts of the code that are ignored by the JavaScript interpreter. A program works the same if the comments are removed.\nWe write comments for our future selves and our teammates. We add comments for parts of code that are complicated and are complicated for a good reason.\n\n```js\n\"use strict\";\n\n/*\n    Multi\n    line\n    comment\n*/\n\n// Single line comment\n```\n\nAdd comments for complicated code, you will thank yourself later when you have to fix a bug in that code, and you forgot what that piece of code is supposed to do or why it is doing that, or how it is doing that.\n\n## Logging\n\nIn JavaScript, we print out things using the `console` methods.\n\nTo see the console output in the browser, open the Developer Tools to the right and switch to the \"Console\" tab.\nWhile following these lessons, you should keep the Developer Tools Console open. See the [previous part of this tutorial](/javascript-part-two) to learn how to open the console.\n\nIf you are using a nice browser like Chrome or Firefox, the console output is displayed on the right side of the editor so you don't have to open\nthe Developer Tools Console.\n\n> Ironically console is not part of the JavaScript specification but is available on all modern browsers and Node.js\n\n```js\n\"use strict\";\n\n// clears the console\nconsole.clear();\n\n// a simple log\nconsole.log(\"Welcome to the machine\");\n\n// a warning\nconsole.warn(\"JavaScript ain't easy\");\n\n// an error\nconsole.error(\"Task failed successfully\");\n```\n\nThere are many more [console methods](https://developer.mozilla.org/en-US/docs/Web/API/console), but these are the most used.\n\nWhen console methods are not enough for debugging, you can use the `debugger` statement. The interpreter will stop at that line of code:\n\n```js\nconsole.log(\"Before debugger\");\n\ndebugger;\n\nconsole.log(\"After debugger\");\n```\n\nWhen this code runs, you'll see only \"Before debugger\" in the console and the browser's debugging controls will be displayed.\n\n## Values\n\n> \"When the creators built the machine, they put in the processor and the memory. From these arise the two aspects of the program. The aspect of the processor is the active substance. It is called Control. The aspect of the memory is the passive substance. It is called Data.\" -- Master Yuan-Ma, The Book of Programming\n\nThe purpose of any program is to transform data. So any program needs data.\nData can have different roles or meanings, it can be of different types. A value is a piece of data of a specific type.\n\n_Values are things that are. Types are things that could be._\n\nHere are some examples:\n\n| Type      | Example Value |\n| --------- | ------------- |\n| number    | 1             |\n| string    | \"ABC\"         |\n| boolean   | true          |\n| undefined | undefined     |\n| object    | new Date()    |\n\nLet's see how you can make values:\n\n```js\n\"use strict\";\n\n// Need a number? Just type it and it will be summoned\n7;\n\n// Want to do arithmetic? The result will be another number.\n// Here is how to add 7 with 3\n7 + 3;\n// Or how to multiply 5 with 5\n5 * 5;\n\nconsole.log(7 + 3);\nconsole.log(5 * 5);\n\n// Need to compare some numbers? The result will be a boolean, true or false\n7 >= 3;\n5 \u003C 5;\n\nconsole.log(7 >= 3);\nconsole.log(5 \u003C 5);\n\n// Need a string? You can create it in different ways, using \" \", ' ' or ` `:\n(\"Below the surface of the machine, the program moves.\");\n(\"Without effort, it expands and contracts\");\n`In great harmony, electrons scatter and\nregroup. The forms on the monitor are but ripples on the water. The\nessence stays invisibly below.\n -- Master Yuan-Ma, The Book of Programming`;\n```\n\nTo _summon_ a value, you just have to type it.\n\n## Bindings\n\nHaving values is not enough. We need to give them a meaning, we need to name them. For example, a `7` can have different meanings,\ndepending on how we use it in a piece of code, like the day of the week, the maximum of a series of numbers, the sum, the position in a list, and so on.\n\n```js\n// what is this 7?\n7;\n```\n\nAnother problem we have with values is that we can't use a previous value because we have no way of grasping it.\n\n```js\n// sum\n7 + 3;\n\n// how to add 1 to sum ??\n```\n\nTo solve all these issues we can create _bindings_. A binding is the result of binding a name to a value.\nYou can bind a value to a name using `const` or `let`.\n\n```js\nconst language = \"JavaScript\";\n\nlet sum = 7 + 3;\n```\n\nAfter that, you can use the binding name to get the bound value.\n\n```js\nconst language = \"JavaScript\";\nconsole.log(language); // JavaScript\n\nlet sum = 7 + 3;\nsum = sum + 1; // use sum to add 1\n```\n\nYou can assign a value to a binding using `=`. The same value can be bound to several names.\n\n> NOTE: Bindings are also called variables. But calling a constant a variable is kind of confusing. So here we stick with bindings.\n\nThink of a binding not as a box containing a value, but as a _tentacle_ that grasps a value.\nThe same value can be bound to several names, meaning the same value can be grasped by several tentacles not that there are several boxes with the same value.\n\n> NOTE: There is another, old way of binding a value, using \"var\" but nobody uses it anymore since it can cause some strange and unexpected behavior. Please use instead \"const\"\n> by default, and \"let\" only if you need to change the binding.\n\nLet's see how we create some bindings:\n\n```js\n// Previously we had to repeat the 7 + 3 operation when we printed the result,\n// by binding the result of 7 + 3 to 'sum', we can print it using the binding\nconst sum = 7 + 3;\nconsole.log(sum);\n\n// Bindings that never change are declared with \"const\"\nconst person = \"Dr. Cham\";\n\n// Tip: If you attempt to change a const you will get an error\n\n// Bindings that change are declared with \"let\"\nlet whatHeDid = \"He did dynamite a retirement home\";\n// Let's change it\nwhatHeDid = \"He did dynamite a retirement home full of grannies\";\n\n// You can bind several values in a single line\nlet born = 1894,\n  missing = 1941;\n\n// Also you can just declare a \"let\" binding, without providing a value\nlet died;\n// You need to provide a value to \"const\" or you'll get an error:\n// const wentMad;\n\n// Log a binding's value using console.log\nconsole.log(\"person:\", person);\nconsole.log(\"born, missing, died :\", born, missing, died);\n```\n\nUnderstanding how bindings work in JavaScript is very important. Let's look at a simple example and see what's going on:\n\n```js\n\"use strict\";\n\nlet x = 100;\nlet y = x; // What is happening here?\n\nx = 0;\n// What is y?\n// console.log(y)\n```\n\nCan you guess what is the value of `y`?\n\n- `let x = 100;` means that we summon the value 100 and create a binding for it, called `x`.\n- `let y = x;` means we create a binding called `y` and bind the value that is bound to `x`, which means we bind `y` to 100, not x.\n- `x = 0;` means we summon value 0 and we bind `x` to that value. `y` is not affected.\n- `y` is still bound to 100.\n\nThere are values and bindings. A binding binds a name only to a value. To cannot bind a binding to another binding.\n\n## Summary\n\n- 'use strict' runs the code in a mode that fixes some of the old mistakes\n- Comments are written for you and ignored by the JavaScript interpreter\n- Logging helps you see what's going on\n- Values are the data in your program\n- Use bindings to reference data\n\nThis concludes the third part of the tutorial. You now know the JavaScript basic concepts, you should be able to log and debug programs, _summon_ values and work with bindings.\n\nIn the next part, we will learn about naming things and data types in JavaScript.","src/content/javascript-part-three/index.md","fda4a1843f4a08c4",{"html":864,"metadata":865},"\u003Cp>This is the third part of the “Let’s Learn JavaScript” tutorial.\n\u003Ca href=\"/javascript-part-one\">In the first part\u003C/a>, we learned how JavaScript compares to other programming languages and the mindset you need to learn JavaScript.\nAnd \u003Ca href=\"/javascript-part-two\">in the second part\u003C/a>, we have seen we can run “Hello, World!” in JavaScript.\u003C/p>\n\u003Cp>Now we continue with some fundamentals features of JavaScript.\u003C/p>\n\u003Ch2 id=\"use-strict\">use strict\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#use-strict\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>JavaScript was implemented in 10 days (unlike most programming languages that were implemented in several years). As you can guess, mistakes\nwere made. These mistakes are hard to fix because new versions of JavaScript are not allowed to break code written in older versions.\u003C/p>\n\u003Cp>A compromise was reached when ECMAScript 5 (JavaScript v5) was introduced. JavaScript could enter a \u003Cem>strict mode\u003C/em> if the\nJavaScript source starts with \u003Ccode>'use strict';\u003C/code>.\u003C/p>\n\u003Cp>Strict mode:\u003C/p>\n\u003Cul>\n\u003Cli>Eliminates some silent errors by changing them to errors.\u003C/li>\n\u003Cli>Fixes mistakes that make it difficult for JavaScript engines to\nperform optimizations: strict mode code can sometimes run faster\nthan identical code that’s not strict mode.\u003C/li>\n\u003Cli>Prohibits some syntax likely to be defined in the future.\u003C/li>\n\u003C/ul>\n\u003Cp>To use the strict mode, we need to add the following as the first line in the code.\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token string\">\"use strict\"\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cblockquote>\n\u003Cp>WARNING: All the code presented here runs in strict mode. Some parts will work differently if you run them in non-strict mode!\u003C/p>\n\u003C/blockquote>\n\u003Ch2 id=\"comments\">Comments\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#comments\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>Comments are parts of the code that are ignored by the JavaScript interpreter. A program works the same if the comments are removed.\nWe write comments for our future selves and our teammates. We add comments for parts of code that are complicated and are complicated for a good reason.\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token string\">\"use strict\"\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token comment\">/*\n    Multi\n    line\n    comment\n*/\u003C/span>\n\n\u003Cspan class=\"token comment\">// Single line comment\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>Add comments for complicated code, you will thank yourself later when you have to fix a bug in that code, and you forgot what that piece of code is supposed to do or why it is doing that, or how it is doing that.\u003C/p>\n\u003Ch2 id=\"logging\">Logging\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#logging\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>In JavaScript, we print out things using the \u003Ccode>console\u003C/code> methods.\u003C/p>\n\u003Cp>To see the console output in the browser, open the Developer Tools to the right and switch to the “Console” tab.\nWhile following these lessons, you should keep the Developer Tools Console open. See the \u003Ca href=\"/javascript-part-two\">previous part of this tutorial\u003C/a> to learn how to open the console.\u003C/p>\n\u003Cp>If you are using a nice browser like Chrome or Firefox, the console output is displayed on the right side of the editor so you don’t have to open\nthe Developer Tools Console.\u003C/p>\n\u003Cblockquote>\n\u003Cp>Ironically console is not part of the JavaScript specification but is available on all modern browsers and Node.js\u003C/p>\n\u003C/blockquote>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token string\">\"use strict\"\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token comment\">// clears the console\u003C/span>\nconsole\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">clear\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token comment\">// a simple log\u003C/span>\nconsole\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">log\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"Welcome to the machine\"\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token comment\">// a warning\u003C/span>\nconsole\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">warn\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"JavaScript ain't easy\"\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token comment\">// an error\u003C/span>\nconsole\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">error\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"Task failed successfully\"\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>There are many more \u003Ca href=\"https://developer.mozilla.org/en-US/docs/Web/API/console\">console methods\u003C/a>, but these are the most used.\u003C/p>\n\u003Cp>When console methods are not enough for debugging, you can use the \u003Ccode>debugger\u003C/code> statement. The interpreter will stop at that line of code:\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">console\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">log\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"Before debugger\"\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token keyword\">debugger\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\nconsole\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">log\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"After debugger\"\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>When this code runs, you’ll see only “Before debugger” in the console and the browser’s debugging controls will be displayed.\u003C/p>\n\u003Ch2 id=\"values\">Values\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#values\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cblockquote>\n\u003Cp>“When the creators built the machine, they put in the processor and the memory. From these arise the two aspects of the program. The aspect of the processor is the active substance. It is called Control. The aspect of the memory is the passive substance. It is called Data.” — Master Yuan-Ma, The Book of Programming\u003C/p>\n\u003C/blockquote>\n\u003Cp>The purpose of any program is to transform data. So any program needs data.\nData can have different roles or meanings, it can be of different types. A value is a piece of data of a specific type.\u003C/p>\n\u003Cp>\u003Cem>Values are things that are. Types are things that could be.\u003C/em>\u003C/p>\n\u003Cp>Here are some examples:\u003C/p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Type\u003C/th>\u003Cth>Example Value\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>number\u003C/td>\u003Ctd>1\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>string\u003C/td>\u003Ctd>”ABC”\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>boolean\u003C/td>\u003Ctd>true\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>undefined\u003C/td>\u003Ctd>undefined\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>object\u003C/td>\u003Ctd>new Date()\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Cp>Let’s see how you can make values:\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token string\">\"use strict\"\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token comment\">// Need a number? Just type it and it will be summoned\u003C/span>\n\u003Cspan class=\"token number\">7\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token comment\">// Want to do arithmetic? The result will be another number.\u003C/span>\n\u003Cspan class=\"token comment\">// Here is how to add 7 with 3\u003C/span>\n\u003Cspan class=\"token number\">7\u003C/span> \u003Cspan class=\"token operator\">+\u003C/span> \u003Cspan class=\"token number\">3\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token comment\">// Or how to multiply 5 with 5\u003C/span>\n\u003Cspan class=\"token number\">5\u003C/span> \u003Cspan class=\"token operator\">*\u003C/span> \u003Cspan class=\"token number\">5\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\nconsole\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">log\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token number\">7\u003C/span> \u003Cspan class=\"token operator\">+\u003C/span> \u003Cspan class=\"token number\">3\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\nconsole\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">log\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token number\">5\u003C/span> \u003Cspan class=\"token operator\">*\u003C/span> \u003Cspan class=\"token number\">5\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token comment\">// Need to compare some numbers? The result will be a boolean, true or false\u003C/span>\n\u003Cspan class=\"token number\">7\u003C/span> \u003Cspan class=\"token operator\">>=\u003C/span> \u003Cspan class=\"token number\">3\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token number\">5\u003C/span> \u003Cspan class=\"token operator\">&#x3C;\u003C/span> \u003Cspan class=\"token number\">5\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\nconsole\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">log\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token number\">7\u003C/span> \u003Cspan class=\"token operator\">>=\u003C/span> \u003Cspan class=\"token number\">3\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\nconsole\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">log\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token number\">5\u003C/span> \u003Cspan class=\"token operator\">&#x3C;\u003C/span> \u003Cspan class=\"token number\">5\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token comment\">// Need a string? You can create it in different ways, using \" \", ' ' or ` `:\u003C/span>\n\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"Below the surface of the machine, the program moves.\"\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"Without effort, it expands and contracts\"\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token template-string\">\u003Cspan class=\"token template-punctuation string\">`\u003C/span>\u003Cspan class=\"token string\">In great harmony, electrons scatter and\nregroup. The forms on the monitor are but ripples on the water. The\nessence stays invisibly below.\n -- Master Yuan-Ma, The Book of Programming\u003C/span>\u003Cspan class=\"token template-punctuation string\">`\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>To \u003Cem>summon\u003C/em> a value, you just have to type it.\u003C/p>\n\u003Ch2 id=\"bindings\">Bindings\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#bindings\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>Having values is not enough. We need to give them a meaning, we need to name them. For example, a \u003Ccode>7\u003C/code> can have different meanings,\ndepending on how we use it in a piece of code, like the day of the week, the maximum of a series of numbers, the sum, the position in a list, and so on.\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token comment\">// what is this 7?\u003C/span>\n\u003Cspan class=\"token number\">7\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>Another problem we have with values is that we can’t use a previous value because we have no way of grasping it.\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token comment\">// sum\u003C/span>\n\u003Cspan class=\"token number\">7\u003C/span> \u003Cspan class=\"token operator\">+\u003C/span> \u003Cspan class=\"token number\">3\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token comment\">// how to add 1 to sum ??\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>To solve all these issues we can create \u003Cem>bindings\u003C/em>. A binding is the result of binding a name to a value.\nYou can bind a value to a name using \u003Ccode>const\u003C/code> or \u003Ccode>let\u003C/code>.\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token keyword\">const\u003C/span> language \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token string\">\"JavaScript\"\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token keyword\">let\u003C/span> sum \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token number\">7\u003C/span> \u003Cspan class=\"token operator\">+\u003C/span> \u003Cspan class=\"token number\">3\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>After that, you can use the binding name to get the bound value.\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token keyword\">const\u003C/span> language \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token string\">\"JavaScript\"\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\nconsole\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">log\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>language\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token comment\">// JavaScript\u003C/span>\n\n\u003Cspan class=\"token keyword\">let\u003C/span> sum \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token number\">7\u003C/span> \u003Cspan class=\"token operator\">+\u003C/span> \u003Cspan class=\"token number\">3\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\nsum \u003Cspan class=\"token operator\">=\u003C/span> sum \u003Cspan class=\"token operator\">+\u003C/span> \u003Cspan class=\"token number\">1\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token comment\">// use sum to add 1\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>You can assign a value to a binding using \u003Ccode>=\u003C/code>. The same value can be bound to several names.\u003C/p>\n\u003Cblockquote>\n\u003Cp>NOTE: Bindings are also called variables. But calling a constant a variable is kind of confusing. So here we stick with bindings.\u003C/p>\n\u003C/blockquote>\n\u003Cp>Think of a binding not as a box containing a value, but as a \u003Cem>tentacle\u003C/em> that grasps a value.\nThe same value can be bound to several names, meaning the same value can be grasped by several tentacles not that there are several boxes with the same value.\u003C/p>\n\u003Cblockquote>\n\u003Cp>NOTE: There is another, old way of binding a value, using “var” but nobody uses it anymore since it can cause some strange and unexpected behavior. Please use instead “const”\nby default, and “let” only if you need to change the binding.\u003C/p>\n\u003C/blockquote>\n\u003Cp>Let’s see how we create some bindings:\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token comment\">// Previously we had to repeat the 7 + 3 operation when we printed the result,\u003C/span>\n\u003Cspan class=\"token comment\">// by binding the result of 7 + 3 to 'sum', we can print it using the binding\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> sum \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token number\">7\u003C/span> \u003Cspan class=\"token operator\">+\u003C/span> \u003Cspan class=\"token number\">3\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\nconsole\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">log\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>sum\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token comment\">// Bindings that never change are declared with \"const\"\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> person \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token string\">\"Dr. Cham\"\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token comment\">// Tip: If you attempt to change a const you will get an error\u003C/span>\n\n\u003Cspan class=\"token comment\">// Bindings that change are declared with \"let\"\u003C/span>\n\u003Cspan class=\"token keyword\">let\u003C/span> whatHeDid \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token string\">\"He did dynamite a retirement home\"\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token comment\">// Let's change it\u003C/span>\nwhatHeDid \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token string\">\"He did dynamite a retirement home full of grannies\"\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token comment\">// You can bind several values in a single line\u003C/span>\n\u003Cspan class=\"token keyword\">let\u003C/span> born \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token number\">1894\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n  missing \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token number\">1941\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token comment\">// Also you can just declare a \"let\" binding, without providing a value\u003C/span>\n\u003Cspan class=\"token keyword\">let\u003C/span> died\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token comment\">// You need to provide a value to \"const\" or you'll get an error:\u003C/span>\n\u003Cspan class=\"token comment\">// const wentMad;\u003C/span>\n\n\u003Cspan class=\"token comment\">// Log a binding's value using console.log\u003C/span>\nconsole\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">log\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"person:\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> person\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\nconsole\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">log\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"born, missing, died :\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> born\u003Cspan class=\"token punctuation\">,\u003C/span> missing\u003Cspan class=\"token punctuation\">,\u003C/span> died\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>Understanding how bindings work in JavaScript is very important. Let’s look at a simple example and see what’s going on:\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token string\">\"use strict\"\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token keyword\">let\u003C/span> x \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token number\">100\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token keyword\">let\u003C/span> y \u003Cspan class=\"token operator\">=\u003C/span> x\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token comment\">// What is happening here?\u003C/span>\n\nx \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token number\">0\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token comment\">// What is y?\u003C/span>\n\u003Cspan class=\"token comment\">// console.log(y)\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>Can you guess what is the value of \u003Ccode>y\u003C/code>?\u003C/p>\n\u003Cul>\n\u003Cli>\u003Ccode>let x = 100;\u003C/code> means that we summon the value 100 and create a binding for it, called \u003Ccode>x\u003C/code>.\u003C/li>\n\u003Cli>\u003Ccode>let y = x;\u003C/code> means we create a binding called \u003Ccode>y\u003C/code> and bind the value that is bound to \u003Ccode>x\u003C/code>, which means we bind \u003Ccode>y\u003C/code> to 100, not x.\u003C/li>\n\u003Cli>\u003Ccode>x = 0;\u003C/code> means we summon value 0 and we bind \u003Ccode>x\u003C/code> to that value. \u003Ccode>y\u003C/code> is not affected.\u003C/li>\n\u003Cli>\u003Ccode>y\u003C/code> is still bound to 100.\u003C/li>\n\u003C/ul>\n\u003Cp>There are values and bindings. A binding binds a name only to a value. To cannot bind a binding to another binding.\u003C/p>\n\u003Ch2 id=\"summary\">Summary\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#summary\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cul>\n\u003Cli>‘use strict’ runs the code in a mode that fixes some of the old mistakes\u003C/li>\n\u003Cli>Comments are written for you and ignored by the JavaScript interpreter\u003C/li>\n\u003Cli>Logging helps you see what’s going on\u003C/li>\n\u003Cli>Values are the data in your program\u003C/li>\n\u003Cli>Use bindings to reference data\u003C/li>\n\u003C/ul>\n\u003Cp>This concludes the third part of the tutorial. You now know the JavaScript basic concepts, you should be able to log and debug programs, \u003Cem>summon\u003C/em> values and work with bindings.\u003C/p>\n\u003Cp>In the next part, we will learn about naming things and data types in JavaScript.\u003C/p>",{"headings":866,"imagePaths":883,"frontmatter":854},[867,870,873,876,879,882],{"depth":51,"slug":868,"text":869},"use-strict","use strict",{"depth":51,"slug":871,"text":872},"comments","Comments",{"depth":51,"slug":874,"text":875},"logging","Logging",{"depth":51,"slug":877,"text":878},"values","Values",{"depth":51,"slug":880,"text":881},"bindings","Bindings",{"depth":51,"slug":732,"text":733},[],"javascript-part-two",["Map",7,886],{"id":7,"data":887,"body":891,"filePath":892,"digest":893,"legacyId":18,"deferredRender":19},{"title":888,"pubDate":889,"description":813,"keywords":890},"Let's Learn JavaScript - Hello World",["Date","2021-11-06T00:00:00.000Z"],[14],"This is the second part of the \"Let's Learn JavaScript\" tutorial.\n[In the first part](/javascript-part-one), we learned how JavaScript compares to other programming languages and the mindset you need to learn JavaScript.\n\nNow we learn to make and run our first JavaScript program, of course, the classic \"Hello, World!\"\n\n## JavaScript code\n\nCreate a folder called `learnjs` and inside it, a file called `tutorial.js` and enter the following text inside:\n\n```js\nconsole.log(\"Hello, World!\");\n```\n\nThat's all. One-liner.\n\n## Running JavaScript code\n\nTo run JavaScript code we need a JavaScript _runtime_, a tool that reads JavaScript code and executes it.\nJavaScript was designed to be lightweight and to run inside a browser, but [Ryan Dahl](https://en.wikipedia.org/wiki/Ryan_Dahl) created\n[Node.js](https://nodejs.org/en/) that runs JavaScript on servers.\n\n> Unlike some other programming languages like C or Java, JavaScript code is not _compiled_. This means that you don't know if the code\n> works before you execute it.\n\nIf the code doesn't work, you'll get some errors that say what's wrong.\n\nNote that there is some JavaScript code that works only in the browser or only in Node.js. That JavaScript code is not core JavaScript,\nbut some extra APIs added by either the browser or Node.js.\n\nIn this tutorial, we will use only JavaScript code that is compatible with both. So choose one of the methods and stick to it.\n\n### Browser\n\nTo run JavaScript inside the browser you'll need to create first an HTML file.\nIn the same `learnjs` folder, create an `index.html` file with the following content:\n\n```html\n\u003Chtml>\n  \u003Chead>\n    \u003Ctitle>Learn JavaScript\u003C/title>\n    \u003Chead>\n  \u003Cbody>\n    \u003Cscript src=\"tutorial.js\">\u003C/script>\n  \u003Cbody>\n\u003C/html>\n```\n\nThe most relevant line for us is `\u003Cscript src=\"tutorial.js\">\u003C/script>` which loads `tutorial.js`.\n\nNow open `index.html` with a browser. You'll see an empty page, that is fine.\nTo see the \"Hello, World!\" text, you need to open the browser's JavaScript console. How you do this depends on the browser, but here are some examples:\n\nimport { Picture } from \"astro:assets\";\n\n#### Chrome\n\n\u003CPicture\n  src={import(\"./chrome.png\")}\n  widths={[480, 800]}\n  formats={[\"webp\"]}\n  sizes=\"(max-width: 600px) 480px, 800px\"\n  alt=\"Chrome JavaScript console\"\n/>\n\n#### Firefox\n\n\u003CPicture\n  src={import(\"./firefox.png\")}\n  widths={[480, 800]}\n  formats={[\"webp\"]}\n  sizes=\"(max-width: 600px) 480px, 800px\"\n  alt=\"Firefox JavaScript console\"\n/>\n\n#### Safari (first you need to [enable \"Develop\" menu](https://support.apple.com/en-gb/guide/safari/sfri20948/mac))\n\n\u003CPicture\n  src={import(\"./safari.png\")}\n  widths={[480, 800]}\n  formats={[\"webp\"]}\n  sizes=\"(max-width: 600px) 480px, 800px\"\n  alt=\"Safari JavaScript console\"\n/>\n\n### Node.js\n\nFirst, you need to install Node.js from [https://nodejs.org/en/](https://nodejs.org/en/)\nOnce you did that, verify that all is OK by checking the node.js version. In a terminal/cmd run the following:\n\n```shell\nnode -v\n```\n\nIf that works go to the `learnjs` folder and, again using the terminal, type:\n\n```shell\nnode tutorial.js\n```\n\nYou should see \"Hello, World!\" displayed.\n\n## Visual Studio Code\n\nMost programmers use some sort of [IDE](https://en.wikipedia.org/wiki/Integrated_development_environment) to help them code faster and with\nfewer mistakes. Not to mention project structure and settings.\n\nFor JavaScript developers (and web developers in general), I recommend [Visual Studio Code](https://code.visualstudio.com/) these days.\nGo ahead install it and use it, it's free and it's awesome.\n\n\u003CPicture\n  src={import(\"./vscode.png\")}\n  widths={[480, 800]}\n  formats={[\"webp\"]}\n  sizes=\"(max-width: 600px) 480px, 800px\"\n  alt=\"Visual Studio Code\"\n/>\n\n## Summary\n\n- JavaScript code goes in files with `.js` extension\n- JavaScript can run in browsers or node.js\n- Use an IDE like Visual Studio Code to be more productive\n\nThis concludes the second part of the tutorial. You now know how to run JavaScript code.\nIn the next part, we will learn a few JavaScript basic concepts.","src/content/javascript-part-two/index.mdx","fb7fbb18b12441ea","make-me-a-promise",["Map",7,896],{"id":7,"data":897,"body":904,"filePath":905,"digest":906,"rendered":907,"legacyId":64},{"title":898,"pubDate":899,"description":900,"keywords":901,"twitterImage":902,"minutesRead":75,"excerpt":903},"Make me a Promise",["Date","2020-08-10T00:00:00.000Z"],"What is a Promise in JavaScript and how it works",[14],"https://www.raresportan.com/twitter-cards/make-me-a-promise.png","Let’s start with a short story.\nA girl asks his father: Daddy are there people in space right now?\nThe father doesn’t know but he promises h","Let's start with a short story.\n\nA girl asks his father: _Daddy are there people in space right now?_\nThe father doesn't know but he _promises_ he'll find out.\n\nAt that point, the girl decides if there are people in space, she'll write their names in the journal. If there aren't she won't. Also, if father is unable to find this out, she'll ask mom.\n\n_Later, after some time_, father comes back and he does one of the following:\n\n1. He tells the girl the names of the people in space.\n   _The promise was fulfilled_, father kept his promise, and the girl is writing the names in the journal.\n\n2. He tells the girl there are no people in space.\n   _The promise was fulfilled_, again father kept his promise, but the girl is not writing anything in the journal.\n\n3. He tells the girl that he couldn't find out.\n   _There was a problem, the promise was not fulfilled_, father was not able to find out who's in space, so the girl will ask mom.\n\nHere is how the story is implemented in code:\n\n```js\nfunction daddyMakesPromise() {\n  // makes a promise\n  return new Promise((resolve, reject) => {\n    // Daddy looks on the internet for the answer, this takes time\n    daddyLooksOnTheInternetForAnswer(\"\")\n      .then((data) => {\n        // The promise is fulfilled\n        if (data) {\n          resolve(\"There are NO people in space right now!\");\n        } else {\n          resolve(\"Yes, these people are in space: \", data);\n        }\n      })\n      .catch((error) => {\n        // Internet not working, father can't keep his promise\n        // There was a problem, the promise was not fulfilled\n        reject(\"Sorry honey, I don't know if there are people in space\");\n      });\n  });\n}\n\n// One day daddy makes a promise\nconst promiseForGirl = daddyMakesPromise();\n\n// Promise is pending!\npromiseForGirl\n  .then((response) => {\n    // Later, when daddy fullfils the promise\n    if (response !== \"There are NO people in space right now!\") {\n      // write the names in the journal\n    }\n  })\n  .catch((error) => {\n    // Later, when daddy can't fulfil the promise:\n    // Ask mom\n  });\n```\n\n## Why we need Promises?\n\nPromises are supposed to help to make the code more clear, specifically to solve the\n_callback hell_ problem.\n\nBefore Promises, we had to write code like this:\n\n```js\nfunction a(callback) {\n    // do a XMLHttpRequest call\n    const result = ...;\n    // when done call the callback\n    callback(result);\n}\n\nfunction b(data, callback) {\n        // do a XMLHttpRequest call\n    const result = use(resultsFromA);\n    // when done call the callback\n    callback(result);\n}\n\n// This is the callback hell (simplified here)\n// Error handling is hard, you need to make sure all callbacks accept errors\na(function(resultsFromA){\n    b(resultsFromA, function(resultsFromB){\n        c(resultsFromB, function(resultsFromC){\n            d(resultsFromC, function(resultsFromD){\n                ...\n             })\n        })\n    })\n})\n```\n\nIf we use promise, the code is much clearer because from a .then() we can return a new Promise:\n\n```js\nfunction a() {\n    return Promise((resolve, reject) => {\n        ...\n    })\n}\n\nfunction b(data) {\n    return Promise((resolve, reject) => {\n        ...\n    })\n}\n\n\n// This is much nicer\na()\n .then(resultFromA => b(resultFromA))\n .then(resultFromB => c(resultFromB))\n .then(resultFromC => d(resultFromC))\n .catch(error => {\n     // promises handle errors by default\n     // if any promise is rejected, the rest of the promises are ignored\n })\n```\n\n### Resolve and reject\n\nWhen it's created a Promise is in _pending_ state.\nIn the end, it should be fulfilled/resolved or rejected.\n\nHow to implement code that makes a promise:\n\n```js\nreturn Promise((resolve, reject) => {\n  // to indicate that the promise was fulfilled call resolve with data\n  resolve(data);\n\n  // to indicated that the promise was rejected, call reject with an error\n  reject(error);\n\n  // if resolve/reject are never called, the promise will always be pending\n});\n```\n\n### then, catch, finally\n\nHow to implement code that receives a promise:\n\n```js\npromise\n    .then(result => /* called when resolve() was called inside the Promise */ )\n    .catch(error => /* called when reject() was called inside the Promise */ )\n    .finally( _ => /* called when either resolve/reject was called inside the Promise */)\n```\n\nNote that in some browsers, finally is not available on Promises.\n\n### Working with several promises in the same time\n\nSometimes we can work with several promises in the same, for example, we can make\nseveral fetch calls to get some data.\n\nWe can use `Promise.all()` to resolve promises in parallel.\n\n```js\nPromise.all([promiseA, promiseB, promiseC])\n  .then((results) => {\n    // this code is executed after all the promises are fulfilled\n    // results is an array with individual results of each promise\n  })\n  .catch((error) => {\n    // this code is executed if at least one promise is rejected\n    // if one is reject, the rest are ignored\n  });\n```\n\nWe can use `Promise.race()` to resolve promises in parallel, but instead of waiting\nfor all to finish, it fulfills/rejects when the first promise is fulfilled or rejected.\n\n```js\nPromise.race([promiseA, promiseB, promiseC])\n  .then((result) => {\n    // this code is executed after ONE the promises is fulfilled\n  })\n  .catch((error) => {\n    // this code is executed if at least one promise is rejected\n    // if one is reject, the rest are ignored\n  });\n```\n\nFinally, we have `Promise.allSettled()` to work with promises in parallel.\nThis one waits for all promises to be `settled`, either resolved or rejected.\n\n```js\nPromise.allSettled([\n    promiseA,\n    promiseB,\n    promiseC\n])\n.then(results => {\n    // this code is executed after all the promises are settled\n\n    // some of them might be resolved, some might be rejected\n    results.forEach((result) => console.log(result.status)));\n})\n\n```\n\nAll these work by fulfilling the promises in parallel. There is no Promise method\nto call them one after the other but as shown before we can do that manually:\n\n```js\nPromise.resolve()\n .then(_ => promiseA)\n .then(_ => promiseB)\n .then(_ => promiseC)\n .then(_ => promiseD)\n .catch(error => {\n\n```","src/content/make-me-a-promise/index.md","8164c802c21b115a",{"html":908,"metadata":909},"\u003Cp>Let’s start with a short story.\u003C/p>\n\u003Cp>A girl asks his father: \u003Cem>Daddy are there people in space right now?\u003C/em>\nThe father doesn’t know but he \u003Cem>promises\u003C/em> he’ll find out.\u003C/p>\n\u003Cp>At that point, the girl decides if there are people in space, she’ll write their names in the journal. If there aren’t she won’t. Also, if father is unable to find this out, she’ll ask mom.\u003C/p>\n\u003Cp>\u003Cem>Later, after some time\u003C/em>, father comes back and he does one of the following:\u003C/p>\n\u003Col>\n\u003Cli>\n\u003Cp>He tells the girl the names of the people in space.\n\u003Cem>The promise was fulfilled\u003C/em>, father kept his promise, and the girl is writing the names in the journal.\u003C/p>\n\u003C/li>\n\u003Cli>\n\u003Cp>He tells the girl there are no people in space.\n\u003Cem>The promise was fulfilled\u003C/em>, again father kept his promise, but the girl is not writing anything in the journal.\u003C/p>\n\u003C/li>\n\u003Cli>\n\u003Cp>He tells the girl that he couldn’t find out.\n\u003Cem>There was a problem, the promise was not fulfilled\u003C/em>, father was not able to find out who’s in space, so the girl will ask mom.\u003C/p>\n\u003C/li>\n\u003C/ol>\n\u003Cp>Here is how the story is implemented in code:\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token keyword\">function\u003C/span> \u003Cspan class=\"token function\">daddyMakesPromise\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n  \u003Cspan class=\"token comment\">// makes a promise\u003C/span>\n  \u003Cspan class=\"token keyword\">return\u003C/span> \u003Cspan class=\"token keyword\">new\u003C/span> \u003Cspan class=\"token class-name\">Promise\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">resolve\u003Cspan class=\"token punctuation\">,\u003C/span> reject\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n    \u003Cspan class=\"token comment\">// Daddy looks on the internet for the answer, this takes time\u003C/span>\n    \u003Cspan class=\"token function\">daddyLooksOnTheInternetForAnswer\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"\"\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\n      \u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">then\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">data\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n        \u003Cspan class=\"token comment\">// The promise is fulfilled\u003C/span>\n        \u003Cspan class=\"token keyword\">if\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>data\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n          \u003Cspan class=\"token function\">resolve\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"There are NO people in space right now!\"\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n        \u003Cspan class=\"token punctuation\">}\u003C/span> \u003Cspan class=\"token keyword\">else\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n          \u003Cspan class=\"token function\">resolve\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"Yes, these people are in space: \"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> data\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n        \u003Cspan class=\"token punctuation\">}\u003C/span>\n      \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\n      \u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">catch\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">error\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n        \u003Cspan class=\"token comment\">// Internet not working, father can't keep his promise\u003C/span>\n        \u003Cspan class=\"token comment\">// There was a problem, the promise was not fulfilled\u003C/span>\n        \u003Cspan class=\"token function\">reject\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"Sorry honey, I don't know if there are people in space\"\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n      \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n  \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\n\n\u003Cspan class=\"token comment\">// One day daddy makes a promise\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> promiseForGirl \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token function\">daddyMakesPromise\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token comment\">// Promise is pending!\u003C/span>\npromiseForGirl\n  \u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">then\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">response\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n    \u003Cspan class=\"token comment\">// Later, when daddy fullfils the promise\u003C/span>\n    \u003Cspan class=\"token keyword\">if\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>response \u003Cspan class=\"token operator\">!==\u003C/span> \u003Cspan class=\"token string\">\"There are NO people in space right now!\"\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n      \u003Cspan class=\"token comment\">// write the names in the journal\u003C/span>\n    \u003Cspan class=\"token punctuation\">}\u003C/span>\n  \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\n  \u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">catch\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">error\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n    \u003Cspan class=\"token comment\">// Later, when daddy can't fulfil the promise:\u003C/span>\n    \u003Cspan class=\"token comment\">// Ask mom\u003C/span>\n  \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Ch2 id=\"why-we-need-promises\">Why we need Promises?\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#why-we-need-promises\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>Promises are supposed to help to make the code more clear, specifically to solve the\n\u003Cem>callback hell\u003C/em> problem.\u003C/p>\n\u003Cp>Before Promises, we had to write code like this:\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token keyword\">function\u003C/span> \u003Cspan class=\"token function\">a\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">callback\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n    \u003Cspan class=\"token comment\">// do a XMLHttpRequest call\u003C/span>\n    \u003Cspan class=\"token keyword\">const\u003C/span> result \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token operator\">...\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n    \u003Cspan class=\"token comment\">// when done call the callback\u003C/span>\n    \u003Cspan class=\"token function\">callback\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>result\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\n\n\u003Cspan class=\"token keyword\">function\u003C/span> \u003Cspan class=\"token function\">b\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">data\u003Cspan class=\"token punctuation\">,\u003C/span> callback\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n        \u003Cspan class=\"token comment\">// do a XMLHttpRequest call\u003C/span>\n    \u003Cspan class=\"token keyword\">const\u003C/span> result \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token function\">use\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>resultsFromA\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n    \u003Cspan class=\"token comment\">// when done call the callback\u003C/span>\n    \u003Cspan class=\"token function\">callback\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>result\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\n\n\u003Cspan class=\"token comment\">// This is the callback hell (simplified here)\u003C/span>\n\u003Cspan class=\"token comment\">// Error handling is hard, you need to make sure all callbacks accept errors\u003C/span>\n\u003Cspan class=\"token function\">a\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token keyword\">function\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">resultsFromA\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">{\u003C/span>\n    \u003Cspan class=\"token function\">b\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>resultsFromA\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token keyword\">function\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">resultsFromB\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">{\u003C/span>\n        \u003Cspan class=\"token function\">c\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>resultsFromB\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token keyword\">function\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">resultsFromC\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">{\u003C/span>\n            \u003Cspan class=\"token function\">d\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>resultsFromC\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token keyword\">function\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">resultsFromD\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">{\u003C/span>\n                \u003Cspan class=\"token operator\">...\u003C/span>\n             \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\n        \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\n    \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>If we use promise, the code is much clearer because from a .then() we can return a new Promise:\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token keyword\">function\u003C/span> \u003Cspan class=\"token function\">a\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n    \u003Cspan class=\"token keyword\">return\u003C/span> \u003Cspan class=\"token function\">Promise\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">resolve\u003Cspan class=\"token punctuation\">,\u003C/span> reject\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n        \u003Cspan class=\"token operator\">...\u003C/span>\n    \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\n\n\u003Cspan class=\"token keyword\">function\u003C/span> \u003Cspan class=\"token function\">b\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">data\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n    \u003Cspan class=\"token keyword\">return\u003C/span> \u003Cspan class=\"token function\">Promise\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">resolve\u003Cspan class=\"token punctuation\">,\u003C/span> reject\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n        \u003Cspan class=\"token operator\">...\u003C/span>\n    \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\n\n\n\u003Cspan class=\"token comment\">// This is much nicer\u003C/span>\n\u003Cspan class=\"token function\">a\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\n \u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">then\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">resultFromA\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token function\">b\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>resultFromA\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\n \u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">then\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">resultFromB\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token function\">c\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>resultFromB\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\n \u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">then\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">resultFromC\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token function\">d\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>resultFromC\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\n \u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">catch\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">error\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n     \u003Cspan class=\"token comment\">// promises handle errors by default\u003C/span>\n     \u003Cspan class=\"token comment\">// if any promise is rejected, the rest of the promises are ignored\u003C/span>\n \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Ch3 id=\"resolve-and-reject\">Resolve and reject\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#resolve-and-reject\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cp>When it’s created a Promise is in \u003Cem>pending\u003C/em> state.\nIn the end, it should be fulfilled/resolved or rejected.\u003C/p>\n\u003Cp>How to implement code that makes a promise:\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token keyword\">return\u003C/span> \u003Cspan class=\"token function\">Promise\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">resolve\u003Cspan class=\"token punctuation\">,\u003C/span> reject\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n  \u003Cspan class=\"token comment\">// to indicate that the promise was fulfilled call resolve with data\u003C/span>\n  \u003Cspan class=\"token function\">resolve\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>data\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n  \u003Cspan class=\"token comment\">// to indicated that the promise was rejected, call reject with an error\u003C/span>\n  \u003Cspan class=\"token function\">reject\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>error\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n  \u003Cspan class=\"token comment\">// if resolve/reject are never called, the promise will always be pending\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Ch3 id=\"then-catch-finally\">then, catch, finally\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#then-catch-finally\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cp>How to implement code that receives a promise:\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">promise\n    \u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">then\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">result\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token comment\">/* called when resolve() was called inside the Promise */\u003C/span> \u003Cspan class=\"token punctuation\">)\u003C/span>\n    \u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">catch\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">error\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token comment\">/* called when reject() was called inside the Promise */\u003C/span> \u003Cspan class=\"token punctuation\">)\u003C/span>\n    \u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">finally\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span> \u003Cspan class=\"token parameter\">_\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token comment\">/* called when either resolve/reject was called inside the Promise */\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>Note that in some browsers, finally is not available on Promises.\u003C/p>\n\u003Ch3 id=\"working-with-several-promises-in-the-same-time\">Working with several promises in the same time\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#working-with-several-promises-in-the-same-time\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cp>Sometimes we can work with several promises in the same, for example, we can make\nseveral fetch calls to get some data.\u003C/p>\n\u003Cp>We can use \u003Ccode>Promise.all()\u003C/code> to resolve promises in parallel.\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">Promise\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">all\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">[\u003C/span>promiseA\u003Cspan class=\"token punctuation\">,\u003C/span> promiseB\u003Cspan class=\"token punctuation\">,\u003C/span> promiseC\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\n  \u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">then\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">results\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n    \u003Cspan class=\"token comment\">// this code is executed after all the promises are fulfilled\u003C/span>\n    \u003Cspan class=\"token comment\">// results is an array with individual results of each promise\u003C/span>\n  \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\n  \u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">catch\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">error\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n    \u003Cspan class=\"token comment\">// this code is executed if at least one promise is rejected\u003C/span>\n    \u003Cspan class=\"token comment\">// if one is reject, the rest are ignored\u003C/span>\n  \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>We can use \u003Ccode>Promise.race()\u003C/code> to resolve promises in parallel, but instead of waiting\nfor all to finish, it fulfills/rejects when the first promise is fulfilled or rejected.\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">Promise\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">race\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">[\u003C/span>promiseA\u003Cspan class=\"token punctuation\">,\u003C/span> promiseB\u003Cspan class=\"token punctuation\">,\u003C/span> promiseC\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\n  \u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">then\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">result\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n    \u003Cspan class=\"token comment\">// this code is executed after ONE the promises is fulfilled\u003C/span>\n  \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\n  \u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">catch\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">error\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n    \u003Cspan class=\"token comment\">// this code is executed if at least one promise is rejected\u003C/span>\n    \u003Cspan class=\"token comment\">// if one is reject, the rest are ignored\u003C/span>\n  \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>Finally, we have \u003Ccode>Promise.allSettled()\u003C/code> to work with promises in parallel.\nThis one waits for all promises to be \u003Ccode>settled\u003C/code>, either resolved or rejected.\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">Promise\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">allSettled\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">[\u003C/span>\n    promiseA\u003Cspan class=\"token punctuation\">,\u003C/span>\n    promiseB\u003Cspan class=\"token punctuation\">,\u003C/span>\n    promiseC\n\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\n\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">then\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">results\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n    \u003Cspan class=\"token comment\">// this code is executed after all the promises are settled\u003C/span>\n\n    \u003Cspan class=\"token comment\">// some of them might be resolved, some might be rejected\u003C/span>\n    results\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">forEach\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">result\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> console\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">log\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>result\u003Cspan class=\"token punctuation\">.\u003C/span>status\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\n\n\u003C/code>\u003C/pre>\n\u003Cp>All these work by fulfilling the promises in parallel. There is no Promise method\nto call them one after the other but as shown before we can do that manually:\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">Promise\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">resolve\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\n \u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">then\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">_\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> promiseA\u003Cspan class=\"token punctuation\">)\u003C/span>\n \u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">then\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">_\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> promiseB\u003Cspan class=\"token punctuation\">)\u003C/span>\n \u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">then\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">_\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> promiseC\u003Cspan class=\"token punctuation\">)\u003C/span>\n \u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">then\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">_\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> promiseD\u003Cspan class=\"token punctuation\">)\u003C/span>\n \u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">catch\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">error\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n\n\u003C/code>\u003C/pre>",{"headings":910,"imagePaths":923,"frontmatter":897},[911,914,917,920],{"depth":51,"slug":912,"text":913},"why-we-need-promises","Why we need Promises?",{"depth":88,"slug":915,"text":916},"resolve-and-reject","Resolve and reject",{"depth":88,"slug":918,"text":919},"then-catch-finally","then, catch, finally",{"depth":88,"slug":921,"text":922},"working-with-several-promises-in-the-same-time","Working with several promises in the same time",[],"migrate-to-gatsby-3",["Map",7,926],{"id":7,"data":927,"body":934,"filePath":935,"digest":936,"rendered":937,"legacyId":64},{"title":928,"pubDate":929,"description":930,"keywords":931,"twitterImage":932,"minutesRead":75,"excerpt":933},"Migrate to Gatsby v3",["Date","2021-08-16T00:00:00.000Z"],"Notes on migrating this website from Gatsby 2 to Gatsby 3",[564],"https://www.raresportan.com/twitter-cards/migrate-to-gatsby-v3.png","I decided to migrate this website to Gatsby 3 and write here how it went.\nThe first question is of course “Why you did it?” The main reason ","I decided to migrate this website to [Gatsby 3](https://www.gatsbyjs.com/blog/gatsby-v3/) and write here how it went.\n\nThe first question is of course \"Why you did it?\" The main reason is that I was using some libraries(npm packages) that were becoming\ndeprecated and the only solution was the upgrade. Another was the faster local development. For some folks, the higher Lighthouse scores promised by Gatsby 3 should be\na great reason to upgrade, but in my case, the score was already at 100.\n\nMaybe the \"incremental builds\" feature is why some people want to migrate. If you use some CMS and want fast feedback this is a must. (I'm using Netlify and incremental builds are supported)\n\nThe second question is \"Is the upgrade complicated?\" What I can say, it is not easy. Gatsby provides a [Migrating from v2 to v3](https://www.gatsbyjs.com/docs/reference/release-notes/migrating-from-v2-to-v3/)\nwith detailed steps for the migration and there are a lot of them. Fortunately, I could skip some of them because I didn't use some of that stuff.\n\nHere are the things I had to change:\n\n## Upgrade packages\n\nInside the project folder (where the project's package.json resides), use npm to install the latest Gatsby version:\n\n```bash\n> npm install gatsby@latest\n```\n\nUpgrading only Gatsby would be ideal but that's not the case. You need to upgrade all the others.\n\nFirst, you need to find out which packages are deprecated:\n\n```bash\n> npm outdated\n```\n\nThe result of that command is a table with the current and newer versions of each package you have in package.json:\n\n```\nPackage                               Current   Wanted   Latest  Location\n@babel/core                             7.9.0   7.15.0   7.15.0  node_modules/@babel/core\n@testing-library/react                 10.0.3   10.4.9   12.0.0  node_modules/@testing-library/react\nbabel-preset-gatsby                     0.3.6    0.3.6   1.11.0  node_modules/babel-preset-gatsby\n...\n```\n\nYou can update most of them using:\n\n```bash\n> npm update\n```\n\nIf, after the update, you run `npm outdated` again, and the table is not empty you need to update each one individually.\n\n## Use the correct node version\n\nFor Gatsby 3, the minimal Node.js version is 12.13.0. This means Gatsby will not run on older versions so you need to update Node.js also to\nat least v12.13.0 or you can use a tool like [nvm](https://github.com/nvm-sh/nvm) to switch between multiple versions of Node.js on the same machine.\n\nI deploy this site to Netlify, and by default, it uses an older version of Node.js so my new Gatsby 3 build failed to run.\nFollowing directions from[ Netlify's Manage build dependencies](https://docs.netlify.com/configure-builds/manage-dependencies/) I've created a `.node-version`\nfile with `14` as content. It means I want Node.js v14.\n\n## Other major requirements\n\nBesides Node.js 12.13.0, Gatsby 3 requires:\n\n- webpack 5\n- React 17\n- GraphQL 15\n- ESLint 7\n\nLucky me (heard some horror stories), I didn't have any webpack config, so nothing to move to v5, but you might not be so lucky.\n\n## Plugins update\n\nI'm using plain CSS here so I had to install `gatsby-plugin-postcss` plugin and configure it in `gatsby-config.js`:\n\n```js\nmodule.exports = {\n  ...\n  plugins: [\n    {\n      resolve: `gatsby-plugin-postcss`,\n      options: {\n        cssLoaderOptions: {\n          camelCase: false,\n        },\n        postCssPlugins: [require(`postcss-preset-env`)({ stage: 0 })],\n      },\n    }\n    ...\n  ]\n}\n```\n\nAnother plugin I need to switch to was `gatsby-plugin-image` instead of the old `gatsby-image`, [more details here](https://www.gatsbyjs.com/docs/reference/release-notes/image-migration-guide/).\n\n## Code updates\n\n### CSS modules\n\nCSS modules are imported as ES modules to allow a better tree shake and generate smaller files. If you have used a lot of CSS modules,\nit will a bit of work to change all that.\n\nBefore we just imported all as a single object:\n\n```js\nimport glitchStyles from \"./glitch.module.css\"\n\n\u003Cspan className={glitchStyles.container1}>\n```\n\nNow we need to be specific about what we import:\n\n```js\nimport  { container1 } from \"./glitch.module.css\"\n\n\u003Cspan className={container1}>\n```\n\n### Images\n\nUpdate the images to use the new `gatsby-plugin-image`:\n\nBefore we had:\n\n```js\nimport Image from \"gatsby-image\"\n\nchildImageSharp {\n  fixed(width: 48, height: 48) {\n    ...GatsbyImageSharpFixed\n  }\n}\n```\n\nIt now becomes:\n\n```js\nimport { Image } from \"gatsby-plugin-image\"\n\nchildImageSharp {\n  gatsbyImageData(layout: FIXED)\n}\n```\n\n## Camel Case components\n\nDon't know if this is React or Gatsby related (because I've upgraded both at the same time) but now I have to use Camel-case component names.\nFor example, before I've imported an `SEO` component, now I have to name it 'Seo' (which is a bit of a bummer)\n\n```js\nimport Seo from \"../components/seo\"\n\n...\n\u003CSeo\n    title={frontmatter.title}\n    description={frontmatter.description}\n/>\n```\n\n## Incremental builds\n\nAs I've said, Gatsby's \"incremental builds\" feature can be very useful, especially if you use some CMS and want fast feedback.\nInitially, this was supported only by the Gatsby Cloud, then also by Netlify, then with Gatsby v2.20.\n\nStarting with Gatsby v3, you can create your own CI/CD pipeline that supports incremental builds. The secret is that you need to\nhave the `.cache` and `public` folders, both generated by Gatsby. For more details, here is an example that uses Github Actions: [Gatsby Incremental Builds and Github Actions](https://raulmelo.dev/blog/cache-gatsby-github-actions)\n\n## Conclusion\n\nMigrating to Gatsby v3 from v2 is not so easy.\n\nEspecially the library update part can be very tricky, usually with a\nmajor version bump comes breaking changes so most likely you'll need to make some code changes.\n\nAnd if you want to upgrade because you want \"incremental builds\" be ready to implement your CI/CD that does that.","src/content/migrate-to-gatsby-3/index.md","9dfcd3036744b77e",{"html":938,"metadata":939},"\u003Cp>I decided to migrate this website to \u003Ca href=\"https://www.gatsbyjs.com/blog/gatsby-v3/\">Gatsby 3\u003C/a> and write here how it went.\u003C/p>\n\u003Cp>The first question is of course “Why you did it?” The main reason is that I was using some libraries(npm packages) that were becoming\ndeprecated and the only solution was the upgrade. Another was the faster local development. For some folks, the higher Lighthouse scores promised by Gatsby 3 should be\na great reason to upgrade, but in my case, the score was already at 100.\u003C/p>\n\u003Cp>Maybe the “incremental builds” feature is why some people want to migrate. If you use some CMS and want fast feedback this is a must. (I’m using Netlify and incremental builds are supported)\u003C/p>\n\u003Cp>The second question is “Is the upgrade complicated?” What I can say, it is not easy. Gatsby provides a \u003Ca href=\"https://www.gatsbyjs.com/docs/reference/release-notes/migrating-from-v2-to-v3/\">Migrating from v2 to v3\u003C/a>\nwith detailed steps for the migration and there are a lot of them. Fortunately, I could skip some of them because I didn’t use some of that stuff.\u003C/p>\n\u003Cp>Here are the things I had to change:\u003C/p>\n\u003Ch2 id=\"upgrade-packages\">Upgrade packages\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#upgrade-packages\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>Inside the project folder (where the project’s package.json resides), use npm to install the latest Gatsby version:\u003C/p>\n\u003Cpre class=\"language-bash\" data-language=\"bash\">\u003Ccode is:raw=\"\" class=\"language-bash\">\u003Cspan class=\"token operator\">>\u003C/span> \u003Cspan class=\"token function\">npm\u003C/span> \u003Cspan class=\"token function\">install\u003C/span> gatsby@latest\n\u003C/code>\u003C/pre>\n\u003Cp>Upgrading only Gatsby would be ideal but that’s not the case. You need to upgrade all the others.\u003C/p>\n\u003Cp>First, you need to find out which packages are deprecated:\u003C/p>\n\u003Cpre class=\"language-bash\" data-language=\"bash\">\u003Ccode is:raw=\"\" class=\"language-bash\">\u003Cspan class=\"token operator\">>\u003C/span> \u003Cspan class=\"token function\">npm\u003C/span> outdated\n\u003C/code>\u003C/pre>\n\u003Cp>The result of that command is a table with the current and newer versions of each package you have in package.json:\u003C/p>\n\u003Cpre class=\"language-plaintext\" data-language=\"plaintext\">\u003Ccode is:raw=\"\" class=\"language-plaintext\">Package                               Current   Wanted   Latest  Location\n@babel/core                             7.9.0   7.15.0   7.15.0  node_modules/@babel/core\n@testing-library/react                 10.0.3   10.4.9   12.0.0  node_modules/@testing-library/react\nbabel-preset-gatsby                     0.3.6    0.3.6   1.11.0  node_modules/babel-preset-gatsby\n...\n\u003C/code>\u003C/pre>\n\u003Cp>You can update most of them using:\u003C/p>\n\u003Cpre class=\"language-bash\" data-language=\"bash\">\u003Ccode is:raw=\"\" class=\"language-bash\">\u003Cspan class=\"token operator\">>\u003C/span> \u003Cspan class=\"token function\">npm\u003C/span> update\n\u003C/code>\u003C/pre>\n\u003Cp>If, after the update, you run \u003Ccode>npm outdated\u003C/code> again, and the table is not empty you need to update each one individually.\u003C/p>\n\u003Ch2 id=\"use-the-correct-node-version\">Use the correct node version\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#use-the-correct-node-version\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>For Gatsby 3, the minimal Node.js version is 12.13.0. This means Gatsby will not run on older versions so you need to update Node.js also to\nat least v12.13.0 or you can use a tool like \u003Ca href=\"https://github.com/nvm-sh/nvm\">nvm\u003C/a> to switch between multiple versions of Node.js on the same machine.\u003C/p>\n\u003Cp>I deploy this site to Netlify, and by default, it uses an older version of Node.js so my new Gatsby 3 build failed to run.\nFollowing directions from\u003Ca href=\"https://docs.netlify.com/configure-builds/manage-dependencies/\"> Netlify’s Manage build dependencies\u003C/a> I’ve created a \u003Ccode>.node-version\u003C/code>\nfile with \u003Ccode>14\u003C/code> as content. It means I want Node.js v14.\u003C/p>\n\u003Ch2 id=\"other-major-requirements\">Other major requirements\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#other-major-requirements\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>Besides Node.js 12.13.0, Gatsby 3 requires:\u003C/p>\n\u003Cul>\n\u003Cli>webpack 5\u003C/li>\n\u003Cli>React 17\u003C/li>\n\u003Cli>GraphQL 15\u003C/li>\n\u003Cli>ESLint 7\u003C/li>\n\u003C/ul>\n\u003Cp>Lucky me (heard some horror stories), I didn’t have any webpack config, so nothing to move to v5, but you might not be so lucky.\u003C/p>\n\u003Ch2 id=\"plugins-update\">Plugins update\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#plugins-update\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>I’m using plain CSS here so I had to install \u003Ccode>gatsby-plugin-postcss\u003C/code> plugin and configure it in \u003Ccode>gatsby-config.js\u003C/code>:\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">module\u003Cspan class=\"token punctuation\">.\u003C/span>exports \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n  \u003Cspan class=\"token operator\">...\u003C/span>\n  \u003Cspan class=\"token literal-property property\">plugins\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>\n    \u003Cspan class=\"token punctuation\">{\u003C/span>\n      \u003Cspan class=\"token literal-property property\">resolve\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token template-string\">\u003Cspan class=\"token template-punctuation string\">`\u003C/span>\u003Cspan class=\"token string\">gatsby-plugin-postcss\u003C/span>\u003Cspan class=\"token template-punctuation string\">`\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n      \u003Cspan class=\"token literal-property property\">options\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n        \u003Cspan class=\"token literal-property property\">cssLoaderOptions\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n          \u003Cspan class=\"token literal-property property\">camelCase\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token boolean\">false\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n        \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n        \u003Cspan class=\"token literal-property property\">postCssPlugins\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>\u003Cspan class=\"token function\">require\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token template-string\">\u003Cspan class=\"token template-punctuation string\">`\u003C/span>\u003Cspan class=\"token string\">postcss-preset-env\u003C/span>\u003Cspan class=\"token template-punctuation string\">`\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">{\u003C/span> \u003Cspan class=\"token literal-property property\">stage\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token number\">0\u003C/span> \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n      \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n    \u003Cspan class=\"token punctuation\">}\u003C/span>\n    \u003Cspan class=\"token operator\">...\u003C/span>\n  \u003Cspan class=\"token punctuation\">]\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>Another plugin I need to switch to was \u003Ccode>gatsby-plugin-image\u003C/code> instead of the old \u003Ccode>gatsby-image\u003C/code>, \u003Ca href=\"https://www.gatsbyjs.com/docs/reference/release-notes/image-migration-guide/\">more details here\u003C/a>.\u003C/p>\n\u003Ch2 id=\"code-updates\">Code updates\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#code-updates\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Ch3 id=\"css-modules\">CSS modules\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#css-modules\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cp>CSS modules are imported as ES modules to allow a better tree shake and generate smaller files. If you have used a lot of CSS modules,\nit will a bit of work to change all that.\u003C/p>\n\u003Cp>Before we just imported all as a single object:\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token keyword\">import\u003C/span> glitchStyles \u003Cspan class=\"token keyword\">from\u003C/span> \u003Cspan class=\"token string\">\"./glitch.module.css\"\u003C/span>\n\n\u003Cspan class=\"token operator\">&#x3C;\u003C/span>span className\u003Cspan class=\"token operator\">=\u003C/span>\u003Cspan class=\"token punctuation\">{\u003C/span>glitchStyles\u003Cspan class=\"token punctuation\">.\u003C/span>container1\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token operator\">>\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>Now we need to be specific about what we import:\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token keyword\">import\u003C/span>  \u003Cspan class=\"token punctuation\">{\u003C/span> container1 \u003Cspan class=\"token punctuation\">}\u003C/span> \u003Cspan class=\"token keyword\">from\u003C/span> \u003Cspan class=\"token string\">\"./glitch.module.css\"\u003C/span>\n\n\u003Cspan class=\"token operator\">&#x3C;\u003C/span>span className\u003Cspan class=\"token operator\">=\u003C/span>\u003Cspan class=\"token punctuation\">{\u003C/span>container1\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token operator\">>\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Ch3 id=\"images\">Images\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#images\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cp>Update the images to use the new \u003Ccode>gatsby-plugin-image\u003C/code>:\u003C/p>\n\u003Cp>Before we had:\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token keyword\">import\u003C/span> Image \u003Cspan class=\"token keyword\">from\u003C/span> \u003Cspan class=\"token string\">\"gatsby-image\"\u003C/span>\n\nchildImageSharp \u003Cspan class=\"token punctuation\">{\u003C/span>\n  \u003Cspan class=\"token function\">fixed\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">\u003Cspan class=\"token literal-property property\">width\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token number\">48\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token literal-property property\">height\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token number\">48\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n    \u003Cspan class=\"token operator\">...\u003C/span>GatsbyImageSharpFixed\n  \u003Cspan class=\"token punctuation\">}\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>It now becomes:\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token keyword\">import\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span> Image \u003Cspan class=\"token punctuation\">}\u003C/span> \u003Cspan class=\"token keyword\">from\u003C/span> \u003Cspan class=\"token string\">\"gatsby-plugin-image\"\u003C/span>\n\nchildImageSharp \u003Cspan class=\"token punctuation\">{\u003C/span>\n  \u003Cspan class=\"token function\">gatsbyImageData\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>layout\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token constant\">FIXED\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Ch2 id=\"camel-case-components\">Camel Case components\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#camel-case-components\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>Don’t know if this is React or Gatsby related (because I’ve upgraded both at the same time) but now I have to use Camel-case component names.\nFor example, before I’ve imported an \u003Ccode>SEO\u003C/code> component, now I have to name it ‘Seo’ (which is a bit of a bummer)\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token keyword\">import\u003C/span> Seo \u003Cspan class=\"token keyword\">from\u003C/span> \u003Cspan class=\"token string\">\"../components/seo\"\u003C/span>\n\n\u003Cspan class=\"token operator\">...\u003C/span>\n\u003Cspan class=\"token operator\">&#x3C;\u003C/span>Seo\n    title\u003Cspan class=\"token operator\">=\u003C/span>\u003Cspan class=\"token punctuation\">{\u003C/span>frontmatter\u003Cspan class=\"token punctuation\">.\u003C/span>title\u003Cspan class=\"token punctuation\">}\u003C/span>\n    description\u003Cspan class=\"token operator\">=\u003C/span>\u003Cspan class=\"token punctuation\">{\u003C/span>frontmatter\u003Cspan class=\"token punctuation\">.\u003C/span>description\u003Cspan class=\"token punctuation\">}\u003C/span>\n\u003Cspan class=\"token operator\">/\u003C/span>\u003Cspan class=\"token operator\">>\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Ch2 id=\"incremental-builds\">Incremental builds\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#incremental-builds\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>As I’ve said, Gatsby’s “incremental builds” feature can be very useful, especially if you use some CMS and want fast feedback.\nInitially, this was supported only by the Gatsby Cloud, then also by Netlify, then with Gatsby v2.20.\u003C/p>\n\u003Cp>Starting with Gatsby v3, you can create your own CI/CD pipeline that supports incremental builds. The secret is that you need to\nhave the \u003Ccode>.cache\u003C/code> and \u003Ccode>public\u003C/code> folders, both generated by Gatsby. For more details, here is an example that uses Github Actions: \u003Ca href=\"https://raulmelo.dev/blog/cache-gatsby-github-actions\">Gatsby Incremental Builds and Github Actions\u003C/a>\u003C/p>\n\u003Ch2 id=\"conclusion\">Conclusion\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#conclusion\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>Migrating to Gatsby v3 from v2 is not so easy.\u003C/p>\n\u003Cp>Especially the library update part can be very tricky, usually with a\nmajor version bump comes breaking changes so most likely you’ll need to make some code changes.\u003C/p>\n\u003Cp>And if you want to upgrade because you want “incremental builds” be ready to implement your CI/CD that does that.\u003C/p>",{"headings":940,"imagePaths":969,"frontmatter":927},[941,944,947,950,953,956,959,962,965,968],{"depth":51,"slug":942,"text":943},"upgrade-packages","Upgrade packages",{"depth":51,"slug":945,"text":946},"use-the-correct-node-version","Use the correct node version",{"depth":51,"slug":948,"text":949},"other-major-requirements","Other major requirements",{"depth":51,"slug":951,"text":952},"plugins-update","Plugins update",{"depth":51,"slug":954,"text":955},"code-updates","Code updates",{"depth":88,"slug":957,"text":958},"css-modules","CSS modules",{"depth":88,"slug":960,"text":961},"images","Images",{"depth":51,"slug":963,"text":964},"camel-case-components","Camel Case components",{"depth":51,"slug":966,"text":967},"incremental-builds","Incremental builds",{"depth":51,"slug":157,"text":158},[],"make-the-code-efficient",["Map",7,972],{"id":7,"data":973,"body":980,"filePath":981,"digest":982,"rendered":983,"legacyId":64},{"title":974,"pubDate":975,"description":976,"keywords":977,"twitterImage":978,"minutesRead":194,"excerpt":979},"Make the code efficient",["Date","2021-03-06T00:00:00.000Z"],"Software that works is not enough. It must be fast and efficient. Here are some ideas.",[225],"https://www.raresportan.com/twitter-cards/make-the-code-efficient.png","One quote that I hear a lot is this one: “Premature optimization is the root of all evil.” I hate that quote because\nis used by people as an","One quote that I hear a lot is this one: “Premature optimization is the root of all evil.” I hate that quote because\nis used by people as an excuse to make slow and laggy code.\n\nThey say: _don't tell me about performance and optimizations, we should not care about such things now, we will do it later._\nThat quote is out of context. If we look at the context, we get a different interpretation:\n\n> We should forget about small efficiencies, say about 97% of the time: premature optimization is the root of all evil. Yet, we should not pass up our opportunities in that critical 3%. - Donald Knuth\n\nForget about the small things but do not skip **the critical 3%.**\n\nAt the function level, you can optimize later. But a bad design cannot be fixed. So you need to spend some time thinking about the design of your software.\n\nAt some point, I and my team released an app that was very hard and tedious to do. When we believed we're out of the woods, we received the following\nfeedback from our client: _\"Everything works correctly, but it must run *ten times faster*.\"_ We had to redesign almost the whole thing.\n\nWhat do you need to do to make the software more efficient? Here are some ideas.\n\n## Use your common sense\n\nMove around the smallest amount of data. I worked on two similar projects. Both had a UI and a server.\nThe amount of data moved between the UI and server was much higher in one of the projects. One project always\nmoved around ALL the data and the other project moved around ONLY what was changed.\n\nProcess the smallest amount of data. Back to the two projects example:\n\n- In the first case, you always get from the server the response with ALL the data. So you have to check all the data if is changed or not.\n- In the other case, you get a small response with partial data from the server. Processed data is much smaller in this case.\n\n### Outcome:\n\n- CPU usage will decrease\n- Memory usage will decrease\n\n## Skip unnecessary processing\n\nIf the value you are interested in doesn't change, skip the value change handling.\nHow do you know if a value has changed? You keep a version and compare it with the new version. What is the fastest way to compare two values? You compare them by reference.\n\nThis is one of the strong points of functional programming where you never mutate data.\n\n### Outcome:\n\n- CPU usage will decrease\n- Memory usage will _increase_\n\n## Cache expensive processing results\n\nCaching network resources like images and other static files is a known practice.\nBut you can also cache the results of expensive processing. If you have pure factions that for the same input return the same output, you can cache the outputs.\n\nAlso, think about the API calls whose responses can be cached. You don't want to do the same API call every minute and get back the same response.\nYes, cache invalidation is complicated, but the gains are worth it.\n\n### Outcome:\n\n- CPU usage will decrease\n- Memory usage will _increase_\n- Network traffic will decrease\n\n## Batch process things\n\nDo this when the setup/teardown of the processing is expensive.\n\nI'll never forget one issue I had on a project, the system was incredibly laggy because of the logger. In most systems, the logger writes strings to a file on disk synchronously. Each time you log something, the file must be open, blocked from other writes, released, etc.\nWorking with the disk is very slow.\n\nA simple improvement of a logger would be to gather multiple log messages in a buffer and write them only when the buffer reaches a limit or a certain amount of time has passed.\nThis small change in the logger had made my system much more performant.\n\n### Outcome:\n\n- CPU usage will decrease\n- Memory usage will _increase_\n\n## Parallel processing\n\nTry to decouple auxiliary and secondary processing from the core one. Things like logging, audits, etc., should run on separate processes/threads so they don’t interfere as\nmuch with the core processing.\n\nThis is simple when you use functional programming, but had when everything can mutate objects anytime.\n\n### Outcome:\n\n- All CPU cores will be used\n\n## Reuse expensive things\n\nWe reuse a car but we throw away plastic coffee cups. Some things are expensive and some are not, so - as in real life where you don't buy a new car\nevery time you need a drive - treat expensive things with care.\n\nCreating and destroying things in memory is sometimes expensive and slow. In these cases keep the expensive objects in pools.\nWhen you need it get it from the pool instead of creating it. When you are done with it, release it back to the pool instead of destroying it.\n\n### Outcome:\n\n- CPU usage will decrease\n- Memory usage will _increase_\n\n## Use shared data templates\n\nOr how to reduce memory usage.\n\nImagine you have a data structure for 1 million objects. Each object has some common properties with others but also has\nunique properties. Those common properties like size, color, type, etc., are duplicated 1 million times in memory, once for each object.\n\nA better option is to create a single object, called Template that has the size, color, type, etc., and an extra id.\nIn all the objects replace the common properties with the id of the template. Each time you need to access them just get them from the associated template.\n\nThis technique, called the [Flyweight pattern](https://en.wikipedia.org/wiki/Flyweight_pattern) is one of the very few ways to reduce memory usage.\n\n### Outcome:\n\n- Memory usage will decrease\n\n## Things you need to know about optimizations\n\n- Measure something before you optimize it. How do you know if you are making it better or worse? Or which optimization works best? Have to measure and compare the results and see what works best.\n- Always improve the performance of the weakest link. Your code is as fast as the slowest piece of your code.\n- Improving one module doesn’t always mean the same overall performance improvement. For example, if you improve the performance of a module by 50% and the module usage is 10% of the entire app, you can see a 5% overall improvement. You get the same 5% improvement if you improve by 10% the performance of a module with 50% usage.\n- Use the right algorithm or data structure. There are some types of problems that can be solved very efficiently by some algorithms. If you don’t know the algorithms, you cannot optimize the code.\n\nSoftware that works is not enough. It must be fast and efficient.","src/content/make-the-code-efficient/index.md","6327efa187a02fcd",{"html":984,"metadata":985},"\u003Cp>One quote that I hear a lot is this one: “Premature optimization is the root of all evil.” I hate that quote because\nis used by people as an excuse to make slow and laggy code.\u003C/p>\n\u003Cp>They say: \u003Cem>don’t tell me about performance and optimizations, we should not care about such things now, we will do it later.\u003C/em>\nThat quote is out of context. If we look at the context, we get a different interpretation:\u003C/p>\n\u003Cblockquote>\n\u003Cp>We should forget about small efficiencies, say about 97% of the time: premature optimization is the root of all evil. Yet, we should not pass up our opportunities in that critical 3%. - Donald Knuth\u003C/p>\n\u003C/blockquote>\n\u003Cp>Forget about the small things but do not skip \u003Cstrong>the critical 3%.\u003C/strong>\u003C/p>\n\u003Cp>At the function level, you can optimize later. But a bad design cannot be fixed. So you need to spend some time thinking about the design of your software.\u003C/p>\n\u003Cp>At some point, I and my team released an app that was very hard and tedious to do. When we believed we’re out of the woods, we received the following\nfeedback from our client: \u003Cem>“Everything works correctly, but it must run \u003Cem>ten times faster\u003C/em>.”\u003C/em> We had to redesign almost the whole thing.\u003C/p>\n\u003Cp>What do you need to do to make the software more efficient? Here are some ideas.\u003C/p>\n\u003Ch2 id=\"use-your-common-sense\">Use your common sense\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#use-your-common-sense\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>Move around the smallest amount of data. I worked on two similar projects. Both had a UI and a server.\nThe amount of data moved between the UI and server was much higher in one of the projects. One project always\nmoved around ALL the data and the other project moved around ONLY what was changed.\u003C/p>\n\u003Cp>Process the smallest amount of data. Back to the two projects example:\u003C/p>\n\u003Cul>\n\u003Cli>In the first case, you always get from the server the response with ALL the data. So you have to check all the data if is changed or not.\u003C/li>\n\u003Cli>In the other case, you get a small response with partial data from the server. Processed data is much smaller in this case.\u003C/li>\n\u003C/ul>\n\u003Ch3 id=\"outcome\">Outcome:\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#outcome\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cul>\n\u003Cli>CPU usage will decrease\u003C/li>\n\u003Cli>Memory usage will decrease\u003C/li>\n\u003C/ul>\n\u003Ch2 id=\"skip-unnecessary-processing\">Skip unnecessary processing\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#skip-unnecessary-processing\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>If the value you are interested in doesn’t change, skip the value change handling.\nHow do you know if a value has changed? You keep a version and compare it with the new version. What is the fastest way to compare two values? You compare them by reference.\u003C/p>\n\u003Cp>This is one of the strong points of functional programming where you never mutate data.\u003C/p>\n\u003Ch3 id=\"outcome-1\">Outcome:\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#outcome-1\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cul>\n\u003Cli>CPU usage will decrease\u003C/li>\n\u003Cli>Memory usage will \u003Cem>increase\u003C/em>\u003C/li>\n\u003C/ul>\n\u003Ch2 id=\"cache-expensive-processing-results\">Cache expensive processing results\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#cache-expensive-processing-results\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>Caching network resources like images and other static files is a known practice.\nBut you can also cache the results of expensive processing. If you have pure factions that for the same input return the same output, you can cache the outputs.\u003C/p>\n\u003Cp>Also, think about the API calls whose responses can be cached. You don’t want to do the same API call every minute and get back the same response.\nYes, cache invalidation is complicated, but the gains are worth it.\u003C/p>\n\u003Ch3 id=\"outcome-2\">Outcome:\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#outcome-2\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cul>\n\u003Cli>CPU usage will decrease\u003C/li>\n\u003Cli>Memory usage will \u003Cem>increase\u003C/em>\u003C/li>\n\u003Cli>Network traffic will decrease\u003C/li>\n\u003C/ul>\n\u003Ch2 id=\"batch-process-things\">Batch process things\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#batch-process-things\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>Do this when the setup/teardown of the processing is expensive.\u003C/p>\n\u003Cp>I’ll never forget one issue I had on a project, the system was incredibly laggy because of the logger. In most systems, the logger writes strings to a file on disk synchronously. Each time you log something, the file must be open, blocked from other writes, released, etc.\nWorking with the disk is very slow.\u003C/p>\n\u003Cp>A simple improvement of a logger would be to gather multiple log messages in a buffer and write them only when the buffer reaches a limit or a certain amount of time has passed.\nThis small change in the logger had made my system much more performant.\u003C/p>\n\u003Ch3 id=\"outcome-3\">Outcome:\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#outcome-3\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cul>\n\u003Cli>CPU usage will decrease\u003C/li>\n\u003Cli>Memory usage will \u003Cem>increase\u003C/em>\u003C/li>\n\u003C/ul>\n\u003Ch2 id=\"parallel-processing\">Parallel processing\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#parallel-processing\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>Try to decouple auxiliary and secondary processing from the core one. Things like logging, audits, etc., should run on separate processes/threads so they don’t interfere as\nmuch with the core processing.\u003C/p>\n\u003Cp>This is simple when you use functional programming, but had when everything can mutate objects anytime.\u003C/p>\n\u003Ch3 id=\"outcome-4\">Outcome:\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#outcome-4\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cul>\n\u003Cli>All CPU cores will be used\u003C/li>\n\u003C/ul>\n\u003Ch2 id=\"reuse-expensive-things\">Reuse expensive things\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#reuse-expensive-things\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>We reuse a car but we throw away plastic coffee cups. Some things are expensive and some are not, so - as in real life where you don’t buy a new car\nevery time you need a drive - treat expensive things with care.\u003C/p>\n\u003Cp>Creating and destroying things in memory is sometimes expensive and slow. In these cases keep the expensive objects in pools.\nWhen you need it get it from the pool instead of creating it. When you are done with it, release it back to the pool instead of destroying it.\u003C/p>\n\u003Ch3 id=\"outcome-5\">Outcome:\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#outcome-5\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cul>\n\u003Cli>CPU usage will decrease\u003C/li>\n\u003Cli>Memory usage will \u003Cem>increase\u003C/em>\u003C/li>\n\u003C/ul>\n\u003Ch2 id=\"use-shared-data-templates\">Use shared data templates\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#use-shared-data-templates\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>Or how to reduce memory usage.\u003C/p>\n\u003Cp>Imagine you have a data structure for 1 million objects. Each object has some common properties with others but also has\nunique properties. Those common properties like size, color, type, etc., are duplicated 1 million times in memory, once for each object.\u003C/p>\n\u003Cp>A better option is to create a single object, called Template that has the size, color, type, etc., and an extra id.\nIn all the objects replace the common properties with the id of the template. Each time you need to access them just get them from the associated template.\u003C/p>\n\u003Cp>This technique, called the \u003Ca href=\"https://en.wikipedia.org/wiki/Flyweight_pattern\">Flyweight pattern\u003C/a> is one of the very few ways to reduce memory usage.\u003C/p>\n\u003Ch3 id=\"outcome-6\">Outcome:\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#outcome-6\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cul>\n\u003Cli>Memory usage will decrease\u003C/li>\n\u003C/ul>\n\u003Ch2 id=\"things-you-need-to-know-about-optimizations\">Things you need to know about optimizations\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#things-you-need-to-know-about-optimizations\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cul>\n\u003Cli>Measure something before you optimize it. How do you know if you are making it better or worse? Or which optimization works best? Have to measure and compare the results and see what works best.\u003C/li>\n\u003Cli>Always improve the performance of the weakest link. Your code is as fast as the slowest piece of your code.\u003C/li>\n\u003Cli>Improving one module doesn’t always mean the same overall performance improvement. For example, if you improve the performance of a module by 50% and the module usage is 10% of the entire app, you can see a 5% overall improvement. You get the same 5% improvement if you improve by 10% the performance of a module with 50% usage.\u003C/li>\n\u003Cli>Use the right algorithm or data structure. There are some types of problems that can be solved very efficiently by some algorithms. If you don’t know the algorithms, you cannot optimize the code.\u003C/li>\n\u003C/ul>\n\u003Cp>Software that works is not enough. It must be fast and efficient.\u003C/p>",{"headings":986,"imagePaths":1026,"frontmatter":973},[987,990,993,996,998,1001,1003,1006,1008,1011,1013,1016,1018,1021,1023],{"depth":51,"slug":988,"text":989},"use-your-common-sense","Use your common sense",{"depth":88,"slug":991,"text":992},"outcome","Outcome:",{"depth":51,"slug":994,"text":995},"skip-unnecessary-processing","Skip unnecessary processing",{"depth":88,"slug":997,"text":992},"outcome-1",{"depth":51,"slug":999,"text":1000},"cache-expensive-processing-results","Cache expensive processing results",{"depth":88,"slug":1002,"text":992},"outcome-2",{"depth":51,"slug":1004,"text":1005},"batch-process-things","Batch process things",{"depth":88,"slug":1007,"text":992},"outcome-3",{"depth":51,"slug":1009,"text":1010},"parallel-processing","Parallel processing",{"depth":88,"slug":1012,"text":992},"outcome-4",{"depth":51,"slug":1014,"text":1015},"reuse-expensive-things","Reuse expensive things",{"depth":88,"slug":1017,"text":992},"outcome-5",{"depth":51,"slug":1019,"text":1020},"use-shared-data-templates","Use shared data templates",{"depth":88,"slug":1022,"text":992},"outcome-6",{"depth":51,"slug":1024,"text":1025},"things-you-need-to-know-about-optimizations","Things you need to know about optimizations",[],"object-change-detection",["Map",7,1029],{"id":7,"data":1030,"body":1038,"filePath":1039,"digest":1040,"rendered":1041,"legacyId":64},{"title":1031,"pubDate":1032,"description":1033,"keywords":1034,"twitterImage":1035,"minutesRead":1036,"excerpt":1037},"How to detect object changes in JavaScript",["Date","2020-11-20T00:00:00.000Z"],"Being able to understand what happens in a complex system is very important. Most problems can be fixed correctly only if you understand what's going on. Object changes in JavaScript are hard to debug.",[14],"https://www.raresportan.com/twitter-cards/how-to-detect-object-changes-in-javascript.png","2 min read","Recently I’ve run into a frustrating issue: I worked with another team and we were supposed to exchange\nsome objects between us. The problem","Recently I've run into a frustrating issue: I worked with another team and we were supposed to exchange\nsome objects between us. The problem was that the objects were supposed to be changed/updated between the start\nand the end of the journey. And of course, something was changing the objects in a bad way.\n\nThird-party libraries were used by both ends, a lot of configurations and settings done by many people for many purposes.\nThis was not a walk in the park.\n\nI controlled only the start of the journey, someone else was using the objects at the end. So we asked each other: Who is the culprit?\nBecause each of us was using a different JavaScript library, we had to put the objects on `window`. Every JavaScript piece of code\nhas access to `window` so finding the culprit is not easy.\n\nSo, at the start of the journey I put an object on window like this:\n\n```js\nwindow.pageData = {\n  pageName: \"Payment\",\n  userStatus: \"anonymous\",\n  event: [\"payByCard\"],\n};\n```\n\nFor some reason they receive:\n\n```js\nwindow.pageData = {\n  pageName: \"\",\n  userStatus: \"\",\n  event: [],\n};\n```\n\nWhat can be done in this case? Blaming each other :) is one option, but not very helpful.\n\nThe first thing I did was to freeze the object, to see if they get it that way:\n\n```js\nwindow.pageData = Object.freeze({\n  pageName: \"Payment\",\n  userStatus: \"anonymous\",\n  event: [\"payByCard\"],\n});\n```\n\nThat helped, it was clear that I was sending the correct data in some cases.\nBut there were still some cases that broke some legit functionality that needed to update the object.\n\nThe second thing I did was to create a Proxy around the data, and log each change to it:\n\n```js\nwindow.pageData = new Proxy(\n  {\n    pageName: \"Payment\",\n    userStatus: \"anonymous\",\n    event: [\"payByCard\"],\n  },\n  {\n    set: function (target, key, value) {\n      target[key] = value;\n\n      try {\n        throw new Error(\"window.pageData changed by something!\");\n      } catch (err) {\n        console.warn(err);\n      }\n      return true;\n    },\n  }\n);\n```\n\nEach time something was changing the object, a console.warn was triggered indicating the JavaScript source that attempted\nthe change. Busted! We now understood what happened and were able to fix the issues.\n\nBottom line: Being able to understand what happens in a complex system is very important.\nMost problems can be fixed correctly only if you understand what's going on.","src/content/object-change-detection/index.md","0a53d92c0bfe7e68",{"html":1042,"metadata":1043},"\u003Cp>Recently I’ve run into a frustrating issue: I worked with another team and we were supposed to exchange\nsome objects between us. The problem was that the objects were supposed to be changed/updated between the start\nand the end of the journey. And of course, something was changing the objects in a bad way.\u003C/p>\n\u003Cp>Third-party libraries were used by both ends, a lot of configurations and settings done by many people for many purposes.\nThis was not a walk in the park.\u003C/p>\n\u003Cp>I controlled only the start of the journey, someone else was using the objects at the end. So we asked each other: Who is the culprit?\nBecause each of us was using a different JavaScript library, we had to put the objects on \u003Ccode>window\u003C/code>. Every JavaScript piece of code\nhas access to \u003Ccode>window\u003C/code> so finding the culprit is not easy.\u003C/p>\n\u003Cp>So, at the start of the journey I put an object on window like this:\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">window\u003Cspan class=\"token punctuation\">.\u003C/span>pageData \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n  \u003Cspan class=\"token literal-property property\">pageName\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token string\">\"Payment\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n  \u003Cspan class=\"token literal-property property\">userStatus\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token string\">\"anonymous\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n  \u003Cspan class=\"token literal-property property\">event\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>\u003Cspan class=\"token string\">\"payByCard\"\u003C/span>\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>For some reason they receive:\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">window\u003Cspan class=\"token punctuation\">.\u003C/span>pageData \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n  \u003Cspan class=\"token literal-property property\">pageName\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token string\">\"\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n  \u003Cspan class=\"token literal-property property\">userStatus\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token string\">\"\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n  \u003Cspan class=\"token literal-property property\">event\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>What can be done in this case? Blaming each other :) is one option, but not very helpful.\u003C/p>\n\u003Cp>The first thing I did was to freeze the object, to see if they get it that way:\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">window\u003Cspan class=\"token punctuation\">.\u003C/span>pageData \u003Cspan class=\"token operator\">=\u003C/span> Object\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">freeze\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">{\u003C/span>\n  \u003Cspan class=\"token literal-property property\">pageName\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token string\">\"Payment\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n  \u003Cspan class=\"token literal-property property\">userStatus\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token string\">\"anonymous\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n  \u003Cspan class=\"token literal-property property\">event\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>\u003Cspan class=\"token string\">\"payByCard\"\u003C/span>\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>That helped, it was clear that I was sending the correct data in some cases.\nBut there were still some cases that broke some legit functionality that needed to update the object.\u003C/p>\n\u003Cp>The second thing I did was to create a Proxy around the data, and log each change to it:\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">window\u003Cspan class=\"token punctuation\">.\u003C/span>pageData \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token keyword\">new\u003C/span> \u003Cspan class=\"token class-name\">Proxy\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\n  \u003Cspan class=\"token punctuation\">{\u003C/span>\n    \u003Cspan class=\"token literal-property property\">pageName\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token string\">\"Payment\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n    \u003Cspan class=\"token literal-property property\">userStatus\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token string\">\"anonymous\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n    \u003Cspan class=\"token literal-property property\">event\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>\u003Cspan class=\"token string\">\"payByCard\"\u003C/span>\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n  \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n  \u003Cspan class=\"token punctuation\">{\u003C/span>\n    \u003Cspan class=\"token function-variable function\">set\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token keyword\">function\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">target\u003Cspan class=\"token punctuation\">,\u003C/span> key\u003Cspan class=\"token punctuation\">,\u003C/span> value\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n      target\u003Cspan class=\"token punctuation\">[\u003C/span>key\u003Cspan class=\"token punctuation\">]\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span> value\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n      \u003Cspan class=\"token keyword\">try\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n        \u003Cspan class=\"token keyword\">throw\u003C/span> \u003Cspan class=\"token keyword\">new\u003C/span> \u003Cspan class=\"token class-name\">Error\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"window.pageData changed by something!\"\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n      \u003Cspan class=\"token punctuation\">}\u003C/span> \u003Cspan class=\"token keyword\">catch\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>err\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n        console\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">warn\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>err\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n      \u003Cspan class=\"token punctuation\">}\u003C/span>\n      \u003Cspan class=\"token keyword\">return\u003C/span> \u003Cspan class=\"token boolean\">true\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n    \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n  \u003Cspan class=\"token punctuation\">}\u003C/span>\n\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>Each time something was changing the object, a console.warn was triggered indicating the JavaScript source that attempted\nthe change. Busted! We now understood what happened and were able to fix the issues.\u003C/p>\n\u003Cp>Bottom line: Being able to understand what happens in a complex system is very important.\nMost problems can be fixed correctly only if you understand what’s going on.\u003C/p>",{"headings":1044,"imagePaths":1045,"frontmatter":1030},[],[],"on-software-design",["Map",7,1048],{"id":7,"data":1049,"body":1057,"filePath":1058,"digest":1059,"rendered":1060,"legacyId":64},{"title":1050,"pubDate":1051,"description":1052,"keywords":1053,"twitterImage":1054,"minutesRead":1055,"excerpt":1056},"On Software Design",["Date","2021-05-21T00:00:00.000Z"],"How much design is needed? What is important to design? How do we communicate the design to others?",[225],"https://www.raresportan.com/twitter-cards/on-software-design.png","10 min read","There are always the questions of design:\n\nHow much design is needed?\nWhat is important to design?\nHow do we communicate the design to other","There are always the questions of design:\n\n- How much design is needed?\n- What is important to design?\n- How do we communicate the design to others?\n\nSome people design everything, some design nothing. Most start with a good design but in time that design is buried under a thick layer of compromises and changes.\n\n## Do we need to design our software?\n\nWe, software developers, like to code, not to waste time with design documents and drawings, endless meetings, and emails.\n\nThe problem is that some design is crucial to the development of the software. Unless you’ve made the same type of software before, it is almost impossible to get the design right from the first time.\n\n_Everything, code and design, must be an iterative process._ It takes several tries to come up with an acceptable solution.\n\n### What you get if you don’t design?\n\nYou get the most popular design in the world: **The Big Ball of Mud**, a.k.a Spaghetti code.\n\n> A Big Ball Of Mud is haphazardly structured, sprawling, sloppy, duct-tape and baling wire, spaghetti code jungle.\n\n- Brian Foote\n\nThe code will show signs of unregulated growth, and repeated, expedient repair. It will have no overall structure, no organization whatsoever.\n\nData will need to be shared globally, among unrelated parts of the code, until nearly all the important data becomes global or duplicated. Data will end up in unexpected states, pieces of code will step on each other’s toes, nobody will know what is happening.\n\nYou will spend all of your time patching bugs and duck-taping leaks.\n\n### Why is “The Big Ball of Mud” so popular?\n\nIt turns out this way of making software is very popular.\nHere is why:\n\n- Is easy, is natural, and practical.\n- Is the default way of doing it.\n- You are constrained by time and budget.\n- The alternative is too much thinking.\n- You do fast prototypes and we keep the code.\n- You simply don’t care.\n\n### Should you avoid it?\n\nDepends. Sometimes is not even worth considering alternatives.\nIf your codebase will never be big enough just let it be. Avoiding it is not cheap. It requires time and effort and discipline.\n\nIt’s OK while you are doing a prototype or a spike when you are not sure what is the solution yet when you are doing throwaway code.\n\nIt’s OK if you need the software running ASAP. But you’ll have to handle the debt.\n\nIt’s OK for the short term. It is not for the long term.\n\nIt’s OK for the first iterations of code. But it’s not OK if you stop iterating the code and you leave it in this state. Sadly this is done too many times. Sooner or later you will end up working on a piece of code like this.\n\n### How to deal with the “The Big Ball of Mud”?\n\nThere are four ways to deal with it:\n\n1. Keep the code healthy. Alternate periods of expansion (adding new code) with periods of consolidation (rewriting, refactoring, and improving existing code).\n2. Make the code healthy. When you are working with legacy code, your job is pretty much this.\n3. Throw the code away and start over. This is the most drastic but sometimes necessary alternative. It is also the hardest to get right because is very hard to understand all the little quirks and compromises that make the code work the way it works. And thus you will not be able to move these details to the new version of the software. The bigger the software the harder is to rewrite.\n4. Simply surrender to entropy, and accept your fate. I bet you’ll look for something else to work on pretty soon.\n\n### What happens if \"The Big Ball of Mud” stays?\n\nIf the software needs to be expanded with new features or if bugs need to be fixed, things will be bad.\n\nJust as it is easier to be verbose than concise, it is easier to build complex systems than it is to build simple ones.\nSkilled programmers are able to add complexity very quickly.\n\nComplexity will increase rapidly until it reaches a level just beyond that with which you can comfortably cope.\nAt this point, complexity and your abilities to contain it reach an uneasy equilibrium.\n\nLet me remind you what happens when you have too much complexity:\n\n- You cannot estimate correctly how much work will take to implement new things because you no longer understand the code.\n- You are afraid to touch any code because you can always break something.\n- Every code change is a pain. You cannot reason about the ramifications of the code change. Often the code breaks in surprising places.\n\n## What does it mean to design software?\n\nUsually living with the “The Big Ball of Mud” is not an option. A good design is necessary.\n\nAt the highest level, the design of the software is called architecture and is done by one or two experienced people.\n\nBut good architects will not design the smaller parts. They let the implementers complete those parts of the design for which they are responsible. An excellent programmer needs to feel he or she has some authority over what they are responsible for. So everybody contributes to the overall design.\n\nDesigning software means finding answers to questions and breaking the big problem into smaller, easier problems.\n\nThe steps in coming up with a design for a piece of code are the same for everybody:\n\n### What’s the big idea?\n\nThe first step is to understand the problem.\n\nStart with just a one-line statement about your app, module, feature, piece of software. What does your software stand for? What’s it really all about?\n\nBefore you start designing or coding anything you need to know the purpose of your software. Find out or define as much information as possible about the thing you’re about to create. More input, better output.\n\nThe best software is created after iterating it for some time. Is almost impossible to come up with a good design from the first try. The reality is that you have more information later after you did the design, so be prepared to adjust your design based on new information.\n\n### Epicenter design\n\nFocus on the true essence of the code and then builds outward. This means that, at the start, you ignore the extremities: the navigation/tabs, footer, colors, logo, etc. Instead, you start at the core and design the most important piece first.\n\nWhatever the software absolutely can’t live without is the epicenter. Only when that piece is complete, you begin to think about the second most critical element. Then after the second most critical element, you’d move on to the third, and so on. That’s epicentre design.\n\nEpicenter design allows you to focus on what really matters on day one. Essentials first, extras second. The result is a more friendly, focused, usable software.\n\n### Break your software into little pieces\n\nYour job as a designer is to _“disentangle”_ things. Design is about separating the system into parts, breaking the big problem into little problems. This is where people start to do mistakes, they tend to break the code based on the wrong reasons, based on common functionality or behavior.\n\nInstead of breaking code into parts with common functionality:\n\n- Break code apart by what it does not share with the rest.\n- Isolate the most frustrating parts to write, maintain, or delete away from each other.\n- Do not build parts around being able to re-use them, but being able to change or replace them.\n- Each hard problem should be handled by one part. A piece of code can do two things, when changing one thing requires changing the other. Is often easier to have one awful component with a simple interface, than two components requiring careful coordination between them. Just as most of the systems out there are single-star systems but binary-star systems are not unexpected.\n\n> Start with a list of difficult design decisions or design decisions that are likely to change. Each module is then designed to hide such a decision from the others - David Parnas\n\nIf you have a good design, with good parts, when you find new information about your software you’ll just replace some of the parts, not start the entire design from scratch.\n\nWhen you are not sure if the design for a feature is good enough, just try to answer this question: How hard it is to remove or replace all the code for the feature if necessary?\n\n## The farm-like software\n\nProgramming deals with nonphysical things. There is not much difference between a small program and a large program, there are no real limits of how big a program can be. Unlike other fields where the system is limited by physical laws, in programming the only limit is our minds.\n\n### Complexity generates big issues\n\nThe real issues of programming are not present when you try to make small programs but when you build big programs, programs implemented in thousands of lines of code. Programs so long that nobody can hold them in their head.\n\n### Analogies from the real world\n\nSo when we have to deal with the growing complexity of our programs we look around at how other people handle similar complexity.\n\nThe most popular analogies are between software development and building construction, I’m sure you ran into these at some point. (There are all kinds of terms from the construction industry we borrowed, like architect, designer, developer. And the whole idea of design patterns is borrowed from the writings of an architect, Christopher Alexander.)\n\nThe most common analogy is between software development and building a house. But that analogy is too simplistic and a bit misleading so let’s raise the stakes and use the analogy of building a skyscraper vs. a farm to see determine the extremes of the software we make.\n\nNot only the building process of a skyscraper is quite different from building a farm but the results are very different also:\n\n| SKYSCRAPER                              | FARM                                                             |\n| --------------------------------------- | ---------------------------------------------------------------- |\n| Beautiful exterior                      | Mundane exterior                                                 |\n| Fixed, inflexible interior              | Cozy, flexible interior                                          |\n| Requires precise design and plans       | Not much design, starts as a small house and a barn              |\n| Never modified                          | New rooms are added for kids, then for grandma                   |\n| Nothing is ever added or removed        | Stables, canning rooms by the house, a wing for cows             |\n| Isolated and perfect                    | The whole remains unchanged but parts often change               |\n| Abandoned by its builders after is done | Changing and growing all the time, never perfect, never finished |\n| Idea of total replacement               | Idea of repair and growth                                        |\n\nSo which kind of software should be built? Something monumental but inflexible like a skyscraper or something mundane but flexible like a farm?\n\nIf possible, you should always build Farm-like software:\n\n- Programs that live and grow, like farms, one part at a time.\n- Software that is created, modified, and improved.\n- Software that is rarely replaced entirely.\n\nThe way the software looks in the end is not important because there is rarely an end, and if there is one it isn’t planned.\n\n### Designs that work\n\nPeople always try to come up with something different, something better (they say), no matter if the status quo is good or bad. The same happens with software development also.\n\nNew designs are invented all the time, but most of them are quickly forgotten because they complicate things so much.\n\n_The road to hell is paved with good intentions._\n\nFortunately, over and over again people rediscover the same fundamental ideas, rebranded under new names.\n\nIn following posts, we’ll talk about some fundamental software designs. Once I understood the pros and cons of these designs and when to use them I became a much better developer. I have no doubt you will feel the same.","src/content/on-software-design/index.md","c2ad0fba1533d6e6",{"html":1061,"metadata":1062},"\u003Cp>There are always the questions of design:\u003C/p>\n\u003Cul>\n\u003Cli>How much design is needed?\u003C/li>\n\u003Cli>What is important to design?\u003C/li>\n\u003Cli>How do we communicate the design to others?\u003C/li>\n\u003C/ul>\n\u003Cp>Some people design everything, some design nothing. Most start with a good design but in time that design is buried under a thick layer of compromises and changes.\u003C/p>\n\u003Ch2 id=\"do-we-need-to-design-our-software\">Do we need to design our software?\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#do-we-need-to-design-our-software\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>We, software developers, like to code, not to waste time with design documents and drawings, endless meetings, and emails.\u003C/p>\n\u003Cp>The problem is that some design is crucial to the development of the software. Unless you’ve made the same type of software before, it is almost impossible to get the design right from the first time.\u003C/p>\n\u003Cp>\u003Cem>Everything, code and design, must be an iterative process.\u003C/em> It takes several tries to come up with an acceptable solution.\u003C/p>\n\u003Ch3 id=\"what-you-get-if-you-dont-design\">What you get if you don’t design?\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#what-you-get-if-you-dont-design\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cp>You get the most popular design in the world: \u003Cstrong>The Big Ball of Mud\u003C/strong>, a.k.a Spaghetti code.\u003C/p>\n\u003Cblockquote>\n\u003Cp>A Big Ball Of Mud is haphazardly structured, sprawling, sloppy, duct-tape and baling wire, spaghetti code jungle.\u003C/p>\n\u003C/blockquote>\n\u003Cul>\n\u003Cli>Brian Foote\u003C/li>\n\u003C/ul>\n\u003Cp>The code will show signs of unregulated growth, and repeated, expedient repair. It will have no overall structure, no organization whatsoever.\u003C/p>\n\u003Cp>Data will need to be shared globally, among unrelated parts of the code, until nearly all the important data becomes global or duplicated. Data will end up in unexpected states, pieces of code will step on each other’s toes, nobody will know what is happening.\u003C/p>\n\u003Cp>You will spend all of your time patching bugs and duck-taping leaks.\u003C/p>\n\u003Ch3 id=\"why-is-the-big-ball-of-mud-so-popular\">Why is “The Big Ball of Mud” so popular?\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#why-is-the-big-ball-of-mud-so-popular\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cp>It turns out this way of making software is very popular.\nHere is why:\u003C/p>\n\u003Cul>\n\u003Cli>Is easy, is natural, and practical.\u003C/li>\n\u003Cli>Is the default way of doing it.\u003C/li>\n\u003Cli>You are constrained by time and budget.\u003C/li>\n\u003Cli>The alternative is too much thinking.\u003C/li>\n\u003Cli>You do fast prototypes and we keep the code.\u003C/li>\n\u003Cli>You simply don’t care.\u003C/li>\n\u003C/ul>\n\u003Ch3 id=\"should-you-avoid-it\">Should you avoid it?\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#should-you-avoid-it\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cp>Depends. Sometimes is not even worth considering alternatives.\nIf your codebase will never be big enough just let it be. Avoiding it is not cheap. It requires time and effort and discipline.\u003C/p>\n\u003Cp>It’s OK while you are doing a prototype or a spike when you are not sure what is the solution yet when you are doing throwaway code.\u003C/p>\n\u003Cp>It’s OK if you need the software running ASAP. But you’ll have to handle the debt.\u003C/p>\n\u003Cp>It’s OK for the short term. It is not for the long term.\u003C/p>\n\u003Cp>It’s OK for the first iterations of code. But it’s not OK if you stop iterating the code and you leave it in this state. Sadly this is done too many times. Sooner or later you will end up working on a piece of code like this.\u003C/p>\n\u003Ch3 id=\"how-to-deal-with-the-the-big-ball-of-mud\">How to deal with the “The Big Ball of Mud”?\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#how-to-deal-with-the-the-big-ball-of-mud\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cp>There are four ways to deal with it:\u003C/p>\n\u003Col>\n\u003Cli>Keep the code healthy. Alternate periods of expansion (adding new code) with periods of consolidation (rewriting, refactoring, and improving existing code).\u003C/li>\n\u003Cli>Make the code healthy. When you are working with legacy code, your job is pretty much this.\u003C/li>\n\u003Cli>Throw the code away and start over. This is the most drastic but sometimes necessary alternative. It is also the hardest to get right because is very hard to understand all the little quirks and compromises that make the code work the way it works. And thus you will not be able to move these details to the new version of the software. The bigger the software the harder is to rewrite.\u003C/li>\n\u003Cli>Simply surrender to entropy, and accept your fate. I bet you’ll look for something else to work on pretty soon.\u003C/li>\n\u003C/ol>\n\u003Ch3 id=\"what-happens-if-the-big-ball-of-mud-stays\">What happens if “The Big Ball of Mud” stays?\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#what-happens-if-the-big-ball-of-mud-stays\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cp>If the software needs to be expanded with new features or if bugs need to be fixed, things will be bad.\u003C/p>\n\u003Cp>Just as it is easier to be verbose than concise, it is easier to build complex systems than it is to build simple ones.\nSkilled programmers are able to add complexity very quickly.\u003C/p>\n\u003Cp>Complexity will increase rapidly until it reaches a level just beyond that with which you can comfortably cope.\nAt this point, complexity and your abilities to contain it reach an uneasy equilibrium.\u003C/p>\n\u003Cp>Let me remind you what happens when you have too much complexity:\u003C/p>\n\u003Cul>\n\u003Cli>You cannot estimate correctly how much work will take to implement new things because you no longer understand the code.\u003C/li>\n\u003Cli>You are afraid to touch any code because you can always break something.\u003C/li>\n\u003Cli>Every code change is a pain. You cannot reason about the ramifications of the code change. Often the code breaks in surprising places.\u003C/li>\n\u003C/ul>\n\u003Ch2 id=\"what-does-it-mean-to-design-software\">What does it mean to design software?\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#what-does-it-mean-to-design-software\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>Usually living with the “The Big Ball of Mud” is not an option. A good design is necessary.\u003C/p>\n\u003Cp>At the highest level, the design of the software is called architecture and is done by one or two experienced people.\u003C/p>\n\u003Cp>But good architects will not design the smaller parts. They let the implementers complete those parts of the design for which they are responsible. An excellent programmer needs to feel he or she has some authority over what they are responsible for. So everybody contributes to the overall design.\u003C/p>\n\u003Cp>Designing software means finding answers to questions and breaking the big problem into smaller, easier problems.\u003C/p>\n\u003Cp>The steps in coming up with a design for a piece of code are the same for everybody:\u003C/p>\n\u003Ch3 id=\"whats-the-big-idea\">What’s the big idea?\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#whats-the-big-idea\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cp>The first step is to understand the problem.\u003C/p>\n\u003Cp>Start with just a one-line statement about your app, module, feature, piece of software. What does your software stand for? What’s it really all about?\u003C/p>\n\u003Cp>Before you start designing or coding anything you need to know the purpose of your software. Find out or define as much information as possible about the thing you’re about to create. More input, better output.\u003C/p>\n\u003Cp>The best software is created after iterating it for some time. Is almost impossible to come up with a good design from the first try. The reality is that you have more information later after you did the design, so be prepared to adjust your design based on new information.\u003C/p>\n\u003Ch3 id=\"epicenter-design\">Epicenter design\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#epicenter-design\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cp>Focus on the true essence of the code and then builds outward. This means that, at the start, you ignore the extremities: the navigation/tabs, footer, colors, logo, etc. Instead, you start at the core and design the most important piece first.\u003C/p>\n\u003Cp>Whatever the software absolutely can’t live without is the epicenter. Only when that piece is complete, you begin to think about the second most critical element. Then after the second most critical element, you’d move on to the third, and so on. That’s epicentre design.\u003C/p>\n\u003Cp>Epicenter design allows you to focus on what really matters on day one. Essentials first, extras second. The result is a more friendly, focused, usable software.\u003C/p>\n\u003Ch3 id=\"break-your-software-into-little-pieces\">Break your software into little pieces\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#break-your-software-into-little-pieces\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cp>Your job as a designer is to \u003Cem>“disentangle”\u003C/em> things. Design is about separating the system into parts, breaking the big problem into little problems. This is where people start to do mistakes, they tend to break the code based on the wrong reasons, based on common functionality or behavior.\u003C/p>\n\u003Cp>Instead of breaking code into parts with common functionality:\u003C/p>\n\u003Cul>\n\u003Cli>Break code apart by what it does not share with the rest.\u003C/li>\n\u003Cli>Isolate the most frustrating parts to write, maintain, or delete away from each other.\u003C/li>\n\u003Cli>Do not build parts around being able to re-use them, but being able to change or replace them.\u003C/li>\n\u003Cli>Each hard problem should be handled by one part. A piece of code can do two things, when changing one thing requires changing the other. Is often easier to have one awful component with a simple interface, than two components requiring careful coordination between them. Just as most of the systems out there are single-star systems but binary-star systems are not unexpected.\u003C/li>\n\u003C/ul>\n\u003Cblockquote>\n\u003Cp>Start with a list of difficult design decisions or design decisions that are likely to change. Each module is then designed to hide such a decision from the others - David Parnas\u003C/p>\n\u003C/blockquote>\n\u003Cp>If you have a good design, with good parts, when you find new information about your software you’ll just replace some of the parts, not start the entire design from scratch.\u003C/p>\n\u003Cp>When you are not sure if the design for a feature is good enough, just try to answer this question: How hard it is to remove or replace all the code for the feature if necessary?\u003C/p>\n\u003Ch2 id=\"the-farm-like-software\">The farm-like software\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#the-farm-like-software\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>Programming deals with nonphysical things. There is not much difference between a small program and a large program, there are no real limits of how big a program can be. Unlike other fields where the system is limited by physical laws, in programming the only limit is our minds.\u003C/p>\n\u003Ch3 id=\"complexity-generates-big-issues\">Complexity generates big issues\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#complexity-generates-big-issues\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cp>The real issues of programming are not present when you try to make small programs but when you build big programs, programs implemented in thousands of lines of code. Programs so long that nobody can hold them in their head.\u003C/p>\n\u003Ch3 id=\"analogies-from-the-real-world\">Analogies from the real world\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#analogies-from-the-real-world\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cp>So when we have to deal with the growing complexity of our programs we look around at how other people handle similar complexity.\u003C/p>\n\u003Cp>The most popular analogies are between software development and building construction, I’m sure you ran into these at some point. (There are all kinds of terms from the construction industry we borrowed, like architect, designer, developer. And the whole idea of design patterns is borrowed from the writings of an architect, Christopher Alexander.)\u003C/p>\n\u003Cp>The most common analogy is between software development and building a house. But that analogy is too simplistic and a bit misleading so let’s raise the stakes and use the analogy of building a skyscraper vs. a farm to see determine the extremes of the software we make.\u003C/p>\n\u003Cp>Not only the building process of a skyscraper is quite different from building a farm but the results are very different also:\u003C/p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>SKYSCRAPER\u003C/th>\u003Cth>FARM\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>Beautiful exterior\u003C/td>\u003Ctd>Mundane exterior\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Fixed, inflexible interior\u003C/td>\u003Ctd>Cozy, flexible interior\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Requires precise design and plans\u003C/td>\u003Ctd>Not much design, starts as a small house and a barn\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Never modified\u003C/td>\u003Ctd>New rooms are added for kids, then for grandma\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Nothing is ever added or removed\u003C/td>\u003Ctd>Stables, canning rooms by the house, a wing for cows\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Isolated and perfect\u003C/td>\u003Ctd>The whole remains unchanged but parts often change\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Abandoned by its builders after is done\u003C/td>\u003Ctd>Changing and growing all the time, never perfect, never finished\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Idea of total replacement\u003C/td>\u003Ctd>Idea of repair and growth\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Cp>So which kind of software should be built? Something monumental but inflexible like a skyscraper or something mundane but flexible like a farm?\u003C/p>\n\u003Cp>If possible, you should always build Farm-like software:\u003C/p>\n\u003Cul>\n\u003Cli>Programs that live and grow, like farms, one part at a time.\u003C/li>\n\u003Cli>Software that is created, modified, and improved.\u003C/li>\n\u003Cli>Software that is rarely replaced entirely.\u003C/li>\n\u003C/ul>\n\u003Cp>The way the software looks in the end is not important because there is rarely an end, and if there is one it isn’t planned.\u003C/p>\n\u003Ch3 id=\"designs-that-work\">Designs that work\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#designs-that-work\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cp>People always try to come up with something different, something better (they say), no matter if the status quo is good or bad. The same happens with software development also.\u003C/p>\n\u003Cp>New designs are invented all the time, but most of them are quickly forgotten because they complicate things so much.\u003C/p>\n\u003Cp>\u003Cem>The road to hell is paved with good intentions.\u003C/em>\u003C/p>\n\u003Cp>Fortunately, over and over again people rediscover the same fundamental ideas, rebranded under new names.\u003C/p>\n\u003Cp>In following posts, we’ll talk about some fundamental software designs. Once I understood the pros and cons of these designs and when to use them I became a much better developer. I have no doubt you will feel the same.\u003C/p>",{"headings":1063,"imagePaths":1106,"frontmatter":1049},[1064,1067,1070,1073,1076,1079,1082,1085,1088,1091,1094,1097,1100,1103],{"depth":51,"slug":1065,"text":1066},"do-we-need-to-design-our-software","Do we need to design our software?",{"depth":88,"slug":1068,"text":1069},"what-you-get-if-you-dont-design","What you get if you don’t design?",{"depth":88,"slug":1071,"text":1072},"why-is-the-big-ball-of-mud-so-popular","Why is “The Big Ball of Mud” so popular?",{"depth":88,"slug":1074,"text":1075},"should-you-avoid-it","Should you avoid it?",{"depth":88,"slug":1077,"text":1078},"how-to-deal-with-the-the-big-ball-of-mud","How to deal with the “The Big Ball of Mud”?",{"depth":88,"slug":1080,"text":1081},"what-happens-if-the-big-ball-of-mud-stays","What happens if “The Big Ball of Mud” stays?",{"depth":51,"slug":1083,"text":1084},"what-does-it-mean-to-design-software","What does it mean to design software?",{"depth":88,"slug":1086,"text":1087},"whats-the-big-idea","What’s the big idea?",{"depth":88,"slug":1089,"text":1090},"epicenter-design","Epicenter design",{"depth":88,"slug":1092,"text":1093},"break-your-software-into-little-pieces","Break your software into little pieces",{"depth":51,"slug":1095,"text":1096},"the-farm-like-software","The farm-like software",{"depth":88,"slug":1098,"text":1099},"complexity-generates-big-issues","Complexity generates big issues",{"depth":88,"slug":1101,"text":1102},"analogies-from-the-real-world","Analogies from the real world",{"depth":88,"slug":1104,"text":1105},"designs-that-work","Designs that work",[],"react-playground",["Map",7,1109],{"id":7,"data":1110,"body":1116,"filePath":1117,"digest":1118,"legacyId":18,"deferredRender":19},{"title":1111,"pubDate":1112,"description":1113,"keywords":1114},"How to implement a simple React Playground",["Date","2021-07-04T00:00:00.000Z"],"Sometimes you need a simple playground to learn React or just try some React code. Using CodeMirror and an iframe we can build one.",[1115,615,14],"React","The playground has two parts:\n\n- The code editor: Allows us to enter the React code we want to evaluate\n- The code evaluation sandbox: Evaluates (executes) the React code from the code editor and creates the corresponding DOM\n\nOn the left, we have the editor and on the right, we have the sandbox iframe. Each time the code is changed, the sandbox evaluates the code again.\n\nimport { Picture } from \"astro:assets\";\n\n\u003CPicture\n  src={import(\"./react-playground.png\")}\n  widths={[480, 800]}\n  formats={[\"webp\"]}\n  sizes=\"(max-width: 600px) 480px, 800px\"\n  alt=\"The React Playground in action\"\n/>\n\n## Setting up the sandbox\n\nWe run everything in the browser, so we need to load the two React scripts: `react.js` and `react-dom.js`.\n\n```html\n\u003C!-- Load React. -->\n\u003C!-- Note: when deploying, replace \"development.js\" with \"production.min.js\". -->\n\u003Cscript\n  src=\"https://unpkg.com/react@17/umd/react.development.js\"\n  crossorigin\n>\u003C/script>\n\u003Cscript\n  src=\"https://unpkg.com/react-dom@17/umd/react-dom.development.js\"\n  crossorigin\n>\u003C/script>\n```\n\nWe also want JSX, so we need Babel to transpile JSX to plain JavaScript. Usually, we use Babel at build time, but here we\nneed it at runtime, so we need to use the standalone version.\n\n```html\n\u003Cscript src=\"https://unpkg.com/babel-standalone@6/babel.min.js\">\u003C/script>\n```\n\nWhen we need to traspile code, we use Babel like this:\n\n```js\ntry {\n  let result = Babel.transform(code, {\n    presets: [\"env\", \"es2015\", \"react\"],\n  }).code;\n  Function(result)(window);\n} catch (err) {}\n```\n\nEvery time we change the code we want to evaluate, we need to get rid of the current evaluation result (all DOM nodes created by the current evaluation).\nThere are several ways to do this, but I prefer to put the code evaluation piece in a separate iframe, `sandbox.html`\n\n```html\n\u003C!DOCTYPE html>\n\u003Chtml>\n  \u003Chead>\n    \u003Cscript\n      src=\"https://unpkg.com/react@17/umd/react.development.js\"\n      crossorigin\n    >\u003C/script>\n    \u003Cscript\n      src=\"https://unpkg.com/react-dom@17/umd/react-dom.development.js\"\n      crossorigin\n    >\u003C/script>\n    \u003Cscript src=\"https://unpkg.com/@babel/standalone/babel.min.js\">\u003C/script>\n    \u003Cscript>\n      let origin;\n\n      // listen for messages\n      window.addEventListener(\"message\", (e) => {\n        origin = e.source;\n        document.getElementById(\"error\").style.display = \"none\";\n        document.getElementById(\"app\").style.display = \"block\";\n\n        const { code } = e.data;\n        if (code) {\n          // here the code is evaluated in the iframe\n          try {\n            let result = Babel.transform(code, {\n              presets: [\"env\", \"es2015\", \"react\"],\n            }).code;\n            Function(result)(window);\n          } catch (err) {\n            document.getElementById(\"app\").style.display = \"none\";\n            document.getElementById(\"error\").style.display = \"block\";\n            document.getElementById(\"error\").innerHTML = err.message;\n          }\n        }\n      });\n    \u003C/script>\n  \u003C/head>\n  \u003Cbody>\n    \u003Cpre id=\"error\">\u003C/pre>\n    \u003Cdiv id=\"app\">\u003C/div>\n  \u003C/body>\n\u003C/html>\n```\n\nInside the iframe, we have\n\n- a `pre` that displays the error details if necessary\n- a div with id \"app\" that is the container used by the React.\n  Only one of them is displayed at a time.\n\n## Code editor\n\nWe already covered [setting up CodeMirror](/how-to-make-a-code-editor-with-codemirror6/), so we won't do that here.\nThe part I want to highlight here is the code evaluation( calling `evaluateCode()` ) which is done\n\n- when the page is loaded\n- each time the user changes the code in the editor\n\n```js\nconst editor = new EditorView({\n  state: EditorState.create({\n    extensions: [\n      basicSetup,\n      javascript(),\n      myTheme,\n      EditorView.updateListener.of((v) => {\n        if (v.docChanged) {\n          if (timer) clearTimeout(timer);\n          timer = setTimeout(() => {\n            evaluateCode(editor.state.doc.toString());\n          }, 500);\n        }\n      }),\n    ],\n    doc: \"\",\n  }),\n  parent: document.getElementById(\"editor\"),\n});\n\n// first time evaluation\nwindow.addEventListener(\"DOMContentLoaded\", (event) => {\n  setTimeout(() => {\n    evaluateCode(editor.state.doc.toString());\n  }, 1000);\n});\n```\n\nThe evaluation function simply sends the code to the sandbox iframe:\n\n```js\nconst evaluateCode = (code) => {\n  console.clear();\n  try {\n    const sandbox = document.getElementById(\"sandbox\");\n    sandbox.contentWindow.postMessage({ code }, \"*\");\n  } catch (err) {\n    console.error(err);\n  }\n};\n```\n\n## Putting them together\n\nInside `index.html` we load the `editor.bundle.js` which will create the code editor and also the sandbox iframe.\nNote that we need to set some properties to allow the iframe to execute the code we send to it.\n\n```html\n\u003C!DOCTYPE html>\n\u003Chtml lang=\"en\">\n  \u003Chead>\n    \u003Cmeta charset=\"UTF-8\" />\n    \u003Cmeta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" />\n    \u003Cmeta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n  \u003C/head>\n  \u003Cbody>\n    \u003Cheader>React Playground\u003C/header>\n    \u003Cmain>\n      \u003Cdiv id=\"editor\">\u003C/div>\n      \u003C!-- SANDBOX -->\n      \u003Ciframe\n        id=\"sandbox\"\n        src=\"./sandbox.html\"\n        sandbox=\"allow-scripts allow-same-origin allow-forms\"\n      >\u003C/iframe>\n    \u003C/main>\n    \u003C!-- EDITOR -->\n    \u003Cscript src=\"editor.bundle.js\">\u003C/script>\n  \u003C/body>\n\u003C/html>\n```\n\n## Resouces\n\n- [react-playground](https://github.com/raresportan/react-playground)\n- [Add React to a Website](https://reactjs.org/docs/add-react-to-a-website.html)","src/content/react-playground/index.mdx","f47f4dd78fd5f82d","react-server-components",["Map",7,1121],{"id":7,"data":1122,"body":1128,"filePath":1129,"digest":1130,"legacyId":18,"deferredRender":19},{"title":1123,"pubDate":1124,"description":1125,"keywords":1126},"React Server Components",["Date","2023-05-05T00:00:00.000Z"],"React Server Components is a nice alternative to building a website, it comes with its drawbacks but also some interesting promises",[1115,1127,14],"RSC","There is a lot of talk these days about React Server Components(RSC). [Next.js](https://nextjs.org/blog/next-13-4) has just \nannounced that their support for React Server Components(RSC) is now stable. Other frameworks will follow soon for sure, so it is \ntime to learn what React Server Components(RSC) bring to the table. \n\nI'm using React for years now, but so far only to build the front end. With RSC, we can write server-side code also.\nYou might say that we already did that if we used Server Side Rendering(SSR), and you are right. But RSC it's much more than \nrendering HTML on the fly.\n\nWe can [build a website in a lot of ways](https://www.raresportan.com/10-ways-to-render-a-webpage/), each with its \npros and cons. Nothing is perfect, but some ways are better than others depending on what you need to build. The main problem is \nthat we tend to create highly interactive websites/web apps that load a lot of JavaScript. And a lot of JavaScript causes slow and sluggish \nwebpages. Some people say that each line of JavaScript that ends up in the browser adds 1ms of lag on low-end devices. 1000 lines = 1s lag. 60000 lines...\n\nSome frameworks like [Astro](https://astro.build/) and Eleventy(https://www.11ty.dev/) build websites that ship 0 bytes of JavaScript by default. \nLots of people like these frameworks because they allow a high level of control of the content that reaches the browser. But if you need \nto generate pages dynamically, create highly interactive content, or share state between pages, you need a SPA-like solution.\n\n## Why React Server Components was created\nAs you probably know, React was created at Facebook(Meta) to solve the problems of the *facebook.com* website and later *instagram.com*. If you didn't see it yet, I\nrecommend watching [React.js: The Documentary](https://www.youtube.com/watch?v=8pDqJVdNa44) which provides some nice insights into how React evolved.\n\nRSC idea was started in 2016 by Sebastian Markbåge. At that point the architecture at Facebook used GraphQl and Relay for data access, \n*the problem was that the client bundle grew continuously*. They loaded too much data and code, even when it was not needed for a specific case.\nIt was an efficiency problem. In time the problem was partially solved by code splitting and lazy loading, but a better solution was required. \n\nTheir question was: if you own the server anyway why not have view models that massage the data on the server and send only what the client needs?\n\nFacebook used PHP on the server, in particular an extension called [XHP](https://engineering.fb.com/2010/02/09/developer-tools/xhp-a-new-way-to-write-php/)\nthat allowed Components to be async or not, *meaning some parts of the page were rendered later*.\n\nSo, inspired by XHP, React team set up to create a React Components based server architecture with the following goals:\n- Components can be rendered on the client or the server (build-time or SSR)\n- Components rendered on the server send only HTML to the client, no data, no code\n- Split a server response into multiple parts\n- Start hydrating client components as early as possible\n- Streaming data and code\n- Load on the client only data and code needed on the client, automatic bundle splitting\n- Colocating data with components that use that data\n\nIn a nutshell, React Server Components try to move as much as possible code from client to server.\n\nTo do all this, React Server Components architecture needs to be implemented by a server-side framework. React team provides the specification\nbut not the implementation.\n\n*You might find the name \"React Server Components\" is a bit controversial, everyone has a different opinion about how they should be called.*\n\n## How React Server Components work\nRCS looks a lot like a PHP/Ruby on Rails server with a React front end. RSC allows you to replace PHP/Ruby on Rails with React too, so \nnow you have React both on the front end and the back end. Same language, same paradigm in both places.\n\nRemix uses React both on server and client so RSC looks a lot like Remix also. But the difference is that in Remix the entire front end is \nrehydrated, just like any other SSR solution does. In Remix is not possible to have components that are not \"client\".\n\nReact Server Components also looks a lot like [Astro Islands](https://docs.astro.build/en/concepts/islands/) in the way it combines server and client components.\n\nIf you want to test RSC your best bet right now is to use Next.js. That said, the examples provided here are generic and don't assume you use a particular framework.\n\n### Server components\nThis is a RCS page that is rendered server-side:\n```js\n// the default export function returns the page content\nexport default async function ServerRoot() {\n  return (\n    \u003C>\n      \u003Ch1>Page Title\u003C/h1>\n      \u003CPageBody />\n    \u003C/>\n  )\n}\n\nfunction PageBody() {\t\n  return (\u003Cp>Page Body\u003C/p>)\n}\n```\nHow this code is executed:\n* The default export function, `ServerRoot`, returns the page content\n* `H1` and `P` are sent to the client in one go.\n\nThis is a slightly different version that renders the page in two steps:\n```js\n// the default export function returns the page content\nexport default async function ServerRoot() {\n  return (\n    \u003C>\n      \u003Ch1>Page Title\u003C/h1>\n      \u003CPageBody />\n    \u003C/>\n  )\n}\n\n// this component is async! \nasync function PageBody() {\n  const data = await getDataFromSomewhere();\n  return (\n    \u003Cul>\n      {data.map(d) => \u003Cli key={d.id}>{d.id}\u003C/li>}\n    \u003C/ul>\n  )\n}\n```\nHow this code is executed:\n* The default export function, `ServerRoot`, returns the page content\n* Initially, only the `H1` element is sent to the client since the `PageBody` component is async \n* When the `PageBody` is done, it is sent to the client and displayed on the page \n\nOne question you might ask: how the page knows there are still things to load? After the initial page render with the H1, how it knows that \nthere is a PageBody still pending? The server is streaming data to the browser in a special format, the RSC Wire Format.\n\nHere is a (not very accurate) example:\n```\n1:[[\"$\", \"h1\", null, {\"children\": \"Page Title\"}], \"$L2\"]\n\n2:[\"$\", \"ul\", null, {\"children: [[\"$\", \"li\", \"data-id1\", {\"children\": \"data-id1\"}], [\"$\", \"li\", \"data-id2\", {\"children\": \"data-id2\"}]]} ],\n```\nWhen the initial page is loaded, along with the H1, a $L2 is sent. That $L2 instructs that another component is pending.\nReact is always loaded on the client, so it is used to recreate the components in the client.\n\nIf you need to show skeletons/spinners while the async parts are loading, you can use Suspense (yes, not Suspense works server-side too!)\n```js\n// the default export function returns the page content\nexport default async function ServerRoot() {\n  return (\n    \u003C>\n      \u003Ch1>Page Title\u003C/h1>\n      \u003CSuspense fallback = { Fetching...} />\n        \u003CPageBody />\n      \u003C/Suspense>\n    \u003C/>\n  )\n}\n\n// this component is async! \nasync function PageBody() {\n  ...\n}\n```\nThis is a basic example, but to get an idea of how this will work in practice think about how a YouTube page loads:\n* first, the video is loaded and starts playing as soon as possible\n* then the comments section is loaded later\n* then the recommended videos section is loaded \n\nIf you would implement that using RSC you would have something like this:\n```js\nexport default async function ServerRoot() {\n  return (\n    \u003C>\n      \u003Ch1>Page Title\u003C/h1>\n      \u003CVideo />\n    \u003C/>\n  )\n}\n\n// not async!\nfunction Video() {\n  ...\n}\n\n// this component is async! \nasync function Comments() {\n  ...\n}\n// this component is async! \nasync function Recommendations() {\n  ...\n}\n```\n\n\n### Client components\nYou need to put each client component in it's own file because to make a component client rendered, you need to add \"use client\" as the first line in the file:\n\n```js\n// button.jsx\n\"use client\"\n\nimport { useState } from \"react\";\n\nexport default function ClientButton() {\n  const [count, setCount] = useState(0);\n  return (\n    \u003Cbutton onClick={e => setCount(count++)}>\n        Count {count}\n    \u003C/button>\n  )\n}\n```\nYou can use client components just any other components:\n```js\nexport default async function ServerRoot() {\n  return (\n    \u003C>\n      \u003Ch1>Page Title\u003C/h1>\n      \u003CClientButton />\n    \u003C/>\n  )\n}\n```\nSome hooks like `useState` work only in client components. Since the server components just sent HTML to client, nothing can be changed by \nthe user, so it doesn't makes sense to use `useState`. If you try to use these hooks in server components, you should get an error.\n\n* Client code and server code are separated\n* Client code is bundled and sent to the client, the server doesn't know what is in there. In the same way, the client code doesn't know what is on the server\n* You can use components in both client and server components, in that case, it is sent to the client.\n* The root component must be a server component but anything else can be a client component (although not recommended)\n\nHere is a (not very accurate) example of RSC wire data for the above example:\n```\n1:[[\"$\", \"h1\", null, {\"children\": \"Page Title\"}], \"$L2\"]\n\n2:{\"id\": \"/dist/ClientButton.js\",\"chunks\": [], \"name\": default, \"async\": false }\n```\nIn the client component case, the path to the source code is also sent and the source is loaded similar to how React.lazy loads components.\n\n### Server components inside client components\nThe crazy thing is that you can use server components inside client components! \nThe secret is to use \"slots\" inside the client component and send the server component(s) as children!\n\nLet's implement the following component tree:\n```js\n/*\n   [[ServerRoot]] // server side \n         |\n  (ClientContainer) // client side \n         |\n [[ServerAccountInfo]] // server side \n*/\n```\n\nPage render component:\n```js\nexport default async function ServerRoot() {\n  return (\n    \u003C>\n      \u003Ch1>Page Title\u003C/h1>\n      \u003CClientContainer>\n         \u003CServerAccountInfo />\n      \u003C/ClientContainer>\n    \u003C/>\n  )\n}\n\n// this component loads the account\nasync function ServerAccountInfo() {\n  const account = await getAccountDataFromSomewhere();\n  return (\n    \u003Cp>Name: {account.name}\u003C/p>\n  )\n}\n```\n\nClientContainer.jsx must be in a separate file:\n```js\n// ClientContainer.jsx\n\"use client\"\n\nexport default function ClientContainer({children}) {\n  return (\n    \u003C>\n       Here is the client container!\n       {children}\n    \u003C/>\n  )\n}\n```\n\n\n## Upcoming Server Actions\nNext.js takes this further with its [Server Actions](https://nextjs.org/docs/app/building-your-application/data-fetching/server-actions).\nYou can add \"use server\" inside any async function and that function will be executed server side. (Server actions are still in alpha, maybe this functionality will change)\n\n```js\nimport { cookies } from 'next/headers';\n \nexport default function AddToCart({ productId }) {\n  async function addItem(data) {\n    'use server';\n \n    const cartId = cookies().get('cartId')?.value;\n    await saveToDb({ cartId, data });\n  }\n \n  return (\n    \u003Cform action={addItem}>\n      \u003Cbutton type=\"submit\">Add to Cart\u003C/button>\n    \u003C/form>\n  );\n}\n```\nWhile this is very convenient, it can [leak secrets if you are not careful](https://twitter.com/tomus_sherman/status/1654211227172716545)\n\nReact Server Components looks a lot like PHP and Ruby on Rails. Unlike regular React apps, React Server Components can be \"API-less\", meaning\nyou can execute [SQL directly inside React](https://vercel.com/changelog/vercel-postgres) components:\n```js\nimport { sql } from '@vercel/postgres';\nimport { redirect } from 'next/navigation';\n\nasync function create(formData: FormData) {\n  'use server';\n  const { rows } = await sql`\n    INSERT INTO products (name)\n    VALUES (${formData.get('name')})\n  `;\n  redirect(`/product/${rows[0].slug}`);\n}\n\nexport default function Page() {\n  return (\n    \u003Cform action={create}>\n      \u003Cinput type=\"text\" name=\"name\" />\n      \u003Cbutton type=\"submit\">Submit\u003C/button>\n    \u003C/form>\n  );\n}\n```\nI'm not sure if that is a good idea. We have a long history of PHP SQL injections, why not learn anything from it?\n\n## Conclusion\nReact Server Components is a nice alternative to building a website, but it comes with its drawbacks.\n\nOf course, the main drawback is that you need a server now, and, if you are a front-end developer like me, that sounds a little scary (I know an awful lot about building front-ends and I assume a good back-end dev knows just as much about building APIs and databases). Also, there is no “Network tab” to see and debug server-side requests. Things are just more different from what were before.\n\nAnother drawback is that even if you just use server-side components, React is still loaded on the client side. I would prefer Astro which ships 0 JavaScript when not necessary. Still, a lot of code used server side is not sent to the client, which is excellent.\n\nFrom what I’m reading, RSC doesn’t click for a lot of people. It adds a new layer of complexity to an already complex situation. Not many see the benefit of RSC, but the truth is not many people were very excited either when React was open-sourced when JSX was presented, and so on. RSC was in the works for years, so it should be a mature architecture by now.\n\n\n## Resources\n* [Dan Abramov explores React Server Components with us!](https://www.youtube.com/watch?v=Fctw7WjmxpU)\n* [React.js: The Documentary](https://www.youtube.com/watch?v=8pDqJVdNa44)\n* [React Essentials](https://nextjs.org/docs/getting-started/react-essentials)","src/content/react-server-components/index.mdx","0eb1f1869813565a","server-side-google-analytics",["Map",7,1133],{"id":7,"data":1134,"body":1144,"filePath":1145,"digest":1146,"rendered":1147,"legacyId":64},{"title":1135,"pubDate":1136,"description":1137,"keywords":1138,"twitterImage":1142,"minutesRead":75,"excerpt":1143},"Server-side Google Analytics",["Date","2020-06-28T00:00:00.000Z"],"Google Analytics javascript in blocked by many browsers and users. Here is how to use Google Analytics server-side, more exactly from a lambda function.",[1139,1140,564,552,1141],"Analytics","Server-side","Lambda","https://www.raresportan.com/twitter-cards/server-side-google-analytics.png","At Apple’s WWDC this year, among the Safari improvements is a new feature that blocks the trackers on a website,\nand Google Analytics is one","At Apple's WWDC this year, among the Safari improvements is a new feature that [blocks the trackers on a website](https://appleinsider.com/articles/20/06/22/safari-now-blocks-google-analytics-on-sites-new-privacy-report-feature-shows),\nand Google Analytics is one of those blocked trackers. Turns out [this is not true](https://www.simoahava.com/analytics/no-safari-does-not-block-google-analytics/)\nbut still I decided to get rid of the Google Analytics in the browser since there are many ways to block it anyway.\nAnother problem with using Google Analytics in the browser is that you need to add a Cookie policy to respect some rules like the GDPR.\n\nI still want to know if somebody visited my site. So my question was: Is there a way to do server-side analytics?\nSince my website is hosted on Netlify, the easy solution would be to use [Netlify Analytics](https://www.netlify.com/products/analytics/)\nbut that is not cheap for me at $9/month/site. Maybe that makes sense for websites that make any revenue, but this is not my case.\n\nMy solution was to still use Google Analytics but from the server-side. More exactly by calling `www.google-analytics.com/collect`\nfrom a lambda function.\n\n## The lambda\n\nThis website is hosted on Netlify, so the solution is to implement a [Netlify function](https://docs.netlify.com/functions/overview/?_ga=2.219207577.1057640386.1593408076-330896924.1584543554),\nbut even if you are using something else, you can still follow along. The idea is to have some server-side code that can\nbe called from the browser.\n\nFirst, we need to install `netlify-lambda`:\n\n```bash\nnpm i --save-dev netlify-lambda\n```\n\nThen the Netlify configuration file, `netlify.toml` needs to be updated to indicate where the functions are built:\n\n```yaml\n[build]\n  command = \"npm run build\" # the command you run to build this file\n  functions = \"built-lambda\" # netlify-lambda builds to this folder AND Netlify reads functions from here\n  publish = \"public\" # gatsby builds to this folder, Netlify should serve all these files statically\n```\n\nFinally, we need to add the scripts that start & build the functions in `package.json`.\nI like to start both `gatsby` and `netlify-lambda` with a single command so I'm using the `npm-run-all` package but\nthis is optional.\n\n```json\n\"scripts\": {\n    \"build\": \"run-p build:**\",\n    \"build:app\": \"GATSBY_EXPERIMENTAL_PAGE_BUILD_ON_DATA_CHANGES=true gatsby build --log-pages\",\n    \"build:lamda\": \"netlify-lambda build src/lambda\",\n    \"develop\": \"gatsby develop\",\n    \"start\": \"run-p start:**\",\n    \"start:app\": \"npm run develop\",\n    \"start:lambda\": \"netlify-lambda serve src/lambda\",\n    ...\n  }\n```\n\nAll the functions must be under a specific folder, I use `src/lambda`, and that folder path must be passed to `netlify-lambda` command.\n\nThe whole purpose of the lambda makes is to make a call to `https://www.google-analytics.com/collect` with some\ndata. It requires your [Gatsby Analytics id](https://support.google.com/analytics/answer/1008080?hl=en#:~:text=Find%20your%20Tracking%20ID%20and,in%20to%20your%20Analytics%20account.&text=Select%20an%20account%20from%20the,the%20top%20of%20the%20page.), something like `UA-166862236-1`.\nAlso, we need to make sure we log only requests comming from our domain.\n\nI use `node-fetch` to make the calls (but you can use something else):\n\n```bash\nnpm i --sade-dev node-fetch\n```\n\nHere is the lambda code:\n\n```javascript\nconst { default: fetch } = require(\"node-fetch\");\n\nexports.handler = async (event) => {\n  // we accept only post\n  if (event.httpMethod !== \"POST\") {\n    return { statusCode: 405, body: \"Method Not Allowed\" };\n  }\n\n  const data = JSON.parse(event.body);\n\n  // what is the allowed domain?\n  const allowedDomain = \"raresportan\";\n  const origin = data.origin;\n\n  // we accept only requests from the allowed domain\n  if (!origin.includes(allowedDomain)) {\n    return { statusCode: 403, body: \"Invalid Domain\" };\n  }\n\n  const url = origin + data.pathname + data.search;\n\n  // create a hash to be used as sessionid\n  const hash = require(\"crypto\")\n    .createHash(\"sha256\")\n    .update(data.useragent + data.screensize + data.offset + data.language)\n    .digest(\"hex\");\n\n  const endpoint = \"https://www.google-analytics.com/collect\";\n  const payload = encodeURI(\n    `v=1&t=pageview&tid=UA-166862236-1&cid=${hash}&ua=${data.useragent}&aip=1&ds=web&dl=${url}&dt=${data.title}&ul=${data.language}&dr=${data.referrer}`\n  ).replace(/\\//g, \"%2F\");\n\n  try {\n    const response = await fetch(`${endpoint}?${payload}`, {\n      method: \"POST\",\n      cache: \"no-cache\",\n    });\n    if (response.ok) {\n      return { statusCode: response.status, body: response.statusText };\n    }\n  } catch (err) {\n    return { statusCode: 500, body: \"NOK\" };\n  }\n};\n```\n\n## The client code\n\nBefore all, you need to be able to call the functions while we're developing. To do this, you add the following in\n`gatsby-config.js`, assuming the functions run on port 9000 (which they do by default):\n\n```javascript\nconst { createProxyMiddleware } = require(\"http-proxy-middleware\")\n\nmodule.exports = {\n    ...\n    plugins: [\n        ...\n    ],\n    developMiddleware: app => {\n        app.use(\n            \"/.netlify/functions/\",\n            createProxyMiddleware({\n                target: \"http://localhost:9000\",\n                pathRewrite: {\n                    \"/.netlify/functions/\": \"\",\n                },\n            })\n        )\n    },\n}\n```\n\nCreate a JavaScript function that calls the lambda:\n\n```javascript\nfunction sendData() {\n  const sitedata = {\n    useragent: navigator.userAgent,\n    title: document.title,\n    origin: window.location.origin,\n    pathname: window.location.pathname,\n    search: window.location.search,\n    referrer: document.referrer,\n    language: navigator.language || navigator.userLanguage,\n    offset: new Date().getTimezoneOffset(),\n    screensize:\n      window.screen.width * window.devicePixelRatio +\n      \"x\" +\n      window.screen.height * window.devicePixelRatio,\n  };\n  return fetch(\"/.netlify/functions/send\", {\n    body: JSON.stringify(sitedata),\n    method: \"POST\",\n  });\n}\n```\n\nNow you need to decide when the call the function.\nIn my case, the page titles are changed using [React Helmet](https://github.com/nfl/react-helmet) and it took a while to figure out when to call `sendData`\nbecause the page title was updated after `sendData` was called inside a `useEffect()` hook, so the old title was sent to the lambda.\n\nFinally I found that there is a callback that can be registered to React Helmet that is called after it did the updates:\n\n```jsx\n\u003CHelmet\n      onChangeClientState={() => sendData()}\n      htmlAttributes={{\n        lang,\n      }}\n      title={title}\n      ...\n```\n\nRemove the Google Analytics Gatsby plugin from `gatsby-config.js` if you have it and you're done.\n\n## Conclusion\n\nI think server-side analytics are the future because more and more people care about their privacy.\n\nWhile this solution is not 100% compatible with using Google Analytics in the browser, since it doesn't use cookies\nand doesn't track the user, it is a step forward in how analytics should be handled.\n\n---\n\nI'm building [this blog with Gatsby](/how-i-made-this-site-with-gatsby-convertkit-and-netlify/).\nIt is still work in progress, here are some of the things I've implemented and you might find useful:\n\n- Generating [Twitter cards](/how-to-automate-twitter-card-images-for-your-blog/) for blog posts.\n- How to handle [future posts](/how-to-handle-future-posts-in-gatsby/).","src/content/server-side-google-analytics/index.md","b5ff3d8beb2f83fb",{"html":1148,"metadata":1149},"\u003Cp>At Apple’s WWDC this year, among the Safari improvements is a new feature that \u003Ca href=\"https://appleinsider.com/articles/20/06/22/safari-now-blocks-google-analytics-on-sites-new-privacy-report-feature-shows\">blocks the trackers on a website\u003C/a>,\nand Google Analytics is one of those blocked trackers. Turns out \u003Ca href=\"https://www.simoahava.com/analytics/no-safari-does-not-block-google-analytics/\">this is not true\u003C/a>\nbut still I decided to get rid of the Google Analytics in the browser since there are many ways to block it anyway.\nAnother problem with using Google Analytics in the browser is that you need to add a Cookie policy to respect some rules like the GDPR.\u003C/p>\n\u003Cp>I still want to know if somebody visited my site. So my question was: Is there a way to do server-side analytics?\nSince my website is hosted on Netlify, the easy solution would be to use \u003Ca href=\"https://www.netlify.com/products/analytics/\">Netlify Analytics\u003C/a>\nbut that is not cheap for me at $9/month/site. Maybe that makes sense for websites that make any revenue, but this is not my case.\u003C/p>\n\u003Cp>My solution was to still use Google Analytics but from the server-side. More exactly by calling \u003Ccode>www.google-analytics.com/collect\u003C/code>\nfrom a lambda function.\u003C/p>\n\u003Ch2 id=\"the-lambda\">The lambda\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#the-lambda\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>This website is hosted on Netlify, so the solution is to implement a \u003Ca href=\"https://docs.netlify.com/functions/overview/?_ga=2.219207577.1057640386.1593408076-330896924.1584543554\">Netlify function\u003C/a>,\nbut even if you are using something else, you can still follow along. The idea is to have some server-side code that can\nbe called from the browser.\u003C/p>\n\u003Cp>First, we need to install \u003Ccode>netlify-lambda\u003C/code>:\u003C/p>\n\u003Cpre class=\"language-bash\" data-language=\"bash\">\u003Ccode is:raw=\"\" class=\"language-bash\">\u003Cspan class=\"token function\">npm\u003C/span> i --save-dev netlify-lambda\n\u003C/code>\u003C/pre>\n\u003Cp>Then the Netlify configuration file, \u003Ccode>netlify.toml\u003C/code> needs to be updated to indicate where the functions are built:\u003C/p>\n\u003Cpre class=\"language-yaml\" data-language=\"yaml\">\u003Ccode is:raw=\"\" class=\"language-yaml\">\u003Cspan class=\"token punctuation\">[\u003C/span>build\u003Cspan class=\"token punctuation\">]\u003C/span>\n  command = \"npm run build\" \u003Cspan class=\"token comment\"># the command you run to build this file\u003C/span>\n  functions = \"built\u003Cspan class=\"token punctuation\">-\u003C/span>lambda\" \u003Cspan class=\"token comment\"># netlify-lambda builds to this folder AND Netlify reads functions from here\u003C/span>\n  publish = \"public\" \u003Cspan class=\"token comment\"># gatsby builds to this folder, Netlify should serve all these files statically\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>Finally, we need to add the scripts that start &#x26; build the functions in \u003Ccode>package.json\u003C/code>.\nI like to start both \u003Ccode>gatsby\u003C/code> and \u003Ccode>netlify-lambda\u003C/code> with a single command so I’m using the \u003Ccode>npm-run-all\u003C/code> package but\nthis is optional.\u003C/p>\n\u003Cpre class=\"language-json\" data-language=\"json\">\u003Ccode is:raw=\"\" class=\"language-json\">\u003Cspan class=\"token property\">\"scripts\"\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n    \u003Cspan class=\"token property\">\"build\"\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token string\">\"run-p build:**\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n    \u003Cspan class=\"token property\">\"build:app\"\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token string\">\"GATSBY_EXPERIMENTAL_PAGE_BUILD_ON_DATA_CHANGES=true gatsby build --log-pages\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n    \u003Cspan class=\"token property\">\"build:lamda\"\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token string\">\"netlify-lambda build src/lambda\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n    \u003Cspan class=\"token property\">\"develop\"\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token string\">\"gatsby develop\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n    \u003Cspan class=\"token property\">\"start\"\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token string\">\"run-p start:**\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n    \u003Cspan class=\"token property\">\"start:app\"\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token string\">\"npm run develop\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n    \u003Cspan class=\"token property\">\"start:lambda\"\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token string\">\"netlify-lambda serve src/lambda\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n    ...\n  \u003Cspan class=\"token punctuation\">}\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>All the functions must be under a specific folder, I use \u003Ccode>src/lambda\u003C/code>, and that folder path must be passed to \u003Ccode>netlify-lambda\u003C/code> command.\u003C/p>\n\u003Cp>The whole purpose of the lambda makes is to make a call to \u003Ccode>https://www.google-analytics.com/collect\u003C/code> with some\ndata. It requires your \u003Ca href=\"https://support.google.com/analytics/answer/1008080?hl=en#:~:text=Find%20your%20Tracking%20ID%20and,in%20to%20your%20Analytics%20account.&#x26;text=Select%20an%20account%20from%20the,the%20top%20of%20the%20page.\">Gatsby Analytics id\u003C/a>, something like \u003Ccode>UA-166862236-1\u003C/code>.\nAlso, we need to make sure we log only requests comming from our domain.\u003C/p>\n\u003Cp>I use \u003Ccode>node-fetch\u003C/code> to make the calls (but you can use something else):\u003C/p>\n\u003Cpre class=\"language-bash\" data-language=\"bash\">\u003Ccode is:raw=\"\" class=\"language-bash\">\u003Cspan class=\"token function\">npm\u003C/span> i --sade-dev node-fetch\n\u003C/code>\u003C/pre>\n\u003Cp>Here is the lambda code:\u003C/p>\n\u003Cpre class=\"language-javascript\" data-language=\"javascript\">\u003Ccode is:raw=\"\" class=\"language-javascript\">\u003Cspan class=\"token keyword\">const\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span> \u003Cspan class=\"token keyword\">default\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> fetch \u003Cspan class=\"token punctuation\">}\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token function\">require\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"node-fetch\"\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\nexports\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function-variable function\">handler\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token keyword\">async\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">event\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n  \u003Cspan class=\"token comment\">// we accept only post\u003C/span>\n  \u003Cspan class=\"token keyword\">if\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>event\u003Cspan class=\"token punctuation\">.\u003C/span>httpMethod \u003Cspan class=\"token operator\">!==\u003C/span> \u003Cspan class=\"token string\">\"POST\"\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n    \u003Cspan class=\"token keyword\">return\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span> \u003Cspan class=\"token literal-property property\">statusCode\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token number\">405\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token literal-property property\">body\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token string\">\"Method Not Allowed\"\u003C/span> \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n  \u003Cspan class=\"token punctuation\">}\u003C/span>\n\n  \u003Cspan class=\"token keyword\">const\u003C/span> data \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token constant\">JSON\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">parse\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>event\u003Cspan class=\"token punctuation\">.\u003C/span>body\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n  \u003Cspan class=\"token comment\">// what is the allowed domain?\u003C/span>\n  \u003Cspan class=\"token keyword\">const\u003C/span> allowedDomain \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token string\">\"raresportan\"\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n  \u003Cspan class=\"token keyword\">const\u003C/span> origin \u003Cspan class=\"token operator\">=\u003C/span> data\u003Cspan class=\"token punctuation\">.\u003C/span>origin\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n  \u003Cspan class=\"token comment\">// we accept only requests from the allowed domain\u003C/span>\n  \u003Cspan class=\"token keyword\">if\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token operator\">!\u003C/span>origin\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">includes\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>allowedDomain\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n    \u003Cspan class=\"token keyword\">return\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span> \u003Cspan class=\"token literal-property property\">statusCode\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token number\">403\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token literal-property property\">body\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token string\">\"Invalid Domain\"\u003C/span> \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n  \u003Cspan class=\"token punctuation\">}\u003C/span>\n\n  \u003Cspan class=\"token keyword\">const\u003C/span> url \u003Cspan class=\"token operator\">=\u003C/span> origin \u003Cspan class=\"token operator\">+\u003C/span> data\u003Cspan class=\"token punctuation\">.\u003C/span>pathname \u003Cspan class=\"token operator\">+\u003C/span> data\u003Cspan class=\"token punctuation\">.\u003C/span>search\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n  \u003Cspan class=\"token comment\">// create a hash to be used as sessionid\u003C/span>\n  \u003Cspan class=\"token keyword\">const\u003C/span> hash \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token function\">require\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"crypto\"\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\n    \u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">createHash\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"sha256\"\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\n    \u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">update\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>data\u003Cspan class=\"token punctuation\">.\u003C/span>useragent \u003Cspan class=\"token operator\">+\u003C/span> data\u003Cspan class=\"token punctuation\">.\u003C/span>screensize \u003Cspan class=\"token operator\">+\u003C/span> data\u003Cspan class=\"token punctuation\">.\u003C/span>offset \u003Cspan class=\"token operator\">+\u003C/span> data\u003Cspan class=\"token punctuation\">.\u003C/span>language\u003Cspan class=\"token punctuation\">)\u003C/span>\n    \u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">digest\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"hex\"\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n  \u003Cspan class=\"token keyword\">const\u003C/span> endpoint \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token string\">\"https://www.google-analytics.com/collect\"\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n  \u003Cspan class=\"token keyword\">const\u003C/span> payload \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token function\">encodeURI\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\n    \u003Cspan class=\"token template-string\">\u003Cspan class=\"token template-punctuation string\">`\u003C/span>\u003Cspan class=\"token string\">v=1&#x26;t=pageview&#x26;tid=UA-166862236-1&#x26;cid=\u003C/span>\u003Cspan class=\"token interpolation\">\u003Cspan class=\"token interpolation-punctuation punctuation\">${\u003C/span>hash\u003Cspan class=\"token interpolation-punctuation punctuation\">}\u003C/span>\u003C/span>\u003Cspan class=\"token string\">&#x26;ua=\u003C/span>\u003Cspan class=\"token interpolation\">\u003Cspan class=\"token interpolation-punctuation punctuation\">${\u003C/span>data\u003Cspan class=\"token punctuation\">.\u003C/span>useragent\u003Cspan class=\"token interpolation-punctuation punctuation\">}\u003C/span>\u003C/span>\u003Cspan class=\"token string\">&#x26;aip=1&#x26;ds=web&#x26;dl=\u003C/span>\u003Cspan class=\"token interpolation\">\u003Cspan class=\"token interpolation-punctuation punctuation\">${\u003C/span>url\u003Cspan class=\"token interpolation-punctuation punctuation\">}\u003C/span>\u003C/span>\u003Cspan class=\"token string\">&#x26;dt=\u003C/span>\u003Cspan class=\"token interpolation\">\u003Cspan class=\"token interpolation-punctuation punctuation\">${\u003C/span>data\u003Cspan class=\"token punctuation\">.\u003C/span>title\u003Cspan class=\"token interpolation-punctuation punctuation\">}\u003C/span>\u003C/span>\u003Cspan class=\"token string\">&#x26;ul=\u003C/span>\u003Cspan class=\"token interpolation\">\u003Cspan class=\"token interpolation-punctuation punctuation\">${\u003C/span>data\u003Cspan class=\"token punctuation\">.\u003C/span>language\u003Cspan class=\"token interpolation-punctuation punctuation\">}\u003C/span>\u003C/span>\u003Cspan class=\"token string\">&#x26;dr=\u003C/span>\u003Cspan class=\"token interpolation\">\u003Cspan class=\"token interpolation-punctuation punctuation\">${\u003C/span>data\u003Cspan class=\"token punctuation\">.\u003C/span>referrer\u003Cspan class=\"token interpolation-punctuation punctuation\">}\u003C/span>\u003C/span>\u003Cspan class=\"token template-punctuation string\">`\u003C/span>\u003C/span>\n  \u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">replace\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token regex\">\u003Cspan class=\"token regex-delimiter\">/\u003C/span>\u003Cspan class=\"token regex-source language-regex\">\\/\u003C/span>\u003Cspan class=\"token regex-delimiter\">/\u003C/span>\u003Cspan class=\"token regex-flags\">g\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token string\">\"%2F\"\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n  \u003Cspan class=\"token keyword\">try\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n    \u003Cspan class=\"token keyword\">const\u003C/span> response \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token keyword\">await\u003C/span> \u003Cspan class=\"token function\">fetch\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token template-string\">\u003Cspan class=\"token template-punctuation string\">`\u003C/span>\u003Cspan class=\"token interpolation\">\u003Cspan class=\"token interpolation-punctuation punctuation\">${\u003C/span>endpoint\u003Cspan class=\"token interpolation-punctuation punctuation\">}\u003C/span>\u003C/span>\u003Cspan class=\"token string\">?\u003C/span>\u003Cspan class=\"token interpolation\">\u003Cspan class=\"token interpolation-punctuation punctuation\">${\u003C/span>payload\u003Cspan class=\"token interpolation-punctuation punctuation\">}\u003C/span>\u003C/span>\u003Cspan class=\"token template-punctuation string\">`\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n      \u003Cspan class=\"token literal-property property\">method\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token string\">\"POST\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n      \u003Cspan class=\"token literal-property property\">cache\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token string\">\"no-cache\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n    \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n    \u003Cspan class=\"token keyword\">if\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>response\u003Cspan class=\"token punctuation\">.\u003C/span>ok\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n      \u003Cspan class=\"token keyword\">return\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span> \u003Cspan class=\"token literal-property property\">statusCode\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> response\u003Cspan class=\"token punctuation\">.\u003C/span>status\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token literal-property property\">body\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> response\u003Cspan class=\"token punctuation\">.\u003C/span>statusText \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n    \u003Cspan class=\"token punctuation\">}\u003C/span>\n  \u003Cspan class=\"token punctuation\">}\u003C/span> \u003Cspan class=\"token keyword\">catch\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>err\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n    \u003Cspan class=\"token keyword\">return\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span> \u003Cspan class=\"token literal-property property\">statusCode\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token number\">500\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token literal-property property\">body\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token string\">\"NOK\"\u003C/span> \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n  \u003Cspan class=\"token punctuation\">}\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Ch2 id=\"the-client-code\">The client code\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#the-client-code\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>Before all, you need to be able to call the functions while we’re developing. To do this, you add the following in\n\u003Ccode>gatsby-config.js\u003C/code>, assuming the functions run on port 9000 (which they do by default):\u003C/p>\n\u003Cpre class=\"language-javascript\" data-language=\"javascript\">\u003Ccode is:raw=\"\" class=\"language-javascript\">\u003Cspan class=\"token keyword\">const\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span> createProxyMiddleware \u003Cspan class=\"token punctuation\">}\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token function\">require\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"http-proxy-middleware\"\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\n\nmodule\u003Cspan class=\"token punctuation\">.\u003C/span>exports \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n    \u003Cspan class=\"token operator\">...\u003C/span>\n    \u003Cspan class=\"token literal-property property\">plugins\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>\n        \u003Cspan class=\"token operator\">...\u003C/span>\n    \u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n    \u003Cspan class=\"token function-variable function\">developMiddleware\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token parameter\">app\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n        app\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">use\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\n            \u003Cspan class=\"token string\">\"/.netlify/functions/\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n            \u003Cspan class=\"token function\">createProxyMiddleware\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">{\u003C/span>\n                \u003Cspan class=\"token literal-property property\">target\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token string\">\"http://localhost:9000\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n                \u003Cspan class=\"token literal-property property\">pathRewrite\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n                    \u003Cspan class=\"token string-property property\">\"/.netlify/functions/\"\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token string\">\"\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n                \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n            \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\n        \u003Cspan class=\"token punctuation\">)\u003C/span>\n    \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>Create a JavaScript function that calls the lambda:\u003C/p>\n\u003Cpre class=\"language-javascript\" data-language=\"javascript\">\u003Ccode is:raw=\"\" class=\"language-javascript\">\u003Cspan class=\"token keyword\">function\u003C/span> \u003Cspan class=\"token function\">sendData\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n  \u003Cspan class=\"token keyword\">const\u003C/span> sitedata \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n    \u003Cspan class=\"token literal-property property\">useragent\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> navigator\u003Cspan class=\"token punctuation\">.\u003C/span>userAgent\u003Cspan class=\"token punctuation\">,\u003C/span>\n    \u003Cspan class=\"token literal-property property\">title\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> document\u003Cspan class=\"token punctuation\">.\u003C/span>title\u003Cspan class=\"token punctuation\">,\u003C/span>\n    \u003Cspan class=\"token literal-property property\">origin\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> window\u003Cspan class=\"token punctuation\">.\u003C/span>location\u003Cspan class=\"token punctuation\">.\u003C/span>origin\u003Cspan class=\"token punctuation\">,\u003C/span>\n    \u003Cspan class=\"token literal-property property\">pathname\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> window\u003Cspan class=\"token punctuation\">.\u003C/span>location\u003Cspan class=\"token punctuation\">.\u003C/span>pathname\u003Cspan class=\"token punctuation\">,\u003C/span>\n    \u003Cspan class=\"token literal-property property\">search\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> window\u003Cspan class=\"token punctuation\">.\u003C/span>location\u003Cspan class=\"token punctuation\">.\u003C/span>search\u003Cspan class=\"token punctuation\">,\u003C/span>\n    \u003Cspan class=\"token literal-property property\">referrer\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> document\u003Cspan class=\"token punctuation\">.\u003C/span>referrer\u003Cspan class=\"token punctuation\">,\u003C/span>\n    \u003Cspan class=\"token literal-property property\">language\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> navigator\u003Cspan class=\"token punctuation\">.\u003C/span>language \u003Cspan class=\"token operator\">||\u003C/span> navigator\u003Cspan class=\"token punctuation\">.\u003C/span>userLanguage\u003Cspan class=\"token punctuation\">,\u003C/span>\n    \u003Cspan class=\"token literal-property property\">offset\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token keyword\">new\u003C/span> \u003Cspan class=\"token class-name\">Date\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">getTimezoneOffset\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n    \u003Cspan class=\"token literal-property property\">screensize\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span>\n      window\u003Cspan class=\"token punctuation\">.\u003C/span>screen\u003Cspan class=\"token punctuation\">.\u003C/span>width \u003Cspan class=\"token operator\">*\u003C/span> window\u003Cspan class=\"token punctuation\">.\u003C/span>devicePixelRatio \u003Cspan class=\"token operator\">+\u003C/span>\n      \u003Cspan class=\"token string\">\"x\"\u003C/span> \u003Cspan class=\"token operator\">+\u003C/span>\n      window\u003Cspan class=\"token punctuation\">.\u003C/span>screen\u003Cspan class=\"token punctuation\">.\u003C/span>height \u003Cspan class=\"token operator\">*\u003C/span> window\u003Cspan class=\"token punctuation\">.\u003C/span>devicePixelRatio\u003Cspan class=\"token punctuation\">,\u003C/span>\n  \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n  \u003Cspan class=\"token keyword\">return\u003C/span> \u003Cspan class=\"token function\">fetch\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"/.netlify/functions/send\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n    \u003Cspan class=\"token literal-property property\">body\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token constant\">JSON\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">stringify\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>sitedata\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n    \u003Cspan class=\"token literal-property property\">method\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token string\">\"POST\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n  \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>Now you need to decide when the call the function.\nIn my case, the page titles are changed using \u003Ca href=\"https://github.com/nfl/react-helmet\">React Helmet\u003C/a> and it took a while to figure out when to call \u003Ccode>sendData\u003C/code>\nbecause the page title was updated after \u003Ccode>sendData\u003C/code> was called inside a \u003Ccode>useEffect()\u003C/code> hook, so the old title was sent to the lambda.\u003C/p>\n\u003Cp>Finally I found that there is a callback that can be registered to React Helmet that is called after it did the updates:\u003C/p>\n\u003Cpre class=\"language-jsx\" data-language=\"jsx\">\u003Ccode is:raw=\"\" class=\"language-jsx\">\u003Cspan class=\"token operator\">&#x3C;\u003C/span>Helmet\n      onChangeClientState\u003Cspan class=\"token operator\">=\u003C/span>\u003Cspan class=\"token punctuation\">{\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token function\">sendData\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">}\u003C/span>\n      htmlAttributes\u003Cspan class=\"token operator\">=\u003C/span>\u003Cspan class=\"token punctuation\">{\u003C/span>\u003Cspan class=\"token punctuation\">{\u003C/span>\n        lang\u003Cspan class=\"token punctuation\">,\u003C/span>\n      \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">}\u003C/span>\n      title\u003Cspan class=\"token operator\">=\u003C/span>\u003Cspan class=\"token punctuation\">{\u003C/span>title\u003Cspan class=\"token punctuation\">}\u003C/span>\n      \u003Cspan class=\"token operator\">...\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>Remove the Google Analytics Gatsby plugin from \u003Ccode>gatsby-config.js\u003C/code> if you have it and you’re done.\u003C/p>\n\u003Ch2 id=\"conclusion\">Conclusion\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#conclusion\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>I think server-side analytics are the future because more and more people care about their privacy.\u003C/p>\n\u003Cp>While this solution is not 100% compatible with using Google Analytics in the browser, since it doesn’t use cookies\nand doesn’t track the user, it is a step forward in how analytics should be handled.\u003C/p>\n\u003Chr>\n\u003Cp>I’m building \u003Ca href=\"/how-i-made-this-site-with-gatsby-convertkit-and-netlify/\">this blog with Gatsby\u003C/a>.\nIt is still work in progress, here are some of the things I’ve implemented and you might find useful:\u003C/p>\n\u003Cul>\n\u003Cli>Generating \u003Ca href=\"/how-to-automate-twitter-card-images-for-your-blog/\">Twitter cards\u003C/a> for blog posts.\u003C/li>\n\u003Cli>How to handle \u003Ca href=\"/how-to-handle-future-posts-in-gatsby/\">future posts\u003C/a>.\u003C/li>\n\u003C/ul>",{"headings":1150,"imagePaths":1158,"frontmatter":1134},[1151,1154,1157],{"depth":51,"slug":1152,"text":1153},"the-lambda","The lambda",{"depth":51,"slug":1155,"text":1156},"the-client-code","The client code",{"depth":51,"slug":157,"text":158},[],"midjourney",["Map",7,1161],{"id":7,"data":1162,"body":1167,"filePath":1168,"digest":1169,"legacyId":18,"deferredRender":19},{"title":1163,"pubDate":1164,"description":1165,"keywords":1166},"Midjourney",["Date","2023-10-10T00:00:00.000Z"],"The shape of the things to come",[1163,109],"[Théâtre d'Opéra Spatial](https://en.wikipedia.org/wiki/Th%C3%A9%C3%A2tre_d%27Op%C3%A9ra_Spatial) won the Colorado State Fair's contest for \"digital arts/digitally-manipulated photography\" in 2022. \nThere was nothing special about this until people found it was generated by a AI image generator called Midjourney.\n\nimport { Picture } from \"astro:assets\";\n\n\u003Cfigure>\n  \u003CPicture\n    src={import(\"./space-opera.jpg\")}\n    widths={[480, 800]}\n    formats={[\"webp\"]}\n    sizes=\"(max-width: 600px) 480px, 800px\"\n    alt=\"Théâtre d'Opéra Spatial\"\n  />\n  \u003Cfigcaption>Théâtre d'Opéra Spatial\u003C/figcaption>\n\u003C/figure>\n\nThe idea that an AI generated image could win an art contest was unthinkable. It lead to a lot of lively discussions about the nature of art and what it means to be an artist and how human artistry is doomed. Those discussions continue today.\n\nBut that is not all. There are a lot of Midjourney made images that went viral. Many of them are deep fakes, like this one:\n\n\u003Cfigure>\n  \u003CPicture\n    src={import(\"./balenciaga.jpg\")}\n    widths={[480, 800]}\n    formats={[\"webp\"]}\n    sizes=\"(max-width: 600px) 480px, 800px\"\n    alt=\"Pope in Balenciaga\"\n  />\n  \u003Cfigcaption>Pope in Balenciaga\u003C/figcaption>\n\u003C/figure>\n\nWe live in a strange new world and we need to adapt - as always - because Midjourney (and others) are only getting better:\n\u003Cfigure>\n  \u003CPicture\n    src={import(\"./evolution.jpg\")}\n    widths={[480, 800]}\n    formats={[\"webp\"]}\n    sizes=\"(max-width: 600px) 480px, 800px\"\n    alt=\"Midjourney evolution\"\n  />\n  \u003Cfigcaption>Midjourney evolution\u003C/figcaption>\n\u003C/figure>\n\nBut can we use Midjourney to do some good? I think we can, here are some examples:\n\n## Artistic and creative applications\nIcon sets, cliparts, t-shirt designs, stickers, coloring pages you name it. All can be done with Midjourney. \n\nHere are some examples from a Etsy shop I like:\n* [Watercolor Jars](https://www.etsy.com/listing/1498745820/watercolor-jars-midjourney-prompt?click_key=9d58b39735c0b2685c49c3d05fb4f281abb410d9%3A1498745820&click_sum=cdbbfd2a&ref=shop_home_active_24&crt=1&sts=1)\n* [Cute T-shirt Designs ](https://www.etsy.com/listing/1478260658/cute-t-shirt-designs-midjourney-prompts?click_key=623a253e13de4b415591002f4247481726d14088%3A1478260658&click_sum=0dcdd390&ref=shop_home_active_6&crt=1&sts=1)\n* [Boho Coloring Pages](https://www.etsy.com/listing/1470251094/boho-coloring-pages-midjourney-prompt-ai?click_key=036c9bd798cb22fe98c9789a42e7857e2512bfe1%3A1470251094&click_sum=05bb4d77&ref=shop_home_active_2&crt=1&sts=1)\n\n\n## Exploring new visual concepts and styles\nEverything is build on the foundations of something that already exists, it is inspired by many things that are. \n\nMixing art styles is something that was rearly done before Midjourney. Midjourney makes this common: combine art styles with \nartist or art references and you create new styles.\n\nPeople use this for game art, concept art, illustrations, even fashion and home decor concepts.\n\n* [Isometric Interiors](https://www.etsy.com/listing/1549463811/midjourney-prompt-for-isometric?click_key=a821d38365c2e9a4cab0fce34eab7e49ab22b2ea%3A1549463811&click_sum=f0197a9a&ga_search_query=game&ref=shop_items_search_2&sts=1)\n* [Portrait Photography](https://www.etsy.com/listing/1507790638/professional-midjourney-prompt-for?click_key=7b7af45a787492a17e2dfdd069fd43d0f4f7844e%3A1507790638&click_sum=0af900ea&ref=shop_home_active_4&crt=1&sts=1)\n* [Summer Vibes](https://www.etsy.com/listing/1486330051/ai-professional-midjourney-prompt-high?click_key=300c7ac47aa183492f8bb9b76ca6b8e561c79655%3A1486330051&click_sum=e8aa5da2&ref=shop_home_active_23&crt=1&sts=1)\n\n## Design and visualization\nSuppose you want to decorate a room and want ideas. If you can't afford a real decorator, you can use Midjourney instead.\nJust upload an image of the room and use it in a Midjourney prompt with some words that describe what you like to see in there.\n\n* [Rural Kitchen and Garden](https://www.etsy.com/listing/1491043285/midjourney-prompts-for-watercolor?click_key=821a283de43df5a16b3c19ac116b0ad3b69338fa%3A1491043285&click_sum=c0cf29db&ref=shop_home_active_1&crt=1&sts=1)\n\n## Prototypes and mockups\nMidjourney can be used to create UI mockups, like website page or mobile app mockups. \nIt can be used as an endless source of inspiration. Of course, Midjourney is (still) bad at rendering text, but again, we \ncan use the color schemes, layouts, components from the mockups.\n\n* [Mug Mockups](https://www.etsy.com/listing/1479988232/professional-midjourney-prompt-mug?click_key=b18293c146254971aa479c1d6d5cd038bab22705%3A1479988232&click_sum=fe33b12c&ga_search_query=mockup&ref=shop_items_search_1&sts=1)\n\n## Visual storytelling\nYou're very good writer but have no illustration skills. You can use Midjourney to create illustrations for your books, stories and tutorials.\n\nEven in the end you hire somebody to create the illustrations, giving them some examples with the illustration style you need it's a huge bonus in time and money. \n\n* [Victorian Christmas](https://www.etsy.com/listing/1582622263/victorian-christmas-midjourney-prompt?click_key=ba38ce97a2fadd2521fe21fa61ca612ab4640cc8%3A1582622263&click_sum=e0bc3b65&ref=shop_home_active_19&crt=1&sts=1)\n* [Retro Illustrations](https://www.etsy.com/listing/1494934056/midjourney-prompt-for-retro?click_key=f34baf127a233e5f7843178007d8eede7ebb39ca%3A1494934056&click_sum=22eac892&ref=shop_home_active_25&crt=1&sts=1)\n* [Golden Age Charm](https://www.etsy.com/listing/1496724346/golden-age-charm-midjourney-prompts-for?click_key=f9cf3fa0019ed8670806e83f154950319853f49f%3A1496724346&click_sum=537fae20&ref=shop_home_active_26&sts=1)\n\n## Visual representations of ideas\nMidjourney is very good at this. Although the results can be surprizing as any representation of an idea can be a bit unexpected.\n\n* [Funny and Exaggerated Caricature](https://www.etsy.com/listing/1557483961/midjourney-prompt-for-funny-and?click_key=94a91ef2c8ed42420034b423f57eb72ee34caa6c%3A1557483961&click_sum=2391b489&ga_search_query=funny&ref=shop_items_search_2&crt=1&sts=1)\n* [Biker Santa](https://www.etsy.com/listing/1566340566/biker-santa-claus-t-shirt-design?click_key=24194428aa7d5d34242d555fa4681f2aa4215377%3A1566340566&click_sum=71e4f607&ga_search_query=funny&ref=shop_items_search_1&crt=1&sts=1)\n\n\n## Conclusions\nMidjourney and other AI image generators are very powerful. And as any powerful tool it can be used to do good things or bad.\nSome of them (e.g. Midjourney) have a strict control and don't allow NSFW images, but some allow whatever you want to allow.\n\nThese tools and others like ChatGPT are here to stay. They will be ubiquitous. There is no turning back. I can't even imagine \nwithout fear what these tools will do ten years from now.","src/content/midjourney/index.mdx","d1748ed450c5a82f","solidjs-building-blocks",["Map",7,1172],{"id":7,"data":1173,"body":1183,"filePath":1184,"digest":1185,"rendered":1186,"legacyId":64},{"title":1174,"pubDate":1175,"description":1176,"keywords":1177,"twitterImage":1180,"minutesRead":1181,"excerpt":1182},"SolidJS Building Blocks",["Date","2022-09-05T00:00:00.000Z"],"SolidJS is a library for creating web apps that looks interesting enough to have our attention",[1178,1179],"Code","SolidJS","https://www.raresportan.com/twitter-cards/solidjs-building-blocks.png","11 min read","SolidJS is a library for creating web apps. Like React, Vue, Angular, and many others. So you might think:\n“Oh no, not another one, we have ","SolidJS is a library for creating web apps. Like React, Vue, Angular, and many others. So you might think:\n\"Oh no, not another one, we have enough of them already!\" That's exactly what I said when I heard about SolidJS in the \"State of JavaScript 2021\".\nBut in the end, two things made me look at SolidJS: it claims to be the fastest and Ryan Carniato.\n\nWhat is [SolidJS](https://www.solidjs.com/)?\n\n> \"A declarative, efficient, and flexible JavaScript library for building user interfaces.\"\n\nIt is used to render web pages and apps and to keep track of the state changes on them. It has a small size, 6.4kB(minified & gzipped when I'm writing this),\nhas no dependencies, and is faster than all others. (And I love fast software.) It's reactive and allows surgical changes to the DOM: update only the DOM element that needs to be updated, nothing else.\n\nSolidJS was created by [Ryan Carniato](https://twitter.com/RyanCarniato). He worked on Solid for several years in his free time (at night) --\nwhile his day job was to code another library, [MarkoJs](https://markojs.com/). Now he works on Solid exclusively.\nRyan knows a great deal about all the web libraries and frameworks out there. And this is not just a guess: he is discussing\nthe innards of SolidJS and other libraries in 3-4h of weekly live streams. I've learned so much from those streams. So of course I want to give Solid a try.\n\nWhen I first saw SolidJS code I thought is React. As React, Solid uses JSX, hooks, and functional components:\n\n```jsx\nimport { render } from \"solid-js/web\";\nimport { createSignal } from \"solid-js\";\n\nfunction Counter() {\n  const [count, setCount] = createSignal(0);\n  const increment = () => setCount(count() + 1);\n\n  return (\n    \u003Cbutton type=\"button\" onClick={increment}>\n      {count()}\n    \u003C/button>\n  );\n}\n\nrender(() => \u003CCounter />, document.getElementById(\"app\")!);\n```\n\nAs you can see, we have functional components (Counter), hooks(createSignal), and JSX.\n\nAt first glance, SolidJS code looks very similar to React code. But there are major differences.\n\nThe first one you might have noticed is that we need to call the state as a function:\n\n```js\nconst [count, setCount] = createSignal(0); // create hook\n...\n{count()} // get hook value\n```\n\nAnother important difference is that component functions are executed only once (and not every time the state changes as in React):\n\n```jsx\nimport { render } from \"solid-js/web\";\nimport { createSignal } from \"solid-js\";\n\nfunction Counter() {\n  const [count, setCount] = createSignal(0);\n  const increment = () => setCount(count() + 1);\n\n  // don't show the button if count > 5\n  if (count() > 5) {\n    return \u003Cdiv>Done\u003C/div>\n  }\n\n  return (\n    \u003Cbutton type=\"button\" onClick={increment}>\n      {count()}\n    \u003C/button>\n  );\n}\n\nrender(() => \u003CCounter />, document.getElementById(\"app\")!);\n```\n\nIn this example, we try to hide the button when the count is over 5. But the button will always be displayed! Why? Because Solid executes\nthe Counter function only once when the count() is 0.\n\nSolid is different for a reason: performance. To understand how it works, we need to look at the pieces that make Solid what it is.\n\n## Solid building blocks\n\nIf we think of a dynamic UI as a function of the state, we need to handle two situations:\n\n1. the initial rendering of the UI based on the initial state and\n2. the re-rendering of the UI when the state changes.\n\n```\nui = fn(state)\n```\n\nInitially, the entire UI must be rendered, but when the state changes multiple strategies can be used:\n\n1. re-render all UI\n2. re-render only the pieces of UI that are affected by the state change\n\nOn state change, Solid aims to re-render as little as possible. It makes surgical changes to the DOM.\nHow it does do that? Using a virtual DOM like most other libraries? No, Solid has no VDOM, not even a diffing algorithm,\nbut instead, it has a reactive system composed of several reactive primitives.\n\n### Signals\n\nThe Signal is the lead actor in reactive programming. In other places, Signals are called \"observables\", \"streams\", or \"subjects.\"\n\nThe signal is the thing that has the data but unlike regular values, signals are also event emitters. When the data kept in the signal is\nchanged, the signal emits events in the system so things that depend on the signal value can be notified.\n\nSignals are used in Solid to manage state.\n\nLet's look again at our Counter example, to the signal that holds a counter value:\n\n```js\nimport { createSignal } from \"solid-js\";\n\n//     value  set value               initial value\nconst [count, setCount] = createSignal(0);\n\n// reading the value\ncount(); // NOTE the (), getters are functions!\n\n// setting the value\nsetCount(1); // value is updated and event is emitted by the signal\n```\n\nThe signal looks very much like React's useState hook: `createSignal` returns a tuple\nwith the value getter and setter (since JavaScript doesn't have support for tuple, an array with two items is returned):\n\n- the first item is the value _getter_\n- the second item is the value setter\n\nThe only major difference is that the getter is also a function! To get the signal's value you need to use getter as a function.\nSo it's more correct to make clear that the getter is a function:\n\n```js\n//    get value  set value               initial value\nconst [getCount, setCount] = createSignal(0);\n\n// read the value\ngetCount();\n```\n\nUsing primitive(actually any immutable) values(numbers, strings, booleans, undefined, etc.) in signals is straightforward.\nBut we can also use objects as state and in this case, the things are a bit more complicated:\n\n```js\nimport { createSignal } from \"solid-js\";\n\nconst userData = {\n  name: \"Jon\",\n  loggedIn: false,\n};\n\n//   get value  set value             initial value\nconst [getUser, setUser] = createSignal(userData);\n\n// changing userData is not picked up by the signal\nuserData.loggedIn = true;\n\n// setting the same value does not emit events\nsetUser(userData);\n```\n\nSolidJS documentation says that by default, when calling a signal's setter, the signal only updates (and causes dependents to rerun)\nif the new value is different than the old value, according to JavaScript's `===` operator.\n\nTo fix this issue, createSignal has an option, called \"equals\" that can be used to bypass the default object equality check.\n\n```js\nconst [getValue, setValue] = createSignal(initialValue, { equals: false });\n```\n\nIf we set `equals: false`, calling the setter will trigger change events no matter the value:\n\n```js\nimport { createSignal } from \"solid-js\";\n\nconst userData = {\n  name: \"Jon\",\n  loggedIn: false,\n};\n\n//   get value  set value             initial value\nconst [getUser, setUser] = createSignal(userData, { equals: false });\n\n// changing userData is still not picked up by the signal\nuserData.loggedIn = true;\n\n// but setting the same value NOW emit events\nsetUser(userData);\n```\n\nAlternatively, for objects and arrays, SolidJS has another hook, called `createStore` (but will talk about stores some other time)\n\n### Effects\n\nThe other main piece of reactive programming is the observer. The thing that listens to data changes, the event listener.\nIn SolidJS effects are observers.\n\nWhen the signal emits events, the effect is the one that receives them and does something in response.\nTo create an effect use the createEffect \"hook\" and provide a function as an argument:\n\n```js\nimport { createSignal, createEffect } from \"solid-js\";\n\nconst [getCount, setCount] = createSignal(0);\n\ncreateEffect(() => {\n  console.log(getCount()); // 0 1 2\n});\n\nsetCount(1);\nsetCount(2);\n```\n\nIn the above example, the effect is bound to the count signal.\nThe effect function is called once (initially) and then when the count changes.\n\nEvery time the setCount() is called:\n\n- the value is changed in the signal\n- signal emits event\n- event is received by the effect\n- the effect's function is executed\n\nYou can have multiple effects using the same signal and you can use multiple signals in an effect.\n\nIf you come from React, ` createEffect`` looks similar to  `useEffect`. But _it is not_ the same thing:\n\n- there is no dependencies array, createEffect runs when the signals inside them emit events\n\n```js\ncreateEffect(() => {});\n```\n\n- you can create an effect inside another effect\n\n```js\ncreateEffect(() => {\n  createEffect(() => {\n    createEffect(() => {});\n  });\n});\n```\n\n- the function inside the effect has a \"previous\" value parameter which can be useful in some cases\n\n```js\ncreateEffect((prev = 0) => {\n  getUser(); // read signal;\n\n  const timesCalled = prev + 1;\n  console.log(\"Effect called \", timesCalled);\n  return timesCalled;\n});\n```\n\n- besides the function, createEffect can take another argument, which is the default value of \"prev\"\n  (used for the first run of the effect when there is no prev)\n\n```js\ncreateEffect((prev) => {\n  getUser(); // read signal;\n\n  const timesCalled = prev + 1;\n  console.log(\"Effect called \", timesCalled);\n  return timesCalled;\n}, 0); // here is the default prev value\n```\n\n### Memos\n\nThe SignalEffect combination. Both Signal and Effect. It is used as a Signal because it has data,\nbut the data is computed from other Signal(s) data. It is an Effect because it updates its data when source Signal(s) data change.\n\nSo it could be called SignalEffect but it's called Memo. Or you can call it a \"derivation.\"\n\n```js\nimport { createSignal, createEffect, createMemo } from \"solid-js\";\n\n// create two signals\nconst [getA, setA] = createSignal(0);\nconst [getB, setB] = createSignal(0);\n\n// create a memo which holds the sum of A & B\nconst sum = createMemo(() => getA() + getB());\n\n// create an effect to see the memo in action\ncreateEffect(() => {\n  console.log(\"Sum\", sum()); // 0 2 5\n});\n\nsetA(2);\nsetB(3);\n```\n\nEvery time the value of A or B changes, the sum is recomputed. This means the memo is an effect\n(because it listens to signal changes). And every time the sum is recomputed the memo emits an event\n(which can be picked up by effects). This means the memo acts like a regular signal.\n\nThe main difference between a memo and a signal is that there is no setter for memo.\n\nJust like `createEffect`, `createMemo` provides the previous value as an argument to its function.\nAlso, we can set a default value for that argument.\n\n```js\nimport { createSignal, createEffect, createMemo } from \"solid-js\";\n\nconst [getHoursSpentInMeetingsToday, setHoursSpentInMeetingsToday] =\n  createSignal(0);\n\n// create a memo which tracks total dependencies\nconst total = createMemo((prev) => getHoursSpentInMeetingsToday() + prev, 0);\n\n// create an effect to see the memo in action\ncreateEffect(() => {\n  console.log(\"Total hours spent in meetings\", total());\n});\n\nsetHoursSpentInMeetingsToday(1);\nsetHoursSpentInMeetingsToday(1.5);\n```\n\nAnd, yes, `createMemo` has a equals option just like `createSignal`.\n\n### Resources\n\nSolid provides another signal, called resource, that is used for async requests.\n\nIt needs as argument a function that returns a promise. It returns a data getter that wraps the value returned from the fetcher function.\n\n```js\nimport { createResource } from \"solid-js\";\n\n// create a fetcher function that returns a promise\nasync function fetchData() {}\n\n// create the resource\nconst [data] = createResource(fetchData);\n\n// read the value\ndata();\n```\n\nLet's see a real example, which uses an API to retrieve a joke.\n\n```js\nimport { createEffect, createResource } from \"solid-js\";\n\n// create a fetcher function that returns a promise\nasync function fetchData() {\n  const response = await fetch(\"https://icanhazdadjoke.com/\", {\n    headers: { Accept: \"application/json\" },\n  });\n  return await response.json();\n}\n\n// create the resource\nconst [data] = createResource(fetchData);\n\n// use an effect here because initially the data is undefined\n// and is set only after the data is loaded from the API\ncreateEffect(() => {\n  console.log(data()?.joke); // undefined // Why don't sharks eat clowns? Because they taste funny.\n});\n```\n\nThe nice thing about the data getter is that it has some properties that can be used to track the promise state:\n\n```js\n// check if promise is not resolved\ndata.pending;\n\n// check if the promise was rejected\ndata.error;\n```\n\nWith this, we can update the previous example to handle all cases:\n\n```js\nimport { createEffect, createResource } from \"solid-js\";\n\n// create a fetcher function that returns a promise\nasync function fetchData() {\n  const response = await fetch(\"https://icanhazdadjoke.com/\", {\n    headers: { Accept: \"application/json\" },\n  });\n  return await response.json();\n}\n\n// create the resource\nconst [data] = createResource(fetchData);\n\n// use an effect here because initially the data is undefined\n// and is set only after the data is loaded from the API\ncreateEffect(() => {\n  if (data && !data.pending) {\n    if (data.error) {\n      // handle error\n    } else {\n      // all good\n      console.log(data().joke); // Why don't sharks eat clowns? Because they taste funny.\n    }\n  }\n});\n```\n\n## Conclusion\n\nSolidJS is an interesting library. While it uses the familiar JSX, hooks, and functional components, SolidJS comes with a different way\nof thinking. I didn't use SolidJS enough yet to have an opinion about it.\n\nUsing state getters instead of values feels so obvious to me, I don't know why other libraries don't do the same, even by using a [JavaScript Proxy](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy) in the back.\n\nNow the main problem of SolidJS is that it has a small ecosystem compared to the big players. There are good chances you won't\nfind a SolidJS version of your favorite React npm package. Even the [SolidJS Router](https://github.com/solidjs/solid-router) was initially\na one-to-one port of React Router 6. That said, porting code from React to SolidJS is not very hard, so feel free to do it. Open source contributions are welcomed!\n\n## Resources\n\n- [SolidJS](https://www.solidjs.com/)\n- [SolidJS Tutorial](https://www.solidjs.com/tutorial/introduction_basics)","src/content/solidjs-building-blocks/index.md","0f7701bc40cf4c90",{"html":1187,"metadata":1188},"\u003Cp>SolidJS is a library for creating web apps. Like React, Vue, Angular, and many others. So you might think:\n“Oh no, not another one, we have enough of them already!” That’s exactly what I said when I heard about SolidJS in the “State of JavaScript 2021”.\nBut in the end, two things made me look at SolidJS: it claims to be the fastest and Ryan Carniato.\u003C/p>\n\u003Cp>What is \u003Ca href=\"https://www.solidjs.com/\">SolidJS\u003C/a>?\u003C/p>\n\u003Cblockquote>\n\u003Cp>“A declarative, efficient, and flexible JavaScript library for building user interfaces.”\u003C/p>\n\u003C/blockquote>\n\u003Cp>It is used to render web pages and apps and to keep track of the state changes on them. It has a small size, 6.4kB(minified &#x26; gzipped when I’m writing this),\nhas no dependencies, and is faster than all others. (And I love fast software.) It’s reactive and allows surgical changes to the DOM: update only the DOM element that needs to be updated, nothing else.\u003C/p>\n\u003Cp>SolidJS was created by \u003Ca href=\"https://twitter.com/RyanCarniato\">Ryan Carniato\u003C/a>. He worked on Solid for several years in his free time (at night) —\nwhile his day job was to code another library, \u003Ca href=\"https://markojs.com/\">MarkoJs\u003C/a>. Now he works on Solid exclusively.\nRyan knows a great deal about all the web libraries and frameworks out there. And this is not just a guess: he is discussing\nthe innards of SolidJS and other libraries in 3-4h of weekly live streams. I’ve learned so much from those streams. So of course I want to give Solid a try.\u003C/p>\n\u003Cp>When I first saw SolidJS code I thought is React. As React, Solid uses JSX, hooks, and functional components:\u003C/p>\n\u003Cpre class=\"language-jsx\" data-language=\"jsx\">\u003Ccode is:raw=\"\" class=\"language-jsx\">\u003Cspan class=\"token keyword\">import\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span> render \u003Cspan class=\"token punctuation\">}\u003C/span> \u003Cspan class=\"token keyword\">from\u003C/span> \u003Cspan class=\"token string\">\"solid-js/web\"\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token keyword\">import\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span> createSignal \u003Cspan class=\"token punctuation\">}\u003C/span> \u003Cspan class=\"token keyword\">from\u003C/span> \u003Cspan class=\"token string\">\"solid-js\"\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token keyword\">function\u003C/span> \u003Cspan class=\"token function\">Counter\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n  \u003Cspan class=\"token keyword\">const\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>count\u003Cspan class=\"token punctuation\">,\u003C/span> setCount\u003Cspan class=\"token punctuation\">]\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token function\">createSignal\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token number\">0\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n  \u003Cspan class=\"token keyword\">const\u003C/span> \u003Cspan class=\"token function-variable function\">increment\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token function\">setCount\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token function\">count\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">+\u003C/span> \u003Cspan class=\"token number\">1\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n  \u003Cspan class=\"token keyword\">return\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>button\u003C/span> \u003Cspan class=\"token attr-name\">type\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>button\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token attr-name\">onClick\u003C/span>\u003Cspan class=\"token script language-javascript\">\u003Cspan class=\"token script-punctuation punctuation\">=\u003C/span>\u003Cspan class=\"token punctuation\">{\u003C/span>increment\u003Cspan class=\"token punctuation\">}\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\u003Cspan class=\"token plain-text\">\n      \u003C/span>\u003Cspan class=\"token punctuation\">{\u003C/span>\u003Cspan class=\"token function\">count\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token plain-text\">\n    \u003C/span>\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>button\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n  \u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\n\n\u003Cspan class=\"token function\">render\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>\u003Cspan class=\"token class-name\">Counter\u003C/span>\u003C/span> \u003Cspan class=\"token punctuation\">/>\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> document\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">getElementById\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"app\"\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token operator\">!\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>As you can see, we have functional components (Counter), hooks(createSignal), and JSX.\u003C/p>\n\u003Cp>At first glance, SolidJS code looks very similar to React code. But there are major differences.\u003C/p>\n\u003Cp>The first one you might have noticed is that we need to call the state as a function:\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token keyword\">const\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>count\u003Cspan class=\"token punctuation\">,\u003C/span> setCount\u003Cspan class=\"token punctuation\">]\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token function\">createSignal\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token number\">0\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token comment\">// create hook\u003C/span>\n\u003Cspan class=\"token operator\">...\u003C/span>\n\u003Cspan class=\"token punctuation\">{\u003C/span>\u003Cspan class=\"token function\">count\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">}\u003C/span> \u003Cspan class=\"token comment\">// get hook value\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>Another important difference is that component functions are executed only once (and not every time the state changes as in React):\u003C/p>\n\u003Cpre class=\"language-jsx\" data-language=\"jsx\">\u003Ccode is:raw=\"\" class=\"language-jsx\">\u003Cspan class=\"token keyword\">import\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span> render \u003Cspan class=\"token punctuation\">}\u003C/span> \u003Cspan class=\"token keyword\">from\u003C/span> \u003Cspan class=\"token string\">\"solid-js/web\"\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token keyword\">import\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span> createSignal \u003Cspan class=\"token punctuation\">}\u003C/span> \u003Cspan class=\"token keyword\">from\u003C/span> \u003Cspan class=\"token string\">\"solid-js\"\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token keyword\">function\u003C/span> \u003Cspan class=\"token function\">Counter\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n  \u003Cspan class=\"token keyword\">const\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>count\u003Cspan class=\"token punctuation\">,\u003C/span> setCount\u003Cspan class=\"token punctuation\">]\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token function\">createSignal\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token number\">0\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n  \u003Cspan class=\"token keyword\">const\u003C/span> \u003Cspan class=\"token function-variable function\">increment\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token function\">setCount\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token function\">count\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">+\u003C/span> \u003Cspan class=\"token number\">1\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n  \u003Cspan class=\"token comment\">// don't show the button if count > 5\u003C/span>\n  \u003Cspan class=\"token keyword\">if\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token function\">count\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">>\u003C/span> \u003Cspan class=\"token number\">5\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n    \u003Cspan class=\"token keyword\">return\u003C/span> \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>div\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\u003Cspan class=\"token plain-text\">Done\u003C/span>\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>div\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n  \u003Cspan class=\"token punctuation\">}\u003C/span>\n\n  \u003Cspan class=\"token keyword\">return\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>button\u003C/span> \u003Cspan class=\"token attr-name\">type\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>button\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token attr-name\">onClick\u003C/span>\u003Cspan class=\"token script language-javascript\">\u003Cspan class=\"token script-punctuation punctuation\">=\u003C/span>\u003Cspan class=\"token punctuation\">{\u003C/span>increment\u003Cspan class=\"token punctuation\">}\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\u003Cspan class=\"token plain-text\">\n      \u003C/span>\u003Cspan class=\"token punctuation\">{\u003C/span>\u003Cspan class=\"token function\">count\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token plain-text\">\n    \u003C/span>\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>button\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n  \u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\n\n\u003Cspan class=\"token function\">render\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>\u003Cspan class=\"token class-name\">Counter\u003C/span>\u003C/span> \u003Cspan class=\"token punctuation\">/>\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> document\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">getElementById\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"app\"\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token operator\">!\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>In this example, we try to hide the button when the count is over 5. But the button will always be displayed! Why? Because Solid executes\nthe Counter function only once when the count() is 0.\u003C/p>\n\u003Cp>Solid is different for a reason: performance. To understand how it works, we need to look at the pieces that make Solid what it is.\u003C/p>\n\u003Ch2 id=\"solid-building-blocks\">Solid building blocks\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#solid-building-blocks\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>If we think of a dynamic UI as a function of the state, we need to handle two situations:\u003C/p>\n\u003Col>\n\u003Cli>the initial rendering of the UI based on the initial state and\u003C/li>\n\u003Cli>the re-rendering of the UI when the state changes.\u003C/li>\n\u003C/ol>\n\u003Cpre class=\"language-plaintext\" data-language=\"plaintext\">\u003Ccode is:raw=\"\" class=\"language-plaintext\">ui = fn(state)\n\u003C/code>\u003C/pre>\n\u003Cp>Initially, the entire UI must be rendered, but when the state changes multiple strategies can be used:\u003C/p>\n\u003Col>\n\u003Cli>re-render all UI\u003C/li>\n\u003Cli>re-render only the pieces of UI that are affected by the state change\u003C/li>\n\u003C/ol>\n\u003Cp>On state change, Solid aims to re-render as little as possible. It makes surgical changes to the DOM.\nHow it does do that? Using a virtual DOM like most other libraries? No, Solid has no VDOM, not even a diffing algorithm,\nbut instead, it has a reactive system composed of several reactive primitives.\u003C/p>\n\u003Ch3 id=\"signals\">Signals\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#signals\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cp>The Signal is the lead actor in reactive programming. In other places, Signals are called “observables”, “streams”, or “subjects.”\u003C/p>\n\u003Cp>The signal is the thing that has the data but unlike regular values, signals are also event emitters. When the data kept in the signal is\nchanged, the signal emits events in the system so things that depend on the signal value can be notified.\u003C/p>\n\u003Cp>Signals are used in Solid to manage state.\u003C/p>\n\u003Cp>Let’s look again at our Counter example, to the signal that holds a counter value:\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token keyword\">import\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span> createSignal \u003Cspan class=\"token punctuation\">}\u003C/span> \u003Cspan class=\"token keyword\">from\u003C/span> \u003Cspan class=\"token string\">\"solid-js\"\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token comment\">//     value  set value               initial value\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>count\u003Cspan class=\"token punctuation\">,\u003C/span> setCount\u003Cspan class=\"token punctuation\">]\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token function\">createSignal\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token number\">0\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token comment\">// reading the value\u003C/span>\n\u003Cspan class=\"token function\">count\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token comment\">// NOTE the (), getters are functions!\u003C/span>\n\n\u003Cspan class=\"token comment\">// setting the value\u003C/span>\n\u003Cspan class=\"token function\">setCount\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token number\">1\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token comment\">// value is updated and event is emitted by the signal\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>The signal looks very much like React’s useState hook: \u003Ccode>createSignal\u003C/code> returns a tuple\nwith the value getter and setter (since JavaScript doesn’t have support for tuple, an array with two items is returned):\u003C/p>\n\u003Cul>\n\u003Cli>the first item is the value \u003Cem>getter\u003C/em>\u003C/li>\n\u003Cli>the second item is the value setter\u003C/li>\n\u003C/ul>\n\u003Cp>The only major difference is that the getter is also a function! To get the signal’s value you need to use getter as a function.\nSo it’s more correct to make clear that the getter is a function:\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token comment\">//    get value  set value               initial value\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>getCount\u003Cspan class=\"token punctuation\">,\u003C/span> setCount\u003Cspan class=\"token punctuation\">]\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token function\">createSignal\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token number\">0\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token comment\">// read the value\u003C/span>\n\u003Cspan class=\"token function\">getCount\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>Using primitive(actually any immutable) values(numbers, strings, booleans, undefined, etc.) in signals is straightforward.\nBut we can also use objects as state and in this case, the things are a bit more complicated:\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token keyword\">import\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span> createSignal \u003Cspan class=\"token punctuation\">}\u003C/span> \u003Cspan class=\"token keyword\">from\u003C/span> \u003Cspan class=\"token string\">\"solid-js\"\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token keyword\">const\u003C/span> userData \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n  \u003Cspan class=\"token literal-property property\">name\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token string\">\"Jon\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n  \u003Cspan class=\"token literal-property property\">loggedIn\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token boolean\">false\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token comment\">//   get value  set value             initial value\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>getUser\u003Cspan class=\"token punctuation\">,\u003C/span> setUser\u003Cspan class=\"token punctuation\">]\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token function\">createSignal\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>userData\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token comment\">// changing userData is not picked up by the signal\u003C/span>\nuserData\u003Cspan class=\"token punctuation\">.\u003C/span>loggedIn \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token boolean\">true\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token comment\">// setting the same value does not emit events\u003C/span>\n\u003Cspan class=\"token function\">setUser\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>userData\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>SolidJS documentation says that by default, when calling a signal’s setter, the signal only updates (and causes dependents to rerun)\nif the new value is different than the old value, according to JavaScript’s \u003Ccode>===\u003C/code> operator.\u003C/p>\n\u003Cp>To fix this issue, createSignal has an option, called “equals” that can be used to bypass the default object equality check.\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token keyword\">const\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>getValue\u003Cspan class=\"token punctuation\">,\u003C/span> setValue\u003Cspan class=\"token punctuation\">]\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token function\">createSignal\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>initialValue\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span> \u003Cspan class=\"token literal-property property\">equals\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token boolean\">false\u003C/span> \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>If we set \u003Ccode>equals: false\u003C/code>, calling the setter will trigger change events no matter the value:\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token keyword\">import\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span> createSignal \u003Cspan class=\"token punctuation\">}\u003C/span> \u003Cspan class=\"token keyword\">from\u003C/span> \u003Cspan class=\"token string\">\"solid-js\"\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token keyword\">const\u003C/span> userData \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n  \u003Cspan class=\"token literal-property property\">name\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token string\">\"Jon\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n  \u003Cspan class=\"token literal-property property\">loggedIn\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token boolean\">false\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token comment\">//   get value  set value             initial value\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>getUser\u003Cspan class=\"token punctuation\">,\u003C/span> setUser\u003Cspan class=\"token punctuation\">]\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token function\">createSignal\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>userData\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span> \u003Cspan class=\"token literal-property property\">equals\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token boolean\">false\u003C/span> \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token comment\">// changing userData is still not picked up by the signal\u003C/span>\nuserData\u003Cspan class=\"token punctuation\">.\u003C/span>loggedIn \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token boolean\">true\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token comment\">// but setting the same value NOW emit events\u003C/span>\n\u003Cspan class=\"token function\">setUser\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>userData\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>Alternatively, for objects and arrays, SolidJS has another hook, called \u003Ccode>createStore\u003C/code> (but will talk about stores some other time)\u003C/p>\n\u003Ch3 id=\"effects\">Effects\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#effects\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cp>The other main piece of reactive programming is the observer. The thing that listens to data changes, the event listener.\nIn SolidJS effects are observers.\u003C/p>\n\u003Cp>When the signal emits events, the effect is the one that receives them and does something in response.\nTo create an effect use the createEffect “hook” and provide a function as an argument:\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token keyword\">import\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span> createSignal\u003Cspan class=\"token punctuation\">,\u003C/span> createEffect \u003Cspan class=\"token punctuation\">}\u003C/span> \u003Cspan class=\"token keyword\">from\u003C/span> \u003Cspan class=\"token string\">\"solid-js\"\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token keyword\">const\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>getCount\u003Cspan class=\"token punctuation\">,\u003C/span> setCount\u003Cspan class=\"token punctuation\">]\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token function\">createSignal\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token number\">0\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token function\">createEffect\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n  console\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">log\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token function\">getCount\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token comment\">// 0 1 2\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token function\">setCount\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token number\">1\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token function\">setCount\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token number\">2\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>In the above example, the effect is bound to the count signal.\nThe effect function is called once (initially) and then when the count changes.\u003C/p>\n\u003Cp>Every time the setCount() is called:\u003C/p>\n\u003Cul>\n\u003Cli>the value is changed in the signal\u003C/li>\n\u003Cli>signal emits event\u003C/li>\n\u003Cli>event is received by the effect\u003C/li>\n\u003Cli>the effect’s function is executed\u003C/li>\n\u003C/ul>\n\u003Cp>You can have multiple effects using the same signal and you can use multiple signals in an effect.\u003C/p>\n\u003Cp>If you come from React, \u003Ccode>createEffect`` looks similar to \u003C/code>useEffect`. But \u003Cem>it is not\u003C/em> the same thing:\u003C/p>\n\u003Cul>\n\u003Cli>there is no dependencies array, createEffect runs when the signals inside them emit events\u003C/li>\n\u003C/ul>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token function\">createEffect\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cul>\n\u003Cli>you can create an effect inside another effect\u003C/li>\n\u003C/ul>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token function\">createEffect\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n  \u003Cspan class=\"token function\">createEffect\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n    \u003Cspan class=\"token function\">createEffect\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n  \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cul>\n\u003Cli>the function inside the effect has a “previous” value parameter which can be useful in some cases\u003C/li>\n\u003C/ul>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token function\">createEffect\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">prev \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token number\">0\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n  \u003Cspan class=\"token function\">getUser\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token comment\">// read signal;\u003C/span>\n\n  \u003Cspan class=\"token keyword\">const\u003C/span> timesCalled \u003Cspan class=\"token operator\">=\u003C/span> prev \u003Cspan class=\"token operator\">+\u003C/span> \u003Cspan class=\"token number\">1\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n  console\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">log\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"Effect called \"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> timesCalled\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n  \u003Cspan class=\"token keyword\">return\u003C/span> timesCalled\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cul>\n\u003Cli>besides the function, createEffect can take another argument, which is the default value of “prev”\n(used for the first run of the effect when there is no prev)\u003C/li>\n\u003C/ul>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token function\">createEffect\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">prev\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n  \u003Cspan class=\"token function\">getUser\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token comment\">// read signal;\u003C/span>\n\n  \u003Cspan class=\"token keyword\">const\u003C/span> timesCalled \u003Cspan class=\"token operator\">=\u003C/span> prev \u003Cspan class=\"token operator\">+\u003C/span> \u003Cspan class=\"token number\">1\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n  console\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">log\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"Effect called \"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> timesCalled\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n  \u003Cspan class=\"token keyword\">return\u003C/span> timesCalled\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token number\">0\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token comment\">// here is the default prev value\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Ch3 id=\"memos\">Memos\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#memos\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cp>The SignalEffect combination. Both Signal and Effect. It is used as a Signal because it has data,\nbut the data is computed from other Signal(s) data. It is an Effect because it updates its data when source Signal(s) data change.\u003C/p>\n\u003Cp>So it could be called SignalEffect but it’s called Memo. Or you can call it a “derivation.”\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token keyword\">import\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span> createSignal\u003Cspan class=\"token punctuation\">,\u003C/span> createEffect\u003Cspan class=\"token punctuation\">,\u003C/span> createMemo \u003Cspan class=\"token punctuation\">}\u003C/span> \u003Cspan class=\"token keyword\">from\u003C/span> \u003Cspan class=\"token string\">\"solid-js\"\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token comment\">// create two signals\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>getA\u003Cspan class=\"token punctuation\">,\u003C/span> setA\u003Cspan class=\"token punctuation\">]\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token function\">createSignal\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token number\">0\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>getB\u003Cspan class=\"token punctuation\">,\u003C/span> setB\u003Cspan class=\"token punctuation\">]\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token function\">createSignal\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token number\">0\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token comment\">// create a memo which holds the sum of A &#x26; B\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> sum \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token function\">createMemo\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token function\">getA\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">+\u003C/span> \u003Cspan class=\"token function\">getB\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token comment\">// create an effect to see the memo in action\u003C/span>\n\u003Cspan class=\"token function\">createEffect\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n  console\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">log\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"Sum\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token function\">sum\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token comment\">// 0 2 5\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token function\">setA\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token number\">2\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token function\">setB\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token number\">3\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>Every time the value of A or B changes, the sum is recomputed. This means the memo is an effect\n(because it listens to signal changes). And every time the sum is recomputed the memo emits an event\n(which can be picked up by effects). This means the memo acts like a regular signal.\u003C/p>\n\u003Cp>The main difference between a memo and a signal is that there is no setter for memo.\u003C/p>\n\u003Cp>Just like \u003Ccode>createEffect\u003C/code>, \u003Ccode>createMemo\u003C/code> provides the previous value as an argument to its function.\nAlso, we can set a default value for that argument.\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token keyword\">import\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span> createSignal\u003Cspan class=\"token punctuation\">,\u003C/span> createEffect\u003Cspan class=\"token punctuation\">,\u003C/span> createMemo \u003Cspan class=\"token punctuation\">}\u003C/span> \u003Cspan class=\"token keyword\">from\u003C/span> \u003Cspan class=\"token string\">\"solid-js\"\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token keyword\">const\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>getHoursSpentInMeetingsToday\u003Cspan class=\"token punctuation\">,\u003C/span> setHoursSpentInMeetingsToday\u003Cspan class=\"token punctuation\">]\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span>\n  \u003Cspan class=\"token function\">createSignal\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token number\">0\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token comment\">// create a memo which tracks total dependencies\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> total \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token function\">createMemo\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">prev\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token function\">getHoursSpentInMeetingsToday\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">+\u003C/span> prev\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token number\">0\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token comment\">// create an effect to see the memo in action\u003C/span>\n\u003Cspan class=\"token function\">createEffect\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n  console\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">log\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"Total hours spent in meetings\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token function\">total\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token function\">setHoursSpentInMeetingsToday\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token number\">1\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token function\">setHoursSpentInMeetingsToday\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token number\">1.5\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>And, yes, \u003Ccode>createMemo\u003C/code> has a equals option just like \u003Ccode>createSignal\u003C/code>.\u003C/p>\n\u003Ch3 id=\"resources\">Resources\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#resources\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cp>Solid provides another signal, called resource, that is used for async requests.\u003C/p>\n\u003Cp>It needs as argument a function that returns a promise. It returns a data getter that wraps the value returned from the fetcher function.\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token keyword\">import\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span> createResource \u003Cspan class=\"token punctuation\">}\u003C/span> \u003Cspan class=\"token keyword\">from\u003C/span> \u003Cspan class=\"token string\">\"solid-js\"\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token comment\">// create a fetcher function that returns a promise\u003C/span>\n\u003Cspan class=\"token keyword\">async\u003C/span> \u003Cspan class=\"token keyword\">function\u003C/span> \u003Cspan class=\"token function\">fetchData\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\u003Cspan class=\"token punctuation\">}\u003C/span>\n\n\u003Cspan class=\"token comment\">// create the resource\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>data\u003Cspan class=\"token punctuation\">]\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token function\">createResource\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>fetchData\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token comment\">// read the value\u003C/span>\n\u003Cspan class=\"token function\">data\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>Let’s see a real example, which uses an API to retrieve a joke.\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token keyword\">import\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span> createEffect\u003Cspan class=\"token punctuation\">,\u003C/span> createResource \u003Cspan class=\"token punctuation\">}\u003C/span> \u003Cspan class=\"token keyword\">from\u003C/span> \u003Cspan class=\"token string\">\"solid-js\"\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token comment\">// create a fetcher function that returns a promise\u003C/span>\n\u003Cspan class=\"token keyword\">async\u003C/span> \u003Cspan class=\"token keyword\">function\u003C/span> \u003Cspan class=\"token function\">fetchData\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n  \u003Cspan class=\"token keyword\">const\u003C/span> response \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token keyword\">await\u003C/span> \u003Cspan class=\"token function\">fetch\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"https://icanhazdadjoke.com/\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n    \u003Cspan class=\"token literal-property property\">headers\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span> \u003Cspan class=\"token literal-property property\">Accept\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token string\">\"application/json\"\u003C/span> \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n  \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n  \u003Cspan class=\"token keyword\">return\u003C/span> \u003Cspan class=\"token keyword\">await\u003C/span> response\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">json\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\n\n\u003Cspan class=\"token comment\">// create the resource\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>data\u003Cspan class=\"token punctuation\">]\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token function\">createResource\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>fetchData\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token comment\">// use an effect here because initially the data is undefined\u003C/span>\n\u003Cspan class=\"token comment\">// and is set only after the data is loaded from the API\u003C/span>\n\u003Cspan class=\"token function\">createEffect\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n  console\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">log\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token function\">data\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token operator\">?.\u003C/span>joke\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token comment\">// undefined // Why don't sharks eat clowns? Because they taste funny.\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>The nice thing about the data getter is that it has some properties that can be used to track the promise state:\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token comment\">// check if promise is not resolved\u003C/span>\ndata\u003Cspan class=\"token punctuation\">.\u003C/span>pending\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token comment\">// check if the promise was rejected\u003C/span>\ndata\u003Cspan class=\"token punctuation\">.\u003C/span>error\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>With this, we can update the previous example to handle all cases:\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token keyword\">import\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span> createEffect\u003Cspan class=\"token punctuation\">,\u003C/span> createResource \u003Cspan class=\"token punctuation\">}\u003C/span> \u003Cspan class=\"token keyword\">from\u003C/span> \u003Cspan class=\"token string\">\"solid-js\"\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token comment\">// create a fetcher function that returns a promise\u003C/span>\n\u003Cspan class=\"token keyword\">async\u003C/span> \u003Cspan class=\"token keyword\">function\u003C/span> \u003Cspan class=\"token function\">fetchData\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n  \u003Cspan class=\"token keyword\">const\u003C/span> response \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token keyword\">await\u003C/span> \u003Cspan class=\"token function\">fetch\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"https://icanhazdadjoke.com/\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n    \u003Cspan class=\"token literal-property property\">headers\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span> \u003Cspan class=\"token literal-property property\">Accept\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token string\">\"application/json\"\u003C/span> \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n  \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n  \u003Cspan class=\"token keyword\">return\u003C/span> \u003Cspan class=\"token keyword\">await\u003C/span> response\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">json\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\n\n\u003Cspan class=\"token comment\">// create the resource\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>data\u003Cspan class=\"token punctuation\">]\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token function\">createResource\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>fetchData\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token comment\">// use an effect here because initially the data is undefined\u003C/span>\n\u003Cspan class=\"token comment\">// and is set only after the data is loaded from the API\u003C/span>\n\u003Cspan class=\"token function\">createEffect\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n  \u003Cspan class=\"token keyword\">if\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>data \u003Cspan class=\"token operator\">&#x26;&#x26;\u003C/span> \u003Cspan class=\"token operator\">!\u003C/span>data\u003Cspan class=\"token punctuation\">.\u003C/span>pending\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n    \u003Cspan class=\"token keyword\">if\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>data\u003Cspan class=\"token punctuation\">.\u003C/span>error\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n      \u003Cspan class=\"token comment\">// handle error\u003C/span>\n    \u003Cspan class=\"token punctuation\">}\u003C/span> \u003Cspan class=\"token keyword\">else\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n      \u003Cspan class=\"token comment\">// all good\u003C/span>\n      console\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">log\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token function\">data\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>joke\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token comment\">// Why don't sharks eat clowns? Because they taste funny.\u003C/span>\n    \u003Cspan class=\"token punctuation\">}\u003C/span>\n  \u003Cspan class=\"token punctuation\">}\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Ch2 id=\"conclusion\">Conclusion\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#conclusion\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>SolidJS is an interesting library. While it uses the familiar JSX, hooks, and functional components, SolidJS comes with a different way\nof thinking. I didn’t use SolidJS enough yet to have an opinion about it.\u003C/p>\n\u003Cp>Using state getters instead of values feels so obvious to me, I don’t know why other libraries don’t do the same, even by using a \u003Ca href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy\">JavaScript Proxy\u003C/a> in the back.\u003C/p>\n\u003Cp>Now the main problem of SolidJS is that it has a small ecosystem compared to the big players. There are good chances you won’t\nfind a SolidJS version of your favorite React npm package. Even the \u003Ca href=\"https://github.com/solidjs/solid-router\">SolidJS Router\u003C/a> was initially\na one-to-one port of React Router 6. That said, porting code from React to SolidJS is not very hard, so feel free to do it. Open source contributions are welcomed!\u003C/p>\n\u003Ch2 id=\"resources-1\">Resources\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#resources-1\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cul>\n\u003Cli>\u003Ca href=\"https://www.solidjs.com/\">SolidJS\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"https://www.solidjs.com/tutorial/introduction_basics\">SolidJS Tutorial\u003C/a>\u003C/li>\n\u003C/ul>",{"headings":1189,"imagePaths":1206,"frontmatter":1173},[1190,1193,1196,1199,1202,1203,1204],{"depth":51,"slug":1191,"text":1192},"solid-building-blocks","Solid building blocks",{"depth":88,"slug":1194,"text":1195},"signals","Signals",{"depth":88,"slug":1197,"text":1198},"effects","Effects",{"depth":88,"slug":1200,"text":1201},"memos","Memos",{"depth":88,"slug":98,"text":99},{"depth":51,"slug":157,"text":158},{"depth":51,"slug":1205,"text":99},"resources-1",[],"short-introduction-to-xstate",["Map",7,1209],{"id":7,"data":1210,"body":1217,"filePath":1218,"digest":1219,"legacyId":18,"deferredRender":19},{"title":1211,"pubDate":1212,"description":1213,"keywords":1214},"A short introduction to XState",["Date","2021-09-14T00:00:00.000Z"],"State management is complicated but there are ways to make it better with finite state machines like XState",[1215,1115,1216],"XState","State management","> Welcome my son, welcome to the machine - Pink Floyd\n\nEverything that's interactive needs some state. All apps have state, web pages with forms, SPAs, and so on. As the app grows,\nso does the state. At some point, it becomes hard to manage.\n\nMost of the time, a bad state might not be a big issue. But sometimes it can be fatal. A decade ago, Toyota had a huge problem because of\nbad state. Toyota cars suffered from sudden \"unintended acceleration\", that is the car was still accelerating even if you didn't press the gas pedal,\nand even if you pressed the brake. People were dying because of this.\n\nLong story short, the problem was in the firmware. It used global variables for the state. Among those global variables, was one keeping track of acceleration.\nWhen that flag was true, the car was deemed to accelerate. And it did. The only issue was that the process that was supposed to reset the\nflag sometimes failed. So the flag stayed true and the car was accelerating even if was not supposed to.\n\nSo it's pretty obvious that in some cases at least, we need solid state management. One of the solutions is a _finite state machine (FSM)_:\n\n> It is an abstract machine that can be in exactly one of a finite number of states at any given time. The FSM can change from one state to another in response to some inputs; the change from one state to another is called a transition - [Wikipedia](https://en.wikipedia.org/wiki/Finite-state_machine)\n\nIf we were to model a finite state machine for a car, among the possible states is \"accelerating\" and \"decelerating\", but the machine can be only in one of the states at a time, not both.\n\nimport { Picture } from \"astro:assets\";\n\n\u003CPicture\n  src={import(\"./car_xstate.png\")}\n  widths={[480, 800]}\n  formats={[\"webp\"]}\n  sizes=\"(max-width: 600px) 480px, 800px\"\n  alt=\"An XState finite state machine for a car\"\n/>\n\nThis means that:\n\n- The car can be stopped, accelerating (increase speed), decelerating(decrease speed), or can have a constant speed.\n- To start the car or to increase the speed you need to accelerate. The moment you take your foot off the gas pedal, the car stops accelerating.\n- To decrease the speed you need to decelerate. The moment you take your foot off the brake pedal, the car stops decelerating.\n- When the car is not accelerating or decelerating the speed is constant (even if is stopped)\n\nAn implementation of the FSM using [XState](https://xstate.js.org/) looks like this:\n\n```js\nconst carMachine = Machine({\n  id: \"car\",\n  initial: \"stopped\",\n  states: {\n    stopped: {\n      on: {\n        ACCELERATE: \"accelerating\",\n      },\n    },\n    accelerating: {\n      on: {\n        STOP: \"constant_speed\",\n      },\n    },\n    decelerating: {\n      on: {\n        STOP: \"constant_speed\",\n      },\n    },\n    constant_speed: {\n      on: {\n        brake: \"decelerating\",\n        ACCELERATE: \"accelerating\",\n        PARK: \"stopped\",\n      },\n    },\n  },\n});\n```\n\nThe initial state is \"stopped\", then we set the possible states (that must include the initial state.)\nEach state accepts at least one event (all caps labels), which are used to go from one state to another.\n\nYou can copy the above code inside [XState Visualizer](https://xstate.js.org/viz/) and play with it.\n\n## XState\n\n[XState](https://xstate.js.org/) is a finite state machine implementation in JavaScript. It can be used with vanilla JavaScript, React, Vue,\nand other JavaScript frameworks.\n\nFirst, you need to add the xstate npm package to your project:\n\n```\nnpm install xstate --save\n```\n\nThen import Machine or createMachine where you create the machine:\n\n```js\nimport { Machine, createMachine } from \"xstate\";\n```\n\n`Machine` and `createMachine` have the same effect, but Machine will be deprecated in the future, so you should use `createMachine`.\nHowever, `createMachine` is not available today on [XState Visualizer](https://xstate.js.org/viz/) so we're forced to use Machine there.\n\nThere are two things we need to know:\n\n- How to configure the machine to work as we want\n- How to use the machine: how to read and change state\n\n### Configuration\n\nTo create a machine, we need to provide a _configuration_ (which is a simple JavaScript object).\nThe configuration needs two things :\n\n- the initial state\n- the available states (which must contain the initial state)\n\nThe simplest machine can have only one state. If we ignore the time before the Big Bang, the universe is always expanding. A machine for\nthe universe looks like this then:\n\n```js\nconst config = {\n  initial: \"expanding\",\n  states: {\n    expanding: {},\n  },\n};\n\nconst universeMachine = Machine(config);\n```\n\nIf machines have more than one state, we need _ways_ to make the machine change state. These ways are called _events._ Unless one of these events occurs, the machine will maintain the same state.\n\nWe cannot just send any random events, we need to trigger events that are understood by the machine and more precisely, events that are available for the current state.\n\nConsider the following _lightbulb_ machine. A light bulb can either be lit or unlit.\n\n```js\nconst config = {\n  initial: \"unlit\",\n  states: {\n    lit: {},\n    unlit: {},\n  },\n};\n\nconst lightbulbMachine = Machine(config);\n```\n\nWe can turn on the bulb when is unlit, and turn it off when is lit. This means that the LIT event is available only when the light bulb is unlit, and the\nUNLIT event is available only when the bulb is lit.\n\n```js\nconst config = {\n  initial: \"unlit\",\n  states: {\n    lit: {\n      on: {\n        UNLIT: \"unlit\",\n      },\n    },\n    unlit: {\n      on: {\n        LIT: \"lit\",\n      },\n    },\n  },\n};\n\nconst lightbulbMachine = Machine(config);\n```\n\nThe events supported by a state are set inside an _on_ object, set as a state object property. By convention, the _names_ of the events are in full caps.\n\n**If you send events that are not supported by the current state, they are ignored!**\n\nThe _value_ for an event is the _targeted state_ that the machine should transition to. As a shorthand, we can just\nspecify the name of the state, but that is the same as the following:\n\n```js\nconst config = {\n  initial: \"unlit\",\n  states: {\n    lit: {\n      on: {\n        UNLIT: {\n          target: \"unlit\",\n        },\n      },\n    },\n    unlit: {\n      on: {\n        LIT: {\n          target: \"lit\",\n        },\n      },\n    },\n  },\n};\n\nconst lightbulbMachine = Machine(config);\n```\n\nSo now the question is _why should I use the long version instead of the shorthand?_ Because the long version allows you to also set some actions\nthat are executed when the event is triggered:\n\n```js\nconst config = {\n  initial: \"unlit\",\n  states: {\n    lit: {\n      on: {\n        UNLIT: {\n          target: \"unlit\",\n          actions: [() => console.log(\"Hello darkness my old friend...\")],\n        },\n      },\n    },\n    unlit: {\n      on: {\n        LIT: {\n          target: \"lit\",\n          actions: [() => console.log(\"Let there be light...\")],\n        },\n      },\n    },\n  },\n};\n\nconst lightbulbMachine = Machine(config);\n```\n\nNow you might think that _This machine looks useful but I need some of my state somewhere. I can see how I can use a machine with an API call but where am I suppose to keep the API response data?_\nThe answer is the machine's _context_!\n\nA third thing you can configure for a machine, after state and events, is the _context_: the data you want to keep in the machine.\n\nTo keep things simple, let's continue with the light bulb machine and assume the light bulb is intelligent: it's guaranteed to be turned on and off 10000 times. When it approaches that limit, it sends\nan email to notify you to buy a new one.\n\n```js\nconst mailService = {\n  send: (msg) => {\n    console.log(msg);\n  },\n};\n\nconst config = {\n  initial: \"unlit\",\n  context: {\n    limit: 0,\n  },\n  states: {\n    lit: {\n      entry: (context, event) => {\n        if (context.limit > 9900 && context.limit % 10 === 0) {\n          // approaching limit\n          mailService.send(\"Please buy a new smart light bulb!\");\n        }\n      },\n      on: {\n        UNLIT: \"unlit\",\n      },\n    },\n    unlit: {\n      on: {\n        LIT: {\n          target: \"lit\",\n          actions: assign({ limit: (context, event) => context.limit + 1 }),\n        },\n      },\n    },\n  },\n};\n\nconst lightbulbMachine = Machine(config);\n```\n\nHow this works:\n\n- With have an initial context with the _limit_ state set to 0\n- Each time we send a **LIT** event we use _assign_ action to increase the limit\n- When the limit is over 9900 and limit is multiple of 10 and we **enter** _lit_ state, we use the email service to send an email\n\nOf course, there are many more ways to configure a machine. Read the [XState documentation](https://xstate.js.org/docs/) to find the configuration that suits you.\n\n### Usage\n\nWe can use the machine in two ways: read its state and send events to change the state.\n\nBefore we can use the machine we need to use an _interpreter_ to create an instance of the machine. This means we can have multiple machine instances,\neach with its own state. That makes sense right? We have multiple light bulbs in our house and we cannot use the same machine for all because some might be on and some off.\n\n```js\nimport { interpret } from 'xstate'\n...\nconst lightbulbMachine = Machine(config);\n\n// create machine instance\nconst service = interpret(lightbulbMachine).start();\n\n// to get the machine state\nconst currentState = service.state.value;\n\n// to see if it matches a state\nconst isLit = state.matches('lit'));\n\n// to read context\nconst { limit } = state.context;\n\n// we can also use the service to send events to the machine\nconst nextState = service.send('LIT');\n```\n\nThe way this is supposed to work is to create the machine instance somewhere and send it in all the code that needs the machine.\n\n## Resources\n\n- [XState](https://xstate.js.org/)\n- [Introduction to State Machines Using XState](https://egghead.io/courses/introduction-to-state-machines-using-xstate)","src/content/short-introduction-to-xstate/index.mdx","6bab48f658b4f4a1","sudoku-solver",["Map",7,1222],{"id":7,"data":1223,"body":1230,"filePath":1231,"digest":1232,"rendered":1233,"legacyId":64},{"title":1224,"pubDate":1225,"description":1226,"keywords":1227,"twitterImage":1228,"minutesRead":1181,"excerpt":1229},"Sudoku Solver",["Date","2022-10-20T00:00:00.000Z"],"How I've build a program that solves any Sudoku",[179],"https://www.raresportan.com/twitter-cards/sudoku-solver.png","I became interested in the Sudoku game after a failed opportunity to build it for a client.\nI’ve never played Sudoku before (I’m a video gam","I became interested in the Sudoku game after a failed opportunity to build it for a client.\nI've never played Sudoku before (I'm a video game fan) but soon I found how complex this\nlittle game is and how many things must be implemented for a great experience.\n\nSo I started to build it for myself. Soon I found that I need a lot of things:\n\n- a solver: a program that solves the game by finding all the missing digits\n- a generator: a program that can generate games of different difficulty, ideally automated, new games every day.\n- a great UI: candidates support, a lot of helper functions like hints, auto check for mistakes,\n  check if a cell is correct, check if all the cells are correct, and so on.\n\nFor the moment I've implemented the solver, and in this post, we'll detail how it was done. If you want to test it, find a Sudoku somewhere, put the digits in and press the “Solve” button. If the Sudoku can be solved you'll see the solution:\n[Sudoku Solver](https://solving-sudoku.netlify.app/)\n\n## Inspiration\n\nI've found the ultra-elegant solution done by Peter Norvig, [Solving Every Sudoku Puzzle](http://norvig.com/sudoku.html)\nwritten in Python. Sadly I needed the JavaScript version, and an easy port of that Python code is not possible because JavaScript doesn't\nhave the same iterators and built-in functions.\n\nThe solving strategy is:\n\n1. For each cell with a single digit (known digit from the start) eliminate that digit\n   from all the peer cells (the row, the column, and the box that contains the digit).\n2. After these initial eliminations, is possible to have new cells with single digits,\n   so we need to repeat step 1 for them. In the end, we'll have some cells with a single digit,\n   some maybe with 2 or 3 digits, and some still with 9 digits - representing all the possible\n   digits that might go in that cell.\n3. Do a brute-force search for the solution by looping through each cell digit\n   until we have the solution. (For example, using the above grid, we try 4,1,1,1...,\n   then 4,6,1,1...).\n\n## Data models\n\nTo create the data models we'll use a function that creates the \"cross product\"\nof two arrays. Cross `[A, B]` with `[1, 2]` will result in `[A1, A2, B1, B2]`\n\n```js\nfunction cross(A, B){\n    return A.map(a => B.map(b => a+b)).flat();\n}\n```\n\nWe also need some constants:\n\n```js\nconst rows = ['A','B','C','D','E','F','G','H','I'];\nconst cols = ['1','2','3','4','5','6','7','8','9'];\nconst boxRows = [['A','B','C'], ['D','E','F'], ['G','H','I']];\nconst boxCols = [['1','2','3'], ['4','5','6'], ['7','8','9']];\nconst digits = \"123456789\";\n```\n\nWe this, we can now define:\n\n### All squares (cells)\n\n```js\n// 81 boards squares:  ['A1', 'A2'...., 'I8', 'I9'];\nconst squares = cross(rows, cols);\n```\n\n### Board units\n\nWhen you fill a Sudoku the rule is that one digit can appear once in a `row`, a `column`,\nor a `box`. So these are the `unitlist` we care about:\n\n```js\n// all columns, all rows, and all 3x3 boxes\nconst unitlist = [];\n\n// add all columns\ncols.forEach(c => unitlist.push(cross(rows, [c]) ) );\n\n// add all rows\nrows.forEach(r => unitlist.push(cross([r], cols) ) );\n\n// add all boxes (3x3 boxes)\nboxRows.forEach(rs => boxCols.forEach(cs => unitlist.push(cross(rs, cs))));\n```\n\n### Square units\n\nAdd the row, col, and box each square belongs to:\n\n```js\nconst units = {};\nsquares.forEach(sq => {\n    // find each unit that contains the square and add it here\n    units[sq] = unitlist.filter(u => u.includes(sq))\n});\n```\n\n### Square peers\n\nAll peers squares, all squares that cannot have the same value, basically the above units without the square itself\n\n```js\nconst peers = {};\nsquares.forEach(sq => {\n    // find all squares that are not equal to sq\n    const peerSqs = units[sq].map(u => u.filter(s => s !== sq)).flat();\n    // transform peer array to object where each sq value is true, e.g. { B1: true, C1: true, ... C2: true, C3: true }\n    peers[sq] = peerSqs.reduce((acc, curr) => {acc[curr] = true; return acc}, {});\n});\n```\n\n## Eliminating digits\n\nWe initialize the digits for each square to 123456789, meaning each digit can be the final value\nin each square.\n\n```\n123456789  123456789  123456789 | 123456789  123456789  123456789 | 123456789  123456789  123456789\n123456789  123456789  123456789 | 123456789  123456789  123456789 | 123456789  123456789  123456789\n123456789  123456789  123456789 | 123456789  123456789  123456789 | 123456789  123456789  123456789\n--------------------------------+---------------------------------+------------------------\n123456789  123456789  123456789 | 123456789  123456789  123456789 | 123456789  123456789  123456789\n123456789  123456789  123456789 | 123456789  123456789  123456789 | 123456789  123456789  123456789\n123456789  123456789  123456789 | 123456789  123456789  123456789 | 123456789  123456789  123456789\n--------------------------------+---------------------------------+------------------------\n123456789  123456789  123456789 | 123456789  123456789  123456789 | 123456789  123456789  123456789\n123456789  123456789  123456789 | 123456789  123456789  123456789 | 123456789  123456789  123456789\n123456789  123456789  123456789 | 123456789  123456789  123456789 | 123456789  123456789  123456789\n```\n\nEach sudoku gives us some digits, so we know the digit in some squares from the start. We can safely remove those digits from the rest of the square peers. For example, if we know that 4 is the digit that goes in the first cell, A1, then we can remove 4 from all the row, column, and box squares that contain A1:\n\n```\n4         12356789  12356789  | 12356789  12356789  12356789  | 12356789  12356789  12356789\n12356789  12356789  12356789  | 123456789 123456789 123456789 | 123456789 123456789 123456789\n12356789  12356789  12356789  | 123456789 123456789 123456789 | 123456789 123456789 123456789\n------------------------------+-------------------------------+-------------------------------\n12356789  123456789 123456789 | 123456789 123456789 123456789 | 123456789 123456789 123456789\n12356789  123456789 123456789 | 123456789 123456789 123456789 | 123456789 123456789 123456789\n12356789  123456789 123456789 | 123456789 123456789 123456789 | 123456789 123456789 123456789\n------------------------------+-------------------------------+-------------------------------\n12356789  123456789 123456789 | 123456789 123456789 123456789 | 123456789 123456789 123456789\n12356789  123456789 123456789 | 123456789 123456789 123456789 | 123456789 123456789 123456789\n12356789  123456789 123456789 | 123456789 123456789 123456789 | 123456789 123456789 123456789\n```\n\nAfter we reduce all the digits we know we end up with something like this:\n\n```\n4       1679    12679   | 139     2369    269     | 8       1239    5\n26789   3       1256789 | 14589   24569   245689  | 12679   1249    124679\n2689    15689   125689  | 7       234569  245689  | 12369   12349   123469\n------------------------+-------------------------+-------------------------\n3789    2       15789   | 3459    34579   4579    | 13579   6       13789\n3679    15679   15679   | 359     8       25679   | 4       12359   12379\n36789   4       56789   | 359     1       25679   | 23579   23589   23789\n------------------------+-------------------------+-------------------------\n289     89      289     | 6       459     3       | 1259    7       12489\n5       6789    3       | 2       479     1       | 69      489     4689\n1       6789    4       | 589     579     5789    | 23569   23589   23689\n```\n\nThis is done by the `parseGrid`, `assign`, and `eliminate` functions (full code at the end).\n\nAfter this phase is done, the `solve` function does a brute-force search for a solution:\n\n1. Search for a square with the fewest digits (more than one).\n2. Assume one of those digits is the correct one.\n3. Try to eliminate the digit from peers and continue until we have a solution.\n   If at some point the eliminations fail, go back to step 1.\n\n## Full code\n\n```js\n/*\nSUDOKU solver\n\nEach square has a name, like A1, D4, F7:\n\n    1  2  3   4  5  6   7  8  9\n  -----------------------------\nA | A1 A2 A3| A4 A5 A6| A7 A8 A9\nB | B1 B2 B3| B4 B5 B6| B7 B8 B9\nC | C1 C2 C3| C4 C5 C6| C7 C8 C9\n    --------+---------+---------\nD | D1 D2 D3| D4 D5 D6| D7 D8 D9\nE | E1 E2 E3| E4 E5 E6| E7 E8 E9\nF | F1 F2 F3| F4 F5 F6| F7 F8 F9\n    --------+---------+---------\nG | G1 G2 G3| G4 G5 G6| G7 G8 G9\nH | H1 H2 H3| H4 H5 H6| H7 H8 H9\nI | I1 I2 I3| I4 I5 I6| I7 I8 I9\n\nWe have rows, columns and 3x3 boxes, e.g.\n* Row A: A1 A2 A3 A4 A5 A6 A7 A8 A9\n* Col 1: A1 B1 C1 D1 E1 F1 G1 H1 I1\n* Box 1: A1 A2 A3\n         B1 B2 B3\n         C1 C2 C3\n*/\n\n/* [A,B,..]+[1,2..] => [A1,A2..,B1,B2..] */\nfunction cross(A, B){\n    return A.map(a => B.map(b => a+b)).flat();\n}\n\nconst rows = ['A','B','C','D','E','F','G','H','I'];\nconst cols = ['1','2','3','4','5','6','7','8','9'];\nconst boxRows = [['A','B','C'], ['D','E','F'], ['G','H','I']];\nconst boxCols = [['1','2','3'], ['4','5','6'], ['7','8','9']];\nconst digits = \"123456789\";\n\n// 81 board squares:  ['A1', 'A2'...., 'I8', 'I9'];\nconst squares = cross(rows, cols);\n\n// all colums, all rows and all 3x3 boxes\nconst unitlist = [];\n// add all columns\ncols.forEach(c => unitlist.push(cross(rows, [c]) ) );\n\n// add all rows\nrows.forEach(r => unitlist.push(cross([r], cols) ) );\n\n// add all boxes (3x3 boxes)\nboxRows.forEach(rs => boxCols.forEach(cs => unitlist.push(cross(rs, cs))));\n\n// add the row, col and box each square belongs to\nconst units = {};\nsquares.forEach(sq => {\n    // find each unit that contains the square and add it here\n    units[sq] = unitlist.filter(u => u.includes(sq))\n});\n\n// all peers squares, all squares that cannot have the same value\n// basically the above units without the square\nconst peers = {};\nsquares.forEach(sq => {\n    // find all squares that are not equal to sq\n    const peerSqs = units[sq].map(u => u.filter(s => s !== sq)).flat();\n    // transform peer array to object where each sq value is true, e.g. { B1: true, C1: true, ... C2: true, C3: true }\n    peers[sq] = peerSqs.reduce((acc, curr) => {acc[curr] = true; return acc}, {});\n});\n\n\n // Given a string of 81 digits (or . or 0 or -), return an obj as {cell:values}\nfunction parseGrid(rawGrid) {\n  if(!rawGrid || rawGrid.length !== 81){\n    throw new Error(`Invalid data, 81 characters expected`);\n  }\n\n  let grid = '';\n  for(let ch of rawGrid) {\n    if(/[0.\\-123456789]/g.test(ch)) {\n      grid += ch;\n    } else {\n      throw new Error(`Invalid character ${ch}. Accepted charcters are: 0.-123456789`)\n    }\n  }\n\n  const values = {};\n  // initialize the value of each square to 1234556789\n  squares.forEach(sq => { values[sq] = digits });\n\n  for (let s in squares) {\n      const ch = grid.charAt(s);\n      // if the value is a digit remove that value from all the peers\n      if (digits.indexOf(ch) >= 0 && !assign(values, squares[s], ch))\n        return false;\n    }\n\n  return values;\n}\n\n/*\n  Eliminate all the other values (except dig) from values[sq] and propagate.\n*/\nfunction assign(values, sq, dig) {\n  let result = true;\n  const squareValues = values[sq];\n  // eliminate each ch from peers, e.g squareValues=123456789, dig=1 => remove\n  for(let ch of squareValues)\n    if(ch !== dig)\n      result &= !!eliminate(values, sq, ch);\n\n  return result && values;\n}\n\nfunction eliminate(values, sq, dig) {\n  // if already eliminated.\n  if (values[sq].indexOf(dig) === -1)\n    return values;\n\n  // remove dig from square digits\n  values[sq] = values[sq].replace(dig, \"\");\n\n  // invalid input ?\n  if (values[sq].length === 0) {\n    return false; // bail out, wrong state\n  }\n  else if (values[sq].length === 1) {\n    // (1) if there is only one digit left in square,\n    // remove it from peers\n    let result = true;\n    for (let s in peers[sq])\n      result &= !!eliminate(values, s, values[sq]);\n    if (!result) return false; // bail out, wrong state\n  }\n\n  // (2) if a unit u is reduced to only one place for a value d,\n  // then put it there.\n  for(let unit of units[sq]) {\n    // when we remove a digit from a square there is a chance that that digit\n    // is now only once present in the square's row/col/box which means\n    // that place is the digit's place on board\n    const digitPlaces = unit.filter(unitSq => values[unitSq].indexOf(dig) !== -1);\n    if(digitPlaces.length === 1) {\n      if (!assign(values, digitPlaces[0], dig)){\n        return false; // bail, no luck\n      }\n    }\n  }\n  return values;\n}\n\n\nfunction search(values){\n  // bad state, can't solve\n  if (!values)\n    return false;\n\n  // find square with biggest number of digits,\n  // if max is 1 we are done, all squares should have 1 digit\n  const max = squares.map(sq => values[sq]).reduce((max, val) => Math.max(max, val.length), 0);\n  if(max === 1)\n    return values;\n\n  // chose the unfilled square s with the fewest possibilities\n  const sortedSquares = [...squares].filter(sq => values[sq].length !== 1);\n  sortedSquares.sort((a, b) => values[a].length > values[b].length ? 1 : -1);\n\n  const minSquare = sortedSquares[0];\n  const minSquareDigits = values[minSquare];\n\n  for(let dig of minSquareDigits) {\n    const valuesClone = {...values};\n    const result = search(assign(valuesClone, minSquare, dig));\n    if(result) {\n      return result;\n    }\n  }\n\n  return false; // no luck\n}\n\n\n// Display board\nfunction display(values){\n  if(!values) return;\n\n  // find max square digits e.g can be 123456789 or less\n  const width = squares.map(sq => values[sq]).reduce((max, val) => Math.max(max, val.length), 0);\n  const boxBottom = '\\n'+'-'.repeat(width*3+3)+'+'+'-'.repeat(width*3+4)+'+'+'-'.repeat(width*3+4);\n\n  let board = rows.map((row, rindex) => {\n    let rowString = cols\n                      .map(col => values[row + col]) // get square digits e.g. '1234'\n                      .map(val => val += ' '.repeat(width - val.length + 1)) // add extra empty spaces\n                      .map((str, index) => index === 2 || index === 5 ? str +='| ': str) // add separator\n                      .join('') // transform to string\n    if(rindex === 2 || rindex === 5) {\n      rowString+=boxBottom;\n    }\n\n    return rowString;\n  }).join('\\n');\n  console.log('\\n');\n  console.log(board);\n}\n\nfunction solve(rawGrid) {\n  return search(parseGrid(rawGrid));\n}\n\n// usage\ndisplay(solve('4.....8.5.3..........7......2.....6.....8.4......1.......6.3.7.5..2.....1.4......'));\n```\n\n## Resources\n\n- [Solving Every Sudoku Puzzle](http://norvig.com/sudoku.html)\n- [Sudoku Solving Program : Translating Python to JavaScript](http://pankaj-k.net/weblog/2007/03/sudoku_solving_program_transla.html)","src/content/sudoku-solver/index.md","15c379d5c5685d1e",{"html":1234,"metadata":1235},"\u003Cp>I became interested in the Sudoku game after a failed opportunity to build it for a client.\nI’ve never played Sudoku before (I’m a video game fan) but soon I found how complex this\nlittle game is and how many things must be implemented for a great experience.\u003C/p>\n\u003Cp>So I started to build it for myself. Soon I found that I need a lot of things:\u003C/p>\n\u003Cul>\n\u003Cli>a solver: a program that solves the game by finding all the missing digits\u003C/li>\n\u003Cli>a generator: a program that can generate games of different difficulty, ideally automated, new games every day.\u003C/li>\n\u003Cli>a great UI: candidates support, a lot of helper functions like hints, auto check for mistakes,\ncheck if a cell is correct, check if all the cells are correct, and so on.\u003C/li>\n\u003C/ul>\n\u003Cp>For the moment I’ve implemented the solver, and in this post, we’ll detail how it was done. If you want to test it, find a Sudoku somewhere, put the digits in and press the “Solve” button. If the Sudoku can be solved you’ll see the solution:\n\u003Ca href=\"https://solving-sudoku.netlify.app/\">Sudoku Solver\u003C/a>\u003C/p>\n\u003Ch2 id=\"inspiration\">Inspiration\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#inspiration\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>I’ve found the ultra-elegant solution done by Peter Norvig, \u003Ca href=\"http://norvig.com/sudoku.html\">Solving Every Sudoku Puzzle\u003C/a>\nwritten in Python. Sadly I needed the JavaScript version, and an easy port of that Python code is not possible because JavaScript doesn’t\nhave the same iterators and built-in functions.\u003C/p>\n\u003Cp>The solving strategy is:\u003C/p>\n\u003Col>\n\u003Cli>For each cell with a single digit (known digit from the start) eliminate that digit\nfrom all the peer cells (the row, the column, and the box that contains the digit).\u003C/li>\n\u003Cli>After these initial eliminations, is possible to have new cells with single digits,\nso we need to repeat step 1 for them. In the end, we’ll have some cells with a single digit,\nsome maybe with 2 or 3 digits, and some still with 9 digits - representing all the possible\ndigits that might go in that cell.\u003C/li>\n\u003Cli>Do a brute-force search for the solution by looping through each cell digit\nuntil we have the solution. (For example, using the above grid, we try 4,1,1,1…,\nthen 4,6,1,1…).\u003C/li>\n\u003C/ol>\n\u003Ch2 id=\"data-models\">Data models\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#data-models\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>To create the data models we’ll use a function that creates the “cross product”\nof two arrays. Cross \u003Ccode>[A, B]\u003C/code> with \u003Ccode>[1, 2]\u003C/code> will result in \u003Ccode>[A1, A2, B1, B2]\u003C/code>\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token keyword\">function\u003C/span> \u003Cspan class=\"token function\">cross\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">\u003Cspan class=\"token constant\">A\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token constant\">B\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">{\u003C/span>\n    \u003Cspan class=\"token keyword\">return\u003C/span> \u003Cspan class=\"token constant\">A\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">map\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">a\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token constant\">B\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">map\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">b\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> a\u003Cspan class=\"token operator\">+\u003C/span>b\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">flat\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>We also need some constants:\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token keyword\">const\u003C/span> rows \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>\u003Cspan class=\"token string\">'A'\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\u003Cspan class=\"token string\">'B'\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\u003Cspan class=\"token string\">'C'\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\u003Cspan class=\"token string\">'D'\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\u003Cspan class=\"token string\">'E'\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\u003Cspan class=\"token string\">'F'\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\u003Cspan class=\"token string\">'G'\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\u003Cspan class=\"token string\">'H'\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\u003Cspan class=\"token string\">'I'\u003C/span>\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> cols \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>\u003Cspan class=\"token string\">'1'\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\u003Cspan class=\"token string\">'2'\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\u003Cspan class=\"token string\">'3'\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\u003Cspan class=\"token string\">'4'\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\u003Cspan class=\"token string\">'5'\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\u003Cspan class=\"token string\">'6'\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\u003Cspan class=\"token string\">'7'\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\u003Cspan class=\"token string\">'8'\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\u003Cspan class=\"token string\">'9'\u003C/span>\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> boxRows \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>\u003Cspan class=\"token punctuation\">[\u003C/span>\u003Cspan class=\"token string\">'A'\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\u003Cspan class=\"token string\">'B'\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\u003Cspan class=\"token string\">'C'\u003C/span>\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>\u003Cspan class=\"token string\">'D'\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\u003Cspan class=\"token string\">'E'\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\u003Cspan class=\"token string\">'F'\u003C/span>\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>\u003Cspan class=\"token string\">'G'\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\u003Cspan class=\"token string\">'H'\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\u003Cspan class=\"token string\">'I'\u003C/span>\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> boxCols \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>\u003Cspan class=\"token punctuation\">[\u003C/span>\u003Cspan class=\"token string\">'1'\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\u003Cspan class=\"token string\">'2'\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\u003Cspan class=\"token string\">'3'\u003C/span>\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>\u003Cspan class=\"token string\">'4'\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\u003Cspan class=\"token string\">'5'\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\u003Cspan class=\"token string\">'6'\u003C/span>\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>\u003Cspan class=\"token string\">'7'\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\u003Cspan class=\"token string\">'8'\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\u003Cspan class=\"token string\">'9'\u003C/span>\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> digits \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token string\">\"123456789\"\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>We this, we can now define:\u003C/p>\n\u003Ch3 id=\"all-squares-cells\">All squares (cells)\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#all-squares-cells\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token comment\">// 81 boards squares:  ['A1', 'A2'...., 'I8', 'I9'];\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> squares \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token function\">cross\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>rows\u003Cspan class=\"token punctuation\">,\u003C/span> cols\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Ch3 id=\"board-units\">Board units\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#board-units\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cp>When you fill a Sudoku the rule is that one digit can appear once in a \u003Ccode>row\u003C/code>, a \u003Ccode>column\u003C/code>,\nor a \u003Ccode>box\u003C/code>. So these are the \u003Ccode>unitlist\u003C/code> we care about:\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token comment\">// all columns, all rows, and all 3x3 boxes\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> unitlist \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token comment\">// add all columns\u003C/span>\ncols\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">forEach\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">c\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> unitlist\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">push\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token function\">cross\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>rows\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>c\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token comment\">// add all rows\u003C/span>\nrows\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">forEach\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">r\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> unitlist\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">push\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token function\">cross\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">[\u003C/span>r\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> cols\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token comment\">// add all boxes (3x3 boxes)\u003C/span>\nboxRows\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">forEach\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">rs\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> boxCols\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">forEach\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">cs\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> unitlist\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">push\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token function\">cross\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>rs\u003Cspan class=\"token punctuation\">,\u003C/span> cs\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Ch3 id=\"square-units\">Square units\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#square-units\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cp>Add the row, col, and box each square belongs to:\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token keyword\">const\u003C/span> units \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\nsquares\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">forEach\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">sq\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n    \u003Cspan class=\"token comment\">// find each unit that contains the square and add it here\u003C/span>\n    units\u003Cspan class=\"token punctuation\">[\u003C/span>sq\u003Cspan class=\"token punctuation\">]\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span> unitlist\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">filter\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">u\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> u\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">includes\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>sq\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Ch3 id=\"square-peers\">Square peers\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#square-peers\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cp>All peers squares, all squares that cannot have the same value, basically the above units without the square itself\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token keyword\">const\u003C/span> peers \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\nsquares\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">forEach\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">sq\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n    \u003Cspan class=\"token comment\">// find all squares that are not equal to sq\u003C/span>\n    \u003Cspan class=\"token keyword\">const\u003C/span> peerSqs \u003Cspan class=\"token operator\">=\u003C/span> units\u003Cspan class=\"token punctuation\">[\u003C/span>sq\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">map\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">u\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> u\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">filter\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">s\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> s \u003Cspan class=\"token operator\">!==\u003C/span> sq\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">flat\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n    \u003Cspan class=\"token comment\">// transform peer array to object where each sq value is true, e.g. { B1: true, C1: true, ... C2: true, C3: true }\u003C/span>\n    peers\u003Cspan class=\"token punctuation\">[\u003C/span>sq\u003Cspan class=\"token punctuation\">]\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span> peerSqs\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">reduce\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">acc\u003Cspan class=\"token punctuation\">,\u003C/span> curr\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>acc\u003Cspan class=\"token punctuation\">[\u003C/span>curr\u003Cspan class=\"token punctuation\">]\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token boolean\">true\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token keyword\">return\u003C/span> acc\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Ch2 id=\"eliminating-digits\">Eliminating digits\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#eliminating-digits\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>We initialize the digits for each square to 123456789, meaning each digit can be the final value\nin each square.\u003C/p>\n\u003Cpre class=\"language-plaintext\" data-language=\"plaintext\">\u003Ccode is:raw=\"\" class=\"language-plaintext\">123456789  123456789  123456789 | 123456789  123456789  123456789 | 123456789  123456789  123456789\n123456789  123456789  123456789 | 123456789  123456789  123456789 | 123456789  123456789  123456789\n123456789  123456789  123456789 | 123456789  123456789  123456789 | 123456789  123456789  123456789\n--------------------------------+---------------------------------+------------------------\n123456789  123456789  123456789 | 123456789  123456789  123456789 | 123456789  123456789  123456789\n123456789  123456789  123456789 | 123456789  123456789  123456789 | 123456789  123456789  123456789\n123456789  123456789  123456789 | 123456789  123456789  123456789 | 123456789  123456789  123456789\n--------------------------------+---------------------------------+------------------------\n123456789  123456789  123456789 | 123456789  123456789  123456789 | 123456789  123456789  123456789\n123456789  123456789  123456789 | 123456789  123456789  123456789 | 123456789  123456789  123456789\n123456789  123456789  123456789 | 123456789  123456789  123456789 | 123456789  123456789  123456789\n\u003C/code>\u003C/pre>\n\u003Cp>Each sudoku gives us some digits, so we know the digit in some squares from the start. We can safely remove those digits from the rest of the square peers. For example, if we know that 4 is the digit that goes in the first cell, A1, then we can remove 4 from all the row, column, and box squares that contain A1:\u003C/p>\n\u003Cpre class=\"language-plaintext\" data-language=\"plaintext\">\u003Ccode is:raw=\"\" class=\"language-plaintext\">4         12356789  12356789  | 12356789  12356789  12356789  | 12356789  12356789  12356789\n12356789  12356789  12356789  | 123456789 123456789 123456789 | 123456789 123456789 123456789\n12356789  12356789  12356789  | 123456789 123456789 123456789 | 123456789 123456789 123456789\n------------------------------+-------------------------------+-------------------------------\n12356789  123456789 123456789 | 123456789 123456789 123456789 | 123456789 123456789 123456789\n12356789  123456789 123456789 | 123456789 123456789 123456789 | 123456789 123456789 123456789\n12356789  123456789 123456789 | 123456789 123456789 123456789 | 123456789 123456789 123456789\n------------------------------+-------------------------------+-------------------------------\n12356789  123456789 123456789 | 123456789 123456789 123456789 | 123456789 123456789 123456789\n12356789  123456789 123456789 | 123456789 123456789 123456789 | 123456789 123456789 123456789\n12356789  123456789 123456789 | 123456789 123456789 123456789 | 123456789 123456789 123456789\n\u003C/code>\u003C/pre>\n\u003Cp>After we reduce all the digits we know we end up with something like this:\u003C/p>\n\u003Cpre class=\"language-plaintext\" data-language=\"plaintext\">\u003Ccode is:raw=\"\" class=\"language-plaintext\">4       1679    12679   | 139     2369    269     | 8       1239    5\n26789   3       1256789 | 14589   24569   245689  | 12679   1249    124679\n2689    15689   125689  | 7       234569  245689  | 12369   12349   123469\n------------------------+-------------------------+-------------------------\n3789    2       15789   | 3459    34579   4579    | 13579   6       13789\n3679    15679   15679   | 359     8       25679   | 4       12359   12379\n36789   4       56789   | 359     1       25679   | 23579   23589   23789\n------------------------+-------------------------+-------------------------\n289     89      289     | 6       459     3       | 1259    7       12489\n5       6789    3       | 2       479     1       | 69      489     4689\n1       6789    4       | 589     579     5789    | 23569   23589   23689\n\u003C/code>\u003C/pre>\n\u003Cp>This is done by the \u003Ccode>parseGrid\u003C/code>, \u003Ccode>assign\u003C/code>, and \u003Ccode>eliminate\u003C/code> functions (full code at the end).\u003C/p>\n\u003Cp>After this phase is done, the \u003Ccode>solve\u003C/code> function does a brute-force search for a solution:\u003C/p>\n\u003Col>\n\u003Cli>Search for a square with the fewest digits (more than one).\u003C/li>\n\u003Cli>Assume one of those digits is the correct one.\u003C/li>\n\u003Cli>Try to eliminate the digit from peers and continue until we have a solution.\nIf at some point the eliminations fail, go back to step 1.\u003C/li>\n\u003C/ol>\n\u003Ch2 id=\"full-code\">Full code\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#full-code\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token comment\">/*\nSUDOKU solver\n\nEach square has a name, like A1, D4, F7:\n\n    1  2  3   4  5  6   7  8  9\n  -----------------------------\nA | A1 A2 A3| A4 A5 A6| A7 A8 A9\nB | B1 B2 B3| B4 B5 B6| B7 B8 B9\nC | C1 C2 C3| C4 C5 C6| C7 C8 C9\n    --------+---------+---------\nD | D1 D2 D3| D4 D5 D6| D7 D8 D9\nE | E1 E2 E3| E4 E5 E6| E7 E8 E9\nF | F1 F2 F3| F4 F5 F6| F7 F8 F9\n    --------+---------+---------\nG | G1 G2 G3| G4 G5 G6| G7 G8 G9\nH | H1 H2 H3| H4 H5 H6| H7 H8 H9\nI | I1 I2 I3| I4 I5 I6| I7 I8 I9\n\nWe have rows, columns and 3x3 boxes, e.g.\n* Row A: A1 A2 A3 A4 A5 A6 A7 A8 A9\n* Col 1: A1 B1 C1 D1 E1 F1 G1 H1 I1\n* Box 1: A1 A2 A3\n         B1 B2 B3\n         C1 C2 C3\n*/\u003C/span>\n\n\u003Cspan class=\"token comment\">/* [A,B,..]+[1,2..] => [A1,A2..,B1,B2..] */\u003C/span>\n\u003Cspan class=\"token keyword\">function\u003C/span> \u003Cspan class=\"token function\">cross\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">\u003Cspan class=\"token constant\">A\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token constant\">B\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">{\u003C/span>\n    \u003Cspan class=\"token keyword\">return\u003C/span> \u003Cspan class=\"token constant\">A\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">map\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">a\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token constant\">B\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">map\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">b\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> a\u003Cspan class=\"token operator\">+\u003C/span>b\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">flat\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\n\n\u003Cspan class=\"token keyword\">const\u003C/span> rows \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>\u003Cspan class=\"token string\">'A'\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\u003Cspan class=\"token string\">'B'\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\u003Cspan class=\"token string\">'C'\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\u003Cspan class=\"token string\">'D'\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\u003Cspan class=\"token string\">'E'\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\u003Cspan class=\"token string\">'F'\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\u003Cspan class=\"token string\">'G'\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\u003Cspan class=\"token string\">'H'\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\u003Cspan class=\"token string\">'I'\u003C/span>\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> cols \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>\u003Cspan class=\"token string\">'1'\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\u003Cspan class=\"token string\">'2'\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\u003Cspan class=\"token string\">'3'\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\u003Cspan class=\"token string\">'4'\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\u003Cspan class=\"token string\">'5'\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\u003Cspan class=\"token string\">'6'\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\u003Cspan class=\"token string\">'7'\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\u003Cspan class=\"token string\">'8'\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\u003Cspan class=\"token string\">'9'\u003C/span>\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> boxRows \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>\u003Cspan class=\"token punctuation\">[\u003C/span>\u003Cspan class=\"token string\">'A'\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\u003Cspan class=\"token string\">'B'\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\u003Cspan class=\"token string\">'C'\u003C/span>\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>\u003Cspan class=\"token string\">'D'\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\u003Cspan class=\"token string\">'E'\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\u003Cspan class=\"token string\">'F'\u003C/span>\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>\u003Cspan class=\"token string\">'G'\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\u003Cspan class=\"token string\">'H'\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\u003Cspan class=\"token string\">'I'\u003C/span>\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> boxCols \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>\u003Cspan class=\"token punctuation\">[\u003C/span>\u003Cspan class=\"token string\">'1'\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\u003Cspan class=\"token string\">'2'\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\u003Cspan class=\"token string\">'3'\u003C/span>\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>\u003Cspan class=\"token string\">'4'\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\u003Cspan class=\"token string\">'5'\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\u003Cspan class=\"token string\">'6'\u003C/span>\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>\u003Cspan class=\"token string\">'7'\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\u003Cspan class=\"token string\">'8'\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\u003Cspan class=\"token string\">'9'\u003C/span>\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> digits \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token string\">\"123456789\"\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token comment\">// 81 board squares:  ['A1', 'A2'...., 'I8', 'I9'];\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> squares \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token function\">cross\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>rows\u003Cspan class=\"token punctuation\">,\u003C/span> cols\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token comment\">// all colums, all rows and all 3x3 boxes\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> unitlist \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token comment\">// add all columns\u003C/span>\ncols\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">forEach\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">c\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> unitlist\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">push\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token function\">cross\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>rows\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>c\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token comment\">// add all rows\u003C/span>\nrows\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">forEach\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">r\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> unitlist\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">push\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token function\">cross\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">[\u003C/span>r\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> cols\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token comment\">// add all boxes (3x3 boxes)\u003C/span>\nboxRows\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">forEach\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">rs\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> boxCols\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">forEach\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">cs\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> unitlist\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">push\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token function\">cross\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>rs\u003Cspan class=\"token punctuation\">,\u003C/span> cs\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token comment\">// add the row, col and box each square belongs to\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> units \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\nsquares\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">forEach\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">sq\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n    \u003Cspan class=\"token comment\">// find each unit that contains the square and add it here\u003C/span>\n    units\u003Cspan class=\"token punctuation\">[\u003C/span>sq\u003Cspan class=\"token punctuation\">]\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span> unitlist\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">filter\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">u\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> u\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">includes\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>sq\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token comment\">// all peers squares, all squares that cannot have the same value\u003C/span>\n\u003Cspan class=\"token comment\">// basically the above units without the square\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> peers \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\nsquares\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">forEach\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">sq\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n    \u003Cspan class=\"token comment\">// find all squares that are not equal to sq\u003C/span>\n    \u003Cspan class=\"token keyword\">const\u003C/span> peerSqs \u003Cspan class=\"token operator\">=\u003C/span> units\u003Cspan class=\"token punctuation\">[\u003C/span>sq\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">map\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">u\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> u\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">filter\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">s\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> s \u003Cspan class=\"token operator\">!==\u003C/span> sq\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">flat\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n    \u003Cspan class=\"token comment\">// transform peer array to object where each sq value is true, e.g. { B1: true, C1: true, ... C2: true, C3: true }\u003C/span>\n    peers\u003Cspan class=\"token punctuation\">[\u003C/span>sq\u003Cspan class=\"token punctuation\">]\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span> peerSqs\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">reduce\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">acc\u003Cspan class=\"token punctuation\">,\u003C/span> curr\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>acc\u003Cspan class=\"token punctuation\">[\u003C/span>curr\u003Cspan class=\"token punctuation\">]\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token boolean\">true\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token keyword\">return\u003C/span> acc\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\n \u003Cspan class=\"token comment\">// Given a string of 81 digits (or . or 0 or -), return an obj as {cell:values}\u003C/span>\n\u003Cspan class=\"token keyword\">function\u003C/span> \u003Cspan class=\"token function\">parseGrid\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">rawGrid\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n  \u003Cspan class=\"token keyword\">if\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token operator\">!\u003C/span>rawGrid \u003Cspan class=\"token operator\">||\u003C/span> rawGrid\u003Cspan class=\"token punctuation\">.\u003C/span>length \u003Cspan class=\"token operator\">!==\u003C/span> \u003Cspan class=\"token number\">81\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">{\u003C/span>\n    \u003Cspan class=\"token keyword\">throw\u003C/span> \u003Cspan class=\"token keyword\">new\u003C/span> \u003Cspan class=\"token class-name\">Error\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token template-string\">\u003Cspan class=\"token template-punctuation string\">`\u003C/span>\u003Cspan class=\"token string\">Invalid data, 81 characters expected\u003C/span>\u003Cspan class=\"token template-punctuation string\">`\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n  \u003Cspan class=\"token punctuation\">}\u003C/span>\n\n  \u003Cspan class=\"token keyword\">let\u003C/span> grid \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token string\">''\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n  \u003Cspan class=\"token keyword\">for\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token keyword\">let\u003C/span> ch \u003Cspan class=\"token keyword\">of\u003C/span> rawGrid\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n    \u003Cspan class=\"token keyword\">if\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token regex\">\u003Cspan class=\"token regex-delimiter\">/\u003C/span>\u003Cspan class=\"token regex-source language-regex\">[0.\\-123456789]\u003C/span>\u003Cspan class=\"token regex-delimiter\">/\u003C/span>\u003Cspan class=\"token regex-flags\">g\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">test\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>ch\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n      grid \u003Cspan class=\"token operator\">+=\u003C/span> ch\u003Cspan class=\"token punctuation\">;\u003C/span>\n    \u003Cspan class=\"token punctuation\">}\u003C/span> \u003Cspan class=\"token keyword\">else\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n      \u003Cspan class=\"token keyword\">throw\u003C/span> \u003Cspan class=\"token keyword\">new\u003C/span> \u003Cspan class=\"token class-name\">Error\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token template-string\">\u003Cspan class=\"token template-punctuation string\">`\u003C/span>\u003Cspan class=\"token string\">Invalid character \u003C/span>\u003Cspan class=\"token interpolation\">\u003Cspan class=\"token interpolation-punctuation punctuation\">${\u003C/span>ch\u003Cspan class=\"token interpolation-punctuation punctuation\">}\u003C/span>\u003C/span>\u003Cspan class=\"token string\">. Accepted charcters are: 0.-123456789\u003C/span>\u003Cspan class=\"token template-punctuation string\">`\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\n    \u003Cspan class=\"token punctuation\">}\u003C/span>\n  \u003Cspan class=\"token punctuation\">}\u003C/span>\n\n  \u003Cspan class=\"token keyword\">const\u003C/span> values \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n  \u003Cspan class=\"token comment\">// initialize the value of each square to 1234556789\u003C/span>\n  squares\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">forEach\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">sq\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span> values\u003Cspan class=\"token punctuation\">[\u003C/span>sq\u003Cspan class=\"token punctuation\">]\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span> digits \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n  \u003Cspan class=\"token keyword\">for\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token keyword\">let\u003C/span> s \u003Cspan class=\"token keyword\">in\u003C/span> squares\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n      \u003Cspan class=\"token keyword\">const\u003C/span> ch \u003Cspan class=\"token operator\">=\u003C/span> grid\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">charAt\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>s\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n      \u003Cspan class=\"token comment\">// if the value is a digit remove that value from all the peers\u003C/span>\n      \u003Cspan class=\"token keyword\">if\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>digits\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">indexOf\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>ch\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">>=\u003C/span> \u003Cspan class=\"token number\">0\u003C/span> \u003Cspan class=\"token operator\">&#x26;&#x26;\u003C/span> \u003Cspan class=\"token operator\">!\u003C/span>\u003Cspan class=\"token function\">assign\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>values\u003Cspan class=\"token punctuation\">,\u003C/span> squares\u003Cspan class=\"token punctuation\">[\u003C/span>s\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> ch\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\n        \u003Cspan class=\"token keyword\">return\u003C/span> \u003Cspan class=\"token boolean\">false\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n    \u003Cspan class=\"token punctuation\">}\u003C/span>\n\n  \u003Cspan class=\"token keyword\">return\u003C/span> values\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\n\n\u003Cspan class=\"token comment\">/*\n  Eliminate all the other values (except dig) from values[sq] and propagate.\n*/\u003C/span>\n\u003Cspan class=\"token keyword\">function\u003C/span> \u003Cspan class=\"token function\">assign\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">values\u003Cspan class=\"token punctuation\">,\u003C/span> sq\u003Cspan class=\"token punctuation\">,\u003C/span> dig\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n  \u003Cspan class=\"token keyword\">let\u003C/span> result \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token boolean\">true\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n  \u003Cspan class=\"token keyword\">const\u003C/span> squareValues \u003Cspan class=\"token operator\">=\u003C/span> values\u003Cspan class=\"token punctuation\">[\u003C/span>sq\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n  \u003Cspan class=\"token comment\">// eliminate each ch from peers, e.g squareValues=123456789, dig=1 => remove\u003C/span>\n  \u003Cspan class=\"token keyword\">for\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token keyword\">let\u003C/span> ch \u003Cspan class=\"token keyword\">of\u003C/span> squareValues\u003Cspan class=\"token punctuation\">)\u003C/span>\n    \u003Cspan class=\"token keyword\">if\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>ch \u003Cspan class=\"token operator\">!==\u003C/span> dig\u003Cspan class=\"token punctuation\">)\u003C/span>\n      result \u003Cspan class=\"token operator\">&#x26;=\u003C/span> \u003Cspan class=\"token operator\">!\u003C/span>\u003Cspan class=\"token operator\">!\u003C/span>\u003Cspan class=\"token function\">eliminate\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>values\u003Cspan class=\"token punctuation\">,\u003C/span> sq\u003Cspan class=\"token punctuation\">,\u003C/span> ch\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n  \u003Cspan class=\"token keyword\">return\u003C/span> result \u003Cspan class=\"token operator\">&#x26;&#x26;\u003C/span> values\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\n\n\u003Cspan class=\"token keyword\">function\u003C/span> \u003Cspan class=\"token function\">eliminate\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">values\u003Cspan class=\"token punctuation\">,\u003C/span> sq\u003Cspan class=\"token punctuation\">,\u003C/span> dig\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n  \u003Cspan class=\"token comment\">// if already eliminated.\u003C/span>\n  \u003Cspan class=\"token keyword\">if\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>values\u003Cspan class=\"token punctuation\">[\u003C/span>sq\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">indexOf\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>dig\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">===\u003C/span> \u003Cspan class=\"token operator\">-\u003C/span>\u003Cspan class=\"token number\">1\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\n    \u003Cspan class=\"token keyword\">return\u003C/span> values\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n  \u003Cspan class=\"token comment\">// remove dig from square digits\u003C/span>\n  values\u003Cspan class=\"token punctuation\">[\u003C/span>sq\u003Cspan class=\"token punctuation\">]\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span> values\u003Cspan class=\"token punctuation\">[\u003C/span>sq\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">replace\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>dig\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token string\">\"\"\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n  \u003Cspan class=\"token comment\">// invalid input ?\u003C/span>\n  \u003Cspan class=\"token keyword\">if\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>values\u003Cspan class=\"token punctuation\">[\u003C/span>sq\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>length \u003Cspan class=\"token operator\">===\u003C/span> \u003Cspan class=\"token number\">0\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n    \u003Cspan class=\"token keyword\">return\u003C/span> \u003Cspan class=\"token boolean\">false\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token comment\">// bail out, wrong state\u003C/span>\n  \u003Cspan class=\"token punctuation\">}\u003C/span>\n  \u003Cspan class=\"token keyword\">else\u003C/span> \u003Cspan class=\"token keyword\">if\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>values\u003Cspan class=\"token punctuation\">[\u003C/span>sq\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>length \u003Cspan class=\"token operator\">===\u003C/span> \u003Cspan class=\"token number\">1\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n    \u003Cspan class=\"token comment\">// (1) if there is only one digit left in square,\u003C/span>\n    \u003Cspan class=\"token comment\">// remove it from peers\u003C/span>\n    \u003Cspan class=\"token keyword\">let\u003C/span> result \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token boolean\">true\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n    \u003Cspan class=\"token keyword\">for\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token keyword\">let\u003C/span> s \u003Cspan class=\"token keyword\">in\u003C/span> peers\u003Cspan class=\"token punctuation\">[\u003C/span>sq\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\n      result \u003Cspan class=\"token operator\">&#x26;=\u003C/span> \u003Cspan class=\"token operator\">!\u003C/span>\u003Cspan class=\"token operator\">!\u003C/span>\u003Cspan class=\"token function\">eliminate\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>values\u003Cspan class=\"token punctuation\">,\u003C/span> s\u003Cspan class=\"token punctuation\">,\u003C/span> values\u003Cspan class=\"token punctuation\">[\u003C/span>sq\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n    \u003Cspan class=\"token keyword\">if\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token operator\">!\u003C/span>result\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token keyword\">return\u003C/span> \u003Cspan class=\"token boolean\">false\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token comment\">// bail out, wrong state\u003C/span>\n  \u003Cspan class=\"token punctuation\">}\u003C/span>\n\n  \u003Cspan class=\"token comment\">// (2) if a unit u is reduced to only one place for a value d,\u003C/span>\n  \u003Cspan class=\"token comment\">// then put it there.\u003C/span>\n  \u003Cspan class=\"token keyword\">for\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token keyword\">let\u003C/span> unit \u003Cspan class=\"token keyword\">of\u003C/span> units\u003Cspan class=\"token punctuation\">[\u003C/span>sq\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n    \u003Cspan class=\"token comment\">// when we remove a digit from a square there is a chance that that digit\u003C/span>\n    \u003Cspan class=\"token comment\">// is now only once present in the square's row/col/box which means\u003C/span>\n    \u003Cspan class=\"token comment\">// that place is the digit's place on board\u003C/span>\n    \u003Cspan class=\"token keyword\">const\u003C/span> digitPlaces \u003Cspan class=\"token operator\">=\u003C/span> unit\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">filter\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">unitSq\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> values\u003Cspan class=\"token punctuation\">[\u003C/span>unitSq\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">indexOf\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>dig\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">!==\u003C/span> \u003Cspan class=\"token operator\">-\u003C/span>\u003Cspan class=\"token number\">1\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n    \u003Cspan class=\"token keyword\">if\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>digitPlaces\u003Cspan class=\"token punctuation\">.\u003C/span>length \u003Cspan class=\"token operator\">===\u003C/span> \u003Cspan class=\"token number\">1\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n      \u003Cspan class=\"token keyword\">if\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token operator\">!\u003C/span>\u003Cspan class=\"token function\">assign\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>values\u003Cspan class=\"token punctuation\">,\u003C/span> digitPlaces\u003Cspan class=\"token punctuation\">[\u003C/span>\u003Cspan class=\"token number\">0\u003C/span>\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> dig\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">{\u003C/span>\n        \u003Cspan class=\"token keyword\">return\u003C/span> \u003Cspan class=\"token boolean\">false\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token comment\">// bail, no luck\u003C/span>\n      \u003Cspan class=\"token punctuation\">}\u003C/span>\n    \u003Cspan class=\"token punctuation\">}\u003C/span>\n  \u003Cspan class=\"token punctuation\">}\u003C/span>\n  \u003Cspan class=\"token keyword\">return\u003C/span> values\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\n\n\n\u003Cspan class=\"token keyword\">function\u003C/span> \u003Cspan class=\"token function\">search\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">values\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">{\u003C/span>\n  \u003Cspan class=\"token comment\">// bad state, can't solve\u003C/span>\n  \u003Cspan class=\"token keyword\">if\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token operator\">!\u003C/span>values\u003Cspan class=\"token punctuation\">)\u003C/span>\n    \u003Cspan class=\"token keyword\">return\u003C/span> \u003Cspan class=\"token boolean\">false\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n  \u003Cspan class=\"token comment\">// find square with biggest number of digits,\u003C/span>\n  \u003Cspan class=\"token comment\">// if max is 1 we are done, all squares should have 1 digit\u003C/span>\n  \u003Cspan class=\"token keyword\">const\u003C/span> max \u003Cspan class=\"token operator\">=\u003C/span> squares\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">map\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">sq\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> values\u003Cspan class=\"token punctuation\">[\u003C/span>sq\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">reduce\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">max\u003Cspan class=\"token punctuation\">,\u003C/span> val\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> Math\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">max\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>max\u003Cspan class=\"token punctuation\">,\u003C/span> val\u003Cspan class=\"token punctuation\">.\u003C/span>length\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token number\">0\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n  \u003Cspan class=\"token keyword\">if\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>max \u003Cspan class=\"token operator\">===\u003C/span> \u003Cspan class=\"token number\">1\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\n    \u003Cspan class=\"token keyword\">return\u003C/span> values\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n  \u003Cspan class=\"token comment\">// chose the unfilled square s with the fewest possibilities\u003C/span>\n  \u003Cspan class=\"token keyword\">const\u003C/span> sortedSquares \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>\u003Cspan class=\"token operator\">...\u003C/span>squares\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">filter\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">sq\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> values\u003Cspan class=\"token punctuation\">[\u003C/span>sq\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>length \u003Cspan class=\"token operator\">!==\u003C/span> \u003Cspan class=\"token number\">1\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n  sortedSquares\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">sort\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">a\u003Cspan class=\"token punctuation\">,\u003C/span> b\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> values\u003Cspan class=\"token punctuation\">[\u003C/span>a\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>length \u003Cspan class=\"token operator\">>\u003C/span> values\u003Cspan class=\"token punctuation\">[\u003C/span>b\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>length \u003Cspan class=\"token operator\">?\u003C/span> \u003Cspan class=\"token number\">1\u003C/span> \u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token operator\">-\u003C/span>\u003Cspan class=\"token number\">1\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n  \u003Cspan class=\"token keyword\">const\u003C/span> minSquare \u003Cspan class=\"token operator\">=\u003C/span> sortedSquares\u003Cspan class=\"token punctuation\">[\u003C/span>\u003Cspan class=\"token number\">0\u003C/span>\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n  \u003Cspan class=\"token keyword\">const\u003C/span> minSquareDigits \u003Cspan class=\"token operator\">=\u003C/span> values\u003Cspan class=\"token punctuation\">[\u003C/span>minSquare\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n  \u003Cspan class=\"token keyword\">for\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token keyword\">let\u003C/span> dig \u003Cspan class=\"token keyword\">of\u003C/span> minSquareDigits\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n    \u003Cspan class=\"token keyword\">const\u003C/span> valuesClone \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\u003Cspan class=\"token operator\">...\u003C/span>values\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n    \u003Cspan class=\"token keyword\">const\u003C/span> result \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token function\">search\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token function\">assign\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>valuesClone\u003Cspan class=\"token punctuation\">,\u003C/span> minSquare\u003Cspan class=\"token punctuation\">,\u003C/span> dig\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n    \u003Cspan class=\"token keyword\">if\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>result\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n      \u003Cspan class=\"token keyword\">return\u003C/span> result\u003Cspan class=\"token punctuation\">;\u003C/span>\n    \u003Cspan class=\"token punctuation\">}\u003C/span>\n  \u003Cspan class=\"token punctuation\">}\u003C/span>\n\n  \u003Cspan class=\"token keyword\">return\u003C/span> \u003Cspan class=\"token boolean\">false\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token comment\">// no luck\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\n\n\n\u003Cspan class=\"token comment\">// Display board\u003C/span>\n\u003Cspan class=\"token keyword\">function\u003C/span> \u003Cspan class=\"token function\">display\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">values\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">{\u003C/span>\n  \u003Cspan class=\"token keyword\">if\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token operator\">!\u003C/span>values\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token keyword\">return\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n  \u003Cspan class=\"token comment\">// find max square digits e.g can be 123456789 or less\u003C/span>\n  \u003Cspan class=\"token keyword\">const\u003C/span> width \u003Cspan class=\"token operator\">=\u003C/span> squares\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">map\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">sq\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> values\u003Cspan class=\"token punctuation\">[\u003C/span>sq\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">reduce\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">max\u003Cspan class=\"token punctuation\">,\u003C/span> val\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> Math\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">max\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>max\u003Cspan class=\"token punctuation\">,\u003C/span> val\u003Cspan class=\"token punctuation\">.\u003C/span>length\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token number\">0\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n  \u003Cspan class=\"token keyword\">const\u003C/span> boxBottom \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token string\">'\\n'\u003C/span>\u003Cspan class=\"token operator\">+\u003C/span>\u003Cspan class=\"token string\">'-'\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">repeat\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>width\u003Cspan class=\"token operator\">*\u003C/span>\u003Cspan class=\"token number\">3\u003C/span>\u003Cspan class=\"token operator\">+\u003C/span>\u003Cspan class=\"token number\">3\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token operator\">+\u003C/span>\u003Cspan class=\"token string\">'+'\u003C/span>\u003Cspan class=\"token operator\">+\u003C/span>\u003Cspan class=\"token string\">'-'\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">repeat\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>width\u003Cspan class=\"token operator\">*\u003C/span>\u003Cspan class=\"token number\">3\u003C/span>\u003Cspan class=\"token operator\">+\u003C/span>\u003Cspan class=\"token number\">4\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token operator\">+\u003C/span>\u003Cspan class=\"token string\">'+'\u003C/span>\u003Cspan class=\"token operator\">+\u003C/span>\u003Cspan class=\"token string\">'-'\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">repeat\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>width\u003Cspan class=\"token operator\">*\u003C/span>\u003Cspan class=\"token number\">3\u003C/span>\u003Cspan class=\"token operator\">+\u003C/span>\u003Cspan class=\"token number\">4\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n  \u003Cspan class=\"token keyword\">let\u003C/span> board \u003Cspan class=\"token operator\">=\u003C/span> rows\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">map\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">row\u003Cspan class=\"token punctuation\">,\u003C/span> rindex\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n    \u003Cspan class=\"token keyword\">let\u003C/span> rowString \u003Cspan class=\"token operator\">=\u003C/span> cols\n                      \u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">map\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">col\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> values\u003Cspan class=\"token punctuation\">[\u003C/span>row \u003Cspan class=\"token operator\">+\u003C/span> col\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token comment\">// get square digits e.g. '1234'\u003C/span>\n                      \u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">map\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">val\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> val \u003Cspan class=\"token operator\">+=\u003C/span> \u003Cspan class=\"token string\">' '\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">repeat\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>width \u003Cspan class=\"token operator\">-\u003C/span> val\u003Cspan class=\"token punctuation\">.\u003C/span>length \u003Cspan class=\"token operator\">+\u003C/span> \u003Cspan class=\"token number\">1\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token comment\">// add extra empty spaces\u003C/span>\n                      \u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">map\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">str\u003Cspan class=\"token punctuation\">,\u003C/span> index\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> index \u003Cspan class=\"token operator\">===\u003C/span> \u003Cspan class=\"token number\">2\u003C/span> \u003Cspan class=\"token operator\">||\u003C/span> index \u003Cspan class=\"token operator\">===\u003C/span> \u003Cspan class=\"token number\">5\u003C/span> \u003Cspan class=\"token operator\">?\u003C/span> str \u003Cspan class=\"token operator\">+=\u003C/span>\u003Cspan class=\"token string\">'| '\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> str\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token comment\">// add separator\u003C/span>\n                      \u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">join\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">''\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token comment\">// transform to string\u003C/span>\n    \u003Cspan class=\"token keyword\">if\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>rindex \u003Cspan class=\"token operator\">===\u003C/span> \u003Cspan class=\"token number\">2\u003C/span> \u003Cspan class=\"token operator\">||\u003C/span> rindex \u003Cspan class=\"token operator\">===\u003C/span> \u003Cspan class=\"token number\">5\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n      rowString\u003Cspan class=\"token operator\">+=\u003C/span>boxBottom\u003Cspan class=\"token punctuation\">;\u003C/span>\n    \u003Cspan class=\"token punctuation\">}\u003C/span>\n\n    \u003Cspan class=\"token keyword\">return\u003C/span> rowString\u003Cspan class=\"token punctuation\">;\u003C/span>\n  \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">join\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">'\\n'\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n  console\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">log\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">'\\n'\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n  console\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">log\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>board\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\n\n\u003Cspan class=\"token keyword\">function\u003C/span> \u003Cspan class=\"token function\">solve\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">rawGrid\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n  \u003Cspan class=\"token keyword\">return\u003C/span> \u003Cspan class=\"token function\">search\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token function\">parseGrid\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>rawGrid\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\n\n\u003Cspan class=\"token comment\">// usage\u003C/span>\n\u003Cspan class=\"token function\">display\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token function\">solve\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">'4.....8.5.3..........7......2.....6.....8.4......1.......6.3.7.5..2.....1.4......'\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Ch2 id=\"resources\">Resources\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#resources\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cul>\n\u003Cli>\u003Ca href=\"http://norvig.com/sudoku.html\">Solving Every Sudoku Puzzle\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"http://pankaj-k.net/weblog/2007/03/sudoku_solving_program_transla.html\">Sudoku Solving Program : Translating Python to JavaScript\u003C/a>\u003C/li>\n\u003C/ul>",{"headings":1236,"imagePaths":1260,"frontmatter":1223},[1237,1238,1241,1244,1247,1250,1253,1256,1259],{"depth":51,"slug":577,"text":578},{"depth":51,"slug":1239,"text":1240},"data-models","Data models",{"depth":88,"slug":1242,"text":1243},"all-squares-cells","All squares (cells)",{"depth":88,"slug":1245,"text":1246},"board-units","Board units",{"depth":88,"slug":1248,"text":1249},"square-units","Square units",{"depth":88,"slug":1251,"text":1252},"square-peers","Square peers",{"depth":51,"slug":1254,"text":1255},"eliminating-digits","Eliminating digits",{"depth":51,"slug":1257,"text":1258},"full-code","Full code",{"depth":51,"slug":98,"text":99},[],"the-picture-tag",["Map",7,1263],{"id":7,"data":1264,"body":1269,"filePath":1270,"digest":1271,"legacyId":18,"deferredRender":19},{"title":1265,"pubDate":1266,"description":1267,"keywords":1268},"The \u003Cpicture> tag",["Date","2021-01-14T00:00:00.000Z"],"When you need complete control of how an image is rendered, the Picture element is the perfect tool",[433],"When Steve Jobs unveiled the iPhone in January 2007, few understood its implications on the web future.\nA couple of years later, millions had a smartphone and were browsing the web with it. It was clear soon enough\nthat it was not a great experience: Flash was not working, sites were not resizing correctly on the small screens,\nthe bandwidth was limited, and you could transfer just a few Gigabytes of data each month. A big part of those Gigabytes\nwere images.\n\nLater, the arrival of the retina displays complicated things even more. It was hard to serve bigger images only on\nthose displays.\n\nThe response to these problems was _responsive web design._ A responsive website means three things:\n\n- _A flexible layout_: the website layout is adaptable to the screen size. The website is usable on all screen sizes.\n- _Flexible images and media_: the website serves different images, videos, etc., with different sizes appropriate for different screen sizes and resolutions.\n- _Media queries_: use different CSS styles for different screen sizes and orientations.\n\nThe hardest was for a long time how to implement flexible images. How to serve small image sizes for mobile phones and large\nones for desktops? We used the &lt;img&gt; tag, which has an _src_ attribute that points to the image URL, and that URL\nis loaded by the browser no matter what. This happens before we can change it from JavaScript, before we can do something in CSS -\nbecause the HTML is loaded first, before everything else.\n\nA fix to the &lt;img&gt; tag is not possible because it will break the web, so a new tag is needed. The obvious choice\nis &lt;image&gt; tag, but it turns out some browsers handle &lt;image&gt; in the same way as &lt;img&gt; - they assume\nyou meant to use &lt;img&gt;. Thank you for trusting me.\n\nIn the end, the &lt;picture&gt; tag is chosen. Here is an example, in its full glory:\n\n```html\n\u003Cpicture>\n  \u003Csource\n    type=\"image/avif\"\n    srcset=\"dog/large.avif 1280w, dog/medium.avif 640w, dog/small.avif 320w\"\n    sizes=\"(min-width: 640px) 50vw, 100vw\"\n  />\n  \u003Csource\n    type=\"image/jpg\"\n    srcset=\"dog/large.jpg 1280w, dog/medium.jpg 640w, dog/small.jpg 320w\"\n    sizes=\"(min-width: 640px) 50vw, 100vw\"\n  />\n  \u003Cimg\n    src=\"dog/medium.jpg\"\n    alt=\"My pug, Bobby\"\n    sizes=\"(min-width: 640px) 50vw, 100vw\"\n  />\n\u003C/picture>\n```\n\nimport { Picture } from \"astro:assets\";\n\n\u003CPicture\n  src={import(\"./bobby_mockup.png\")}\n  widths={[480, 800]}\n  formats={[\"webp\"]}\n  sizes=\"(max-width: 600px) 480px, 800px\"\n  alt=\"My dog, Bobby, on multiple screens\"\n/>\n\n## How picture works\n\nBy itself, the picture tag does nothing. It still needs an img tag inside it. Any styles that we want to apply to our rendered image need to be set on the img tag, not on the picture tag.\nThe purpose of the picture tag is to provide _alternative sources_ for the img tag. The browser chooses _one of those alternatives_, downloads only that source,\nand sets that as the image source.\n\nHow the browser chooses the source to load? On a multitude of factors but based on the information provided in the picture tag.\n\nFor example, if the browser supports the AVIF image format, it uses the AVIF source. If not, it uses the JPEG source.\n\nBased on the screen size, it uses use one of the _large_, _medium_, or _small_ images. You might expect to use the 1280px image\nwhen the screen is 1280px wide, but that might not be correct because of the _sizes_ attribute, which indicates that the image\nis displayed on half of the screen (1280/2=640), so it uses the 640px image. But if you're using a\nhigh pixel display, the 1280px image is used.\n\nAs you can see, the picture tag is a bit complex, but we'll try to make it more understandable.\n\n## Picture use cases\n\nThe simplest usage of the picture tag would be this, but it does nothing since there is no alternative source to choose from.\n\"medium.jpg\" is always used.\n\n```html\n\u003Cpicture>\n  \u003Cimg src=\"dog/medium.jpg\" alt=\"My pug, Bobby\" />\n\u003C/picture>\n```\n\n### 1. Superior compression, smaller images\n\nTo make the picture tag useful, you need at least one alternative source. In the following example, we set\nas an alternative source, an AVIF image. AVIF is an image type that reduces the image size considerably but is not supported\nby most of the browsers yet.\n\n```html\n\u003Cpicture>\n  \u003Csource type=\"image/avif\" srcset=\"dog/medium.avif\" />\n  \u003Cimg src=\"dog/medium.jpg\" alt=\"My pug, Bobby\" />\n\u003C/picture>\n```\n\n_This is a huge advantage of using the picture tag: you can use bleeding-edge image types even if not all the browsers support them, and your site\nwill still work in ALL browsers! You cannot do this with img tag._\n\n### 2. Image size according to screen size\n\nAnother useful usage of the picture tag is to provide multiple sizes of the image:\n\n```html\n\u003Cpicture>\n  \u003Csource\n    type=\"image/jpg\"\n    srcset=\"dog/large.jpg 1280w, dog/medium.jpg 640w, dog/small.jpg 320w\"\n  />\n  \u003Cimg src=\"dog/medium.jpg\" alt=\"My pug, Bobby\" />\n\u003C/picture>\n```\n\nHere, using the _srcset_, we provide three different images, each one of a different size. Note that beside each image URL,\nwe also supply a _width descriptor_:\n\n```html\ndog/medium.jpg 640w\n```\n\nThe _width descriptor_ is the actual image width, the image's real size. Instead of \"px\" (pixels), we need to use \"w.\" Why?\nBecause at some point in time, you could also set an \"h\" as the image height, but it was removed, so now you can only set the width.\n\n### 3. Image size according to screen resolution\n\nRetina screens and others have a high pixel density. A regular screen and a retina screen can have the same size, but\nthe retina screen requires a much larger image.\n\nYou can use the picture tag with the _x descriptor_ to handle different resolutions. In this example, _large.jpg_\nis used on retina displays (because we add \"2x\" next to it) and _medium.jpg_ on regular displays.\n\n```html\n\u003Cpicture>\n  \u003Csource type=\"image/jpg\" srcset=\"dog/medium.jpg, dog/large.jpg 2x\" />\n  \u003Cimg src=\"dog/medium.jpg\" alt=\"My pug, Bobby\" />\n\u003C/picture>\n```\n\n### 4. Image size according to image spot on screen\n\nSo far, our picture settings considered that the image is displayed full-screen (width), so the browser\ncalculations are done using the screen width. But what if we need to render the image in a spot that is not full-screen width? Like only 50% of the screen width, or 300px?\n\nLet's come back to this example:\n\n```html\n\u003Cpicture>\n  \u003Csource\n    type=\"image/jpg\"\n    srcset=\"dog/large.jpg 1280w, dog/medium.jpg 640w, dog/small.jpg 320w\"\n  />\n  \u003Cimg src=\"dog/medium.jpg\" alt=\"My pug, Bobby\" />\n\u003C/picture>\n```\n\nAssume we need the following responsive layout:\n\n- If the screen is less then 601 pixels, we show the image full-screen and some text under it (like a row layout)\n- Otherwise, we display the image on half of the screen. And some text next to it (like a column layout)\n\nThe problem is that when we display the image on half of the screen we still download the full-screen version, e.g.\nwe download the 1280px version instead of the 640px version.\n\nCan we fix that? Yes, we can fix it using \"sizes\" attributes:\n\n```html\n\u003Cpicture>\n  \u003Csource\n    srcset=\"dog/large.jpg 1280w, dog/medium.jpg 640w, dog/small.jpg 320w\"\n    sizes=\"(min-width: 600px) 50vw, 100vw\"\n  />\n  \u003Cimg src=\"dog/medium.jpg\" alt=\"My pug, Bobby\" />\n\u003C/picture>\n```\n\nThe _sizes_ attribute is a comma-separated list of sizes. Each size consists of a _media condition_ and _size_ value.\nOrder matters, the first size is checked if matches the current screen size, then the second, and so on. The last size should be the default one.\nAlso, the media conditions describe the viewport size, not the image size.\n\nNow, because we set the _sizes_, the browser knows that we plan to display the image on half the screen _50vw_ if the screen width\nis 601px or more _(min-width: 600px)_ and downloads the correct image, the 640px one.\n\n### 5. Art direction\n\n_Tailoring_ image content to fit specific environments is called _art direction._\nThink how the same image looks on a phone in _portrait_ mode and _landscape_ mode. Think about what you do.\nWell, I try to zoom it in one of the two modes - because it doesn't fit.\n\nFor example, let's say that by default we show a landscape image of a dog (used on desktop and landscape orientation on phones),\nbut when we use the portrait orientation on the phone, we display a close caption of the dog, a portrait image:\n\n```html\n\u003Cpicture>\n  \u003Csource media=\"(max-width: 800px)\" srcset=\"dog/portrait.jpg\" />\n  \u003Cimg src=\"dog/landscape.jpg\" alt=\"My pug, Bobby\" />\n\u003C/picture>\n```\n\nWe can do this using the _media_ attribute of the source. It is very similar to the way we use media queries in CSS,\nbut again, this has to be done in HTML, because the CSS is loaded too late after the image is already loading.\nNote that the value you put in _media_ refers to the viewport, not the image size. So _(max-width: 800px)_ means\nfor screens smaller than 801px.\n\nTip: If you use the _media_ attribute, you should not use the _sizes_ attribute.\n\n## Using everything together\n\nWith the above use cases, we saw how the picture settings can be used to do one thing or another.\nBut nothing stops us from using everything together. The only thing you should not do is to use _media_ and _sizes_\nattributes together because they allow you to do similar things.\n\n```html\n\u003Cpicture>\n  \u003Csource\n    type=\"image/avif\"\n    srcset=\"dog/large.avif 1280w, dog/medium.avif 640w, dog/small.avif 320w\"\n    sizes=\"(min-width: 640px) 50vw, 100vw\"\n  />\n  \u003Csource\n    type=\"image/jpg\"\n    srcset=\"dog/large.jpg 1280w, dog/medium.jpg 640w, dog/small.jpg 320w\"\n    sizes=\"(min-width: 640px) 50vw, 100vw\"\n  />\n  \u003Cimg\n    src=\"dog/medium.jpg\"\n    alt=\"My pug, Bobby\"\n    loading=\"lazy\"\n    decoding=\"async\"\n    sizes=\"(min-width: 640px) 50vw, 100vw\"\n  />\n\u003C/picture>\n```\n\nHere is how this works:\n\n- If the picture tag is not supported, the img tag is used as a fallback.\n- If the browser supports AVIF, it will show one of the AVIF images, otherwise will use one of the JPG images\n- If the screen is retina:\n  - 640px image if the screen is less than 320px, image displayed full screen.\n  - 640px image if the screen is less than 640px (because we show the image on half the screen, 50vw).\n  - 1280px image if the other cases\n- If the screen is not retina will use:\n  - 320px image if the screen is less than 320px, image displayed full screen.\n  - 320px image if the screen is less than 640px (because we show the image on half the screen, 50vw).\n  - 640px image if the screen is less than 1280px\n  - 1280px image if the other cases\n\n## One more thing: Using picture with &lt;figure&gt;\n\nAs you can use &lt;figure&gt; and &lt;figcaption&gt; with image, you can use them with the picture tag - in case you need to display a caption\nfor the image:\n\n```html\n\u003Cfigure>\n  \u003Cpicture>\n    \u003Csource\n      type=\"image/jpg\"\n      srcset=\"dog/large.jpg 1280w, dog/medium.jpg 640w, dog/small.jpg 320w\"\n    />\n    \u003Cimg\n      src=\"dog/medium.jpg\"\n      alt=\"My pug, Bobby\"\n      sizes=\"(min-width: 640px) 50vw, 100vw\"\n    />\n  \u003C/picture>\n  \u003Cfigcaption>My pug, Bobby\u003C/figcaption>\n  \u003Cfigure>\u003C/figure>\n\u003C/figure>\n```\n\n## Resources\n\n- [MDN: The Picture element](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/picture)\n- [MDN: Responsive images](https://developer.mozilla.org/en-US/docs/Learn/HTML/Multimedia_and_embedding/Responsive_images)\n- [Responsive Images, WebP, and The Picture Element with Bruce Lawson](https://www.youtube.com/watch?v=45Ao058RMJA)\n- [Responsive Images in Practice](https://alistapart.com/article/responsive-images-in-practice/)\n- [AVIF has landed](https://jakearchibald.com/2020/avif-has-landed/)","src/content/the-picture-tag/index.mdx","f30621e81efd34b1","the-future-of-code-is-no-code",["Map",7,1274],{"id":7,"data":1275,"body":1280,"filePath":1281,"digest":1282,"legacyId":18,"deferredRender":19},{"title":1276,"pubDate":1277,"description":1278,"keywords":1279},"The future of code is no code",["Date","2021-03-21T00:00:00.000Z"],"What is the future of code? How will we code in 20 years from now?",[1178],"> The future of coding is no coding at all.\" - Chris Wanstrath, CEO at GitHub.\n\nCoding is my bread and butter, so what this means? Am I becoming obsolete? Or maybe there will be no next generation of programmers?\n\nI think Chris Wanstrath said this because he is also concerned. Github is the largest repository of code, so he needs to find a new purpose\nfor Github when there won't be much code left to be put in the repository.\n\n## What is no code?\n\nNo code software means one can create the software he needs without any coding. There is also a low-code variant that implies a small amount of coding.\nThe idea itself is amazing: everyone can create software without doing any programming.\n\nimport { Picture } from \"astro:assets\";\n\n\u003CPicture\n  src={import(\"./carrd.png\")}\n  widths={[480, 800]}\n  formats={[\"webp\"]}\n  sizes=\"(max-width: 600px) 480px, 800px\"\n  alt=\"Setting up a site a Carrd\"\n/>\n\nEvery little shop can have an e-commerce website, every business a smartphone app, every enterprise it's complex and customized software.\nAll without any code and without any programmer involved.\n\nSo how this works? If I'm a little shop somewhere and I need a website what I do?\n\n- First I need to select a \"Solution Vendor\". There will be cheap ones and expensive ones, just like today's agencies.\n- Then I need to select the template of my website. Ideally, I can use an AI to help choose the one appropriate for my business.\n  The AI can help choose an existing template or create a new one from _pieces of existing templates._\n- Then I need to fill in my information like site name, copy, images, and so on.\n- That's it. All the needed servers will be spawned automatically, the website will auto-update each time the content is edited or added.\n  I'll have access to analytics dashboards, payments, inventory, everything I need.\n\nThe most beautiful thing will be that I will not have to care about security issues (software vulnerabilities will be patched automatically),\nruntime issues (servers will scale to accommodate traffic spikes), accessibility issues(will work in all browsers, with or without JavaScript,\nsematic HTML will be used) or any other possible issue.\n\nEverything will just work.\n\nThe only little problem will be that all websites will look and feel the same. We won't have much room for deep personalization or unique identity.\n\n## Why no code is popular?\n\nThe first and most important reason no code is so popular is that today great programming is expensive, time-consuming, and (I might add) scarce.\n\nThe second reason is that, as a non-technical person, you don't know what programmers to choose, what database you need, what servers you need, and so on.\nIt's much easier to choose an out-of-the-box working solution like the one no code can provide.\n\nThe third reason is that no code software can become optimized and bullet-proof, thus a more viable alternative to re-implementing\nthe same similar software many times, each implementation of different quality.\n\n## Will no code win?\n\nI think it will eventually.\n\nIn my opinion, no code needs a great AI. _No code is just a collection of preexisting components(standalone pieces of software) combined in a certain way._\nBut it needs a ton of components to be useful and allow personalization.\n\nGoing back to the website example: If there are just ten or twenty templates to choose from, that won't allow a website to be very different from others.\nBut each website wants to be different and unique. And so wants each brand and business. For this, we need a lot of components to choose from.\nIn fact, we need so many components that it would be tedious to find the right one.\n\nThat is why we would need an API that could select them for us and combine them in an optimal way.\n\n_Imagine you're one of the Mars colonists, and you need a piece of software that is unique to your needs there - something that nobody on Earth thought about -\nand of course there are no programmers on Mars. Your only chance is a no code software created by an AI._\n\n## Should I stop coding because no code is the future?\n\nNo. We don't know when no code will win. Or even if it will win.\n\nJust think about it, we still write code letter by letter like we did in 1950.\nIt's incredibly tedious, it's unbelievable we still do it in the same way in 2021. There must be a better way but we didn't find it yet.\n\n\u003CPicture\n  src={import(\"./quartz.jpeg\")}\n  widths={[480, 800]}\n  formats={[\"webp\"]}\n  sizes=\"(max-width: 600px) 480px, 800px\"\n  alt=\"Quartz Composer\"\n/>\n\nMaybe no code is that new way. Apple's Quartz Composer was one of the first popular examples of no code programming but for some reason, it's gone today.\nThe successor, Facebook's Origami studio is still used, but I don't know how popular it is. But in both cases, the user must know all available components\nand what they can do. So the user is a kind of programmer, it technical.\n\nSo, for now, we'll just keep coding. Even no code needs components that have to be coded by somebody. So, we programmers, we'll still be busy.\n\n## Conclusion\n\nI believe no code is the future. The current way of making software by writing code letter by letter is just not good enough.\nThe time lost on all the typing, code surfing, and debugging is just too much today. We need something better.\n\nThere'll still be a need for programmers in a no code world. But maybe those will more efficient or maybe just happier.","src/content/the-future-of-code-is-no-code/index.mdx","7de188818f3a3d9c","the-story-of-a-rec-button",["Map",7,1285],{"id":7,"data":1286,"body":1291,"filePath":1292,"digest":1293,"legacyId":18,"deferredRender":19},{"title":1287,"pubDate":1288,"description":1289,"keywords":1290},"The story of a REC button",["Date","2023-03-08T00:00:00.000Z"],"How I found and contributed to a beautiful Lo-fi beats generator",[109,14],"Since I got the MacBook Air with the A1 chip I wanted to see if it can be used to do some AI work. So I've looked around for a \nsmall project that could run on it. (Yes I know, MacBook Air, it ain't much but it's honest work.)\n\nAnd thus, one day, I found a beautiful Lo-fi music generator on GitHub called rather \nunsurprising, [Lofi](https://github.com/jacbz/Lofi):\n\nimport { Picture } from \"astro:assets\";\n\n\u003CPicture\n  src={import(\"./lofi.png\")}\n  widths={[480, 800]}\n  formats={[\"png\"]}\n  sizes=\"(max-width: 600px) 480px, 800px\"\n  alt=\"Lofi generator\"\n/>\n\nYou agree it looks beautiful, right?\n\nBut what is this LoFi app?\n> LOFI is an ML-supported lo-fi music generator. We trained a VAE model in PyTorch to represent a lo-fi track as a vector of 100 features. A lo-fi track consists of chords, melodies, and other musical parameters. The web client uses Tone.js to make a dusty lo-fi track out of these parameters.\n\nIt generates [lofi style music](https://en.wikipedia.org/wiki/Lo-fi_music) tracks, each for about 1 minute and 30-40 seconds. There are 100 parameters you can manually adjust or randomize with a button click! \nAnd best of all it's open source.\n\nPerfect project to play with: Make lofi music for fun and profit!\n\nSo I went ahead and downloaded the code and tried to run it...\n\n## Training attempt\n\nThe thing is the server and the model training are implemented in Python. Oh no, panic! I never programmed in Python before.\nBut I did a lot of programming over the years in several languages and Python is supposed to be very friendly. \n\nThe plan was to run the model training. The project provides guidelines for this - like what file to run - but it assumes \nI'm a Python developer. I don't know what is the preferred Python IDE, or how a Python project is set up. There \nis no `package.json`, `make`, `maven`, or something similar. There are some empty __init__.py files but I'm sure they mean nothing/\n\nSo I've just run `python prepocessor.py` and fixed errors one by one and managed to create the dataset. So it is true, Python is not so hard after all.\n\nThen I started the model training. But here I got stuck.\n\nThe project uses [PyTorch](https://pytorch.org/) for the training. And defaults to \"cuda\" mode expecting an Nvidia GPU which \nof course I didn't have. Of course, hours later, I found that I should use the \"mps\" mode for my MacBook M1.\n\nWhen I finally made the code run in \"mps\" mode - and thought what an awesome Python developer I am - I run into a big issue.\nIt turns out the PyTorch support for M1 is not complete, that there are [a lot of things that are not implemented yet](https://github.com/pytorch/pytorch/issues/77764)\n\nAnd with that, I gave up on training AI on my shiny MacBook. Too bad, Python is nice and looks easy to learn for me.\n\n## Adding support for music export\n\nI played with the client for a while and soon enough I realized there is no way to download the tracks I liked. No way to run \nthe project on my Mac, and no way to download tracks. Several hours wasted and not much progress.\n\nLucky me, the client was built in TypeScript and I found  an issue on the same topic: [Need option to export the audio files](https://github.com/jacbz/Lofi/issues/1). Even better the issue provided a hint \nfor a solution. So if I can modify the UI to let me download tracks, I could still do something useful.\n\nThe solution mentioned in the issue has a big drawback: it cannot record sounds from tracks that are not played! Which means I need to create something like a real recorder. \n\nMy idea for exporting the music was to add a new button on the UI, a REC button that works like this:\n* the first time you click on it, it starts recording\n* you play some tracks\n* the second time you click on it downloads the recording with the played sounds\n\nI've started with the following [example](https://tonejs.github.io/docs/14.7.39/Recorder):\n```js\nconst recorder = new Tone.Recorder();\nconst synth = new Tone.Synth().connect(recorder);\n// start recording\nrecorder.start();\n// generate a few notes\nsynth.triggerAttackRelease(\"C3\", 0.5);\nsynth.triggerAttackRelease(\"C4\", 0.5, \"+1\");\nsynth.triggerAttackRelease(\"C5\", 0.5, \"+2\");\n// wait for the notes to end and stop the recording\nsetTimeout(async () => {\n\t// the recorded audio is returned as a blob\n\tconst recording = await recorder.stop();\n\t// download the recording by creating an anchor element and blob url\n\tconst url = URL.createObjectURL(recording);\n\tconst anchor = document.createElement(\"a\");\n\tanchor.download = \"recording.webm\";\n\tanchor.href = url;\n\tanchor.click();\n}, 4000);\n```\nWhat the above code does:\n* It creates a `Tone.Recorder`\n* It connects the Tone.Recorder to a player \n* It starts recording\n* Music is played\n* It stops the recording\n* It downloads the recording as a .webm file\n\nOnce I found out how the music is being played in the Lofi project and what to connect to everything started to make sense.\n\nWhen recording starts it connects [Tone.Recorder](https://tonejs.github.io/docs/14.7.39/Recorder) to a [Tone.Gain](https://tonejs.github.io/docs/14.7.39/Gain):\n```js\nclass Player {\n  \n\n  gain: Tone.Gain;\n\n  private _recorder: Tone.Recorder;\n  private _isRecording: boolean = false;\n\n  // when the REC button is clicked\n  // we either start or stop the recording\n  set isRecording(isRecording: boolean) {\n     if (this._isRecording !== isRecording) {\n       this._isRecording = isRecording;\n       if (!this._recorder) {\n         // create recorder\n         this._recorder = new Tone.Recorder();\n         this._recorder.start();\n       }\n \n       if (this.gain) {\n         if (this._isRecording) {\n           // connect gain to recorder to receive music\n           this.gain.connect(this._recorder);\n         } else {\n            // disconnect gain to recorder\n           this.gain.disconnect(this._recorder);\n         }\n       }\n\n       // download the file when the recording is done\n       if (!this._isRecording) {\n         this.downloadRecording();\n       }\n     }\n   }\n```\n\nIt might be possible that when you press REC no sound is played yet. This means we need to connect the recorder also when \nthe player starts.\n\nA new Tone.Gain is created every time a track is loaded. So if the recording was on, I had to connect to the new Gain:\n```js\nasync load() {\n    if (!this.currentTrack) {\n      return;\n    }\n    this.isLoading = true;\n\n    this.gain = new Tone.Gain();\n\n    ... \n    \n    if (this._isRecording) {\n      this.gain.connect(this._recorder);\n    }\n```\n\nHere is how the download works, based on my tests each browser records a different audio format, and I try to detect it from the \nrecording type:\n```js\n   // transform the recording in a downloadable file \n   async downloadRecording() {\n     if (this._recorder) {\n       const recording = await this._recorder.stop();\n       // detect recording type, differs from browser to browser\n       const type = recording?.type?.split(';')[0]?.split('/')[1] || 'webm';\n\n       // doesn't download empty file\n       if (recording?.size > 0) {\n         const url = URL.createObjectURL(recording);\n         const anchor = document.createElement('a');\n         anchor.download = `lofi-record.${type}`;\n         anchor.href = url;\n         anchor.click();\n       }\n       this._recorder = null;\n     }\n   }\n}\n```\n\n## Wrapping Up\nWhile I was not able to run the training on my machine, I still learned some interesting things. Python and PyTorch \nare the standards for AI work and I'm not familiar enough with them. And for a while (until the PyTorch MPS missing code is not implemented)\nI'm stuck.\n\nLoFi is a nice project, I'm glad I had the opportunity to contribute to it. I'm sure some people found my little contribution useful.","src/content/the-story-of-a-rec-button/index.mdx","ae83c147e9092269","the-link-element",["Map",7,1296],{"id":7,"data":1297,"body":1304,"filePath":1305,"digest":1306,"rendered":1307,"legacyId":64},{"title":1298,"pubDate":1299,"description":1300,"keywords":1301,"twitterImage":1302,"minutesRead":75,"excerpt":1303},"The \u003Clink> element",["Date","2021-04-03T00:00:00.000Z"],"Let's learn to use the link element, it's one of the most important elements. Using link's power you can create a better website.",[433],"https://www.raresportan.com/twitter-cards/the-link-element.png","The \u003Clink> element is used to load an external resource in the HTML. Link elements are part of the page metadata and not\ninside the page’s v","The &lt;link&gt; element is used to load an external resource in the HTML. Link elements are part of the page metadata and not\ninside the page's visible content. _Don't use this element to create links between web pages, use &lt;a&gt; element for that._\n\nInitially, I wanted to continue the HTML Basics series - started with [part one here](https://www.raresportan.com/html-basics-part-one/) -\nbut I had to stop at the first element I wanted to talk about, the link element. I've felt it is so important\nthat deserves it's own post.\n\nLink element has lots of uses. So many that I cannot even cover all in here.\n\nLink element always has at least two attributes:\n\n- **href**: the URL of the external resource to load\n- **rel**: the relationship between the HTML and the loaded resource, it instructs the browser how to handle the resource\n\nLinks are to be set inside the &lt;head&gt; element because they are part of the page metadata.\nThey can be set inside &lt;body&gt; but that is considered a bad practice, so don't.\n\n```html\n\u003C!DOCTYPE html>\n\u003Chtml lang=\"en\">\n  \u003Chead>\n    ... ALL LINK ELEMENTS GO HERE ...\n  \u003C/head>\n  \u003Cbody>\n    ...\n  \u003C/body>\n\u003C/html>\n```\n\nLet's see some of the most common.\n\n## Load stylesheets\n\nA very common use of link is to load CSS stylesheets.\n\n```html\n\u003Clink href=\"main.css\" rel=\"stylesheet\" />\n```\n\nIf you have many stylesheets to load and they take time, you need a better strategy:\n\n- First, you need to inline the _critical_ CSS using a &lt;style&gt; element\n\n```html\n\u003Cstyle>\n  body {\n    background-color: rebeccapurple;\n    color: #fff;\n  }\n  ...;\n\u003C/style>\n```\n\n- Then load the next important styles using link\n\n```html\n\u003Clink href=\"main.css\" rel=\"stylesheet\" />\n```\n\n- Finally, load the other styles using a trick\n\n```html\n\u003Clink\n  rel=\"stylesheet\"\n  media=\"print\"\n  href=\"other.css\"\n  onload=\"this.media='all'\"\n/>\n```\n\nUsing this trick the browser will not prioritize the loading of `other.css`, but when is loaded,\nwe use a bit of JavaScript to change the media from print to all to apply it to the page.\n\n## Set icons\n\nAnother usage of the link element is to set web page icon (displayed by browsers with the title, not part of the page content)\n\n```html\n\u003Clink rel=\"icon\" href=\"favicon.ico\" />\n```\n\nYou can set icons for Apple devices in the same way:\n\n```html\n\u003Clink\n  rel=\"apple-touch-icon-precomposed\"\n  sizes=\"114x114\"\n  href=\"apple-icon-114.png\"\n  type=\"image/png\"\n/>\n```\n\n## Set canonical links\n\nSometimes the same content is used on different websites. For example, a blog post written on a personal blog is shared on Medium, Dev.to, etc. The problem is search engines like Google Search hates duplicated content and tries to promote the original source. But no matter where you share your content, you should always set the canonical link back to your blog.\n\nThe canonical link for this page is this, no matter where this content will be shared on:\n\n```html\n\u003Clink rel=\"canonical\" href=\"https://raresportan.com/html-basics-part-two/\" />\n```\n\n## Set alternative content\n\nUsing rel=\"alternate\" you can specify alternative versions of a web page or site.\nMany sites have a RSS feed and the feed is linked like this:\n\n```html\n\u003Clink href=\"/rss.xml\" rel=\"alternate\" type=\"application/rss+xml\" />\n```\n\nIf your site have content in different languages, another use for alternatives is to specify the pages in another languages.\nFor example, each MDN page is translated in different languages. In this case we need to set a new attribute, hreflang to specify the page's language (and region).\nHere is how some of those pages are set inside the en-US page:\n\n```html\n...\n\u003Clink\n  rel=\"alternate\"\n  href=\"https://developer.mozilla.org/ru/docs/Web/HTML/Element/link\"\n  hreflang=\"ru\"\n/>\n\u003Clink\n  rel=\"alternate\"\n  href=\"https://developer.mozilla.org/pt-BR/docs/Web/HTML/Element/link\"\n  hreflang=\"pt\"\n/>\n\u003Clink\n  rel=\"alternate\"\n  href=\"https://developer.mozilla.org/pl/docs/Web/HTML/Element/link\"\n  hreflang=\"pl\"\n/>\n\u003Clink\n  rel=\"alternate\"\n  href=\"https://developer.mozilla.org/ja/docs/Web/HTML/Element/link\"\n  hreflang=\"ja\"\n/>\n\u003Clink\n  rel=\"alternate\"\n  href=\"https://developer.mozilla.org/fr/docs/Web/HTML/Element/link\"\n  hreflang=\"fr\"\n/>\n...\n```\n\nYou need to be careful to set the correct canonical link on all those pages. For example, the https://developer.mozilla.org/ru/docs/Web/HTML/Element/link page\nwill have the https://developer.mozilla.org/ru/docs/Web/HTML/Element/link set as a canonical link, not https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link\n\n## Preloading resources\n\nToday this is still experimental so it's not supported in all modern browsers. But is useful when you want a bit of control of the way the page resources are loaded.\n\nA very good use case is to preload fonts. Usually, the fonts are loaded by the CSS and while the CSS and the fonts are loading you see the page text rendered with a system font. You can improve this by forcing the browser to load the font earlier.\n\n```html\n\u003Clink\n  rel=\"preload\"\n  href=\"comicsans.woff2\"\n  as=\"font\"\n  type=\"font/woff2\"\n  crossorigin=\"anonymous\"\n/>\n```\n\nAs you can see, here we need to set another attribute, called `as` to specify the type of the resource, in this case, font.\nWe use the type attribute as a subtype if needed. Here is used because are different types of fonts that can be loaded.\n\nAnother related use case is prefetching resources. Unlike preloading, prefetching should be used for loading resource or other pages which the user might visit. For example, if the user is on the Login page you might know the next page the user will see. Same, if the user hovers a link, there is a good chance the user will use that link.\n\n```html\n\u003Clink rel=\"prefetch\" href=\"/about.html\" crossorigin=\"anonymous\" />\n```\n\nAnd finally, if you use third-party resources, you might want to speed the connection to them by preconnecting,\nthis way at least you don't wait for DNS to resolve that third-party domain.\n\n```html\n\u003Clink rel=\"preconnect\" href=\"https://third-party.com\" />\n```\n\nIn conclusion, learn to use the link element, it's one of the most important elements. Using link's power\nyou can create a better website.\n\n## Resources\n\n- [MDN: The Link element](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link)\n- [MDN: Link types](https://developer.mozilla.org/en-US/docs/Web/HTML/Link_types)\n- [Preload, Prefetch And Priorities in Chrome](https://medium.com/reloading/preload-prefetch-and-priorities-in-chrome-776165961bbf)\n- [The Simplest Way to Load CSS Asynchronously](https://www.filamentgroup.com/lab/load-css-simpler/)","src/content/the-link-element/index.md","18d6159a64aec4e7",{"html":1308,"metadata":1309},"\u003Cp>The &#x3C;link> element is used to load an external resource in the HTML. Link elements are part of the page metadata and not\ninside the page’s visible content. \u003Cem>Don’t use this element to create links between web pages, use &#x3C;a> element for that.\u003C/em>\u003C/p>\n\u003Cp>Initially, I wanted to continue the HTML Basics series - started with \u003Ca href=\"https://www.raresportan.com/html-basics-part-one/\">part one here\u003C/a> -\nbut I had to stop at the first element I wanted to talk about, the link element. I’ve felt it is so important\nthat deserves it’s own post.\u003C/p>\n\u003Cp>Link element has lots of uses. So many that I cannot even cover all in here.\u003C/p>\n\u003Cp>Link element always has at least two attributes:\u003C/p>\n\u003Cul>\n\u003Cli>\u003Cstrong>href\u003C/strong>: the URL of the external resource to load\u003C/li>\n\u003Cli>\u003Cstrong>rel\u003C/strong>: the relationship between the HTML and the loaded resource, it instructs the browser how to handle the resource\u003C/li>\n\u003C/ul>\n\u003Cp>Links are to be set inside the &#x3C;head> element because they are part of the page metadata.\nThey can be set inside &#x3C;body> but that is considered a bad practice, so don’t.\u003C/p>\n\u003Cpre class=\"language-html\" data-language=\"html\">\u003Ccode is:raw=\"\" class=\"language-html\">\u003Cspan class=\"token doctype\">\u003Cspan class=\"token punctuation\">&#x3C;!\u003C/span>\u003Cspan class=\"token doctype-tag\">DOCTYPE\u003C/span> \u003Cspan class=\"token name\">html\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>html\u003C/span> \u003Cspan class=\"token attr-name\">lang\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>en\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n  \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>head\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n    ... ALL LINK ELEMENTS GO HERE ...\n  \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>head\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n  \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>body\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n    ...\n  \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>body\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>html\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>Let’s see some of the most common.\u003C/p>\n\u003Ch2 id=\"load-stylesheets\">Load stylesheets\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#load-stylesheets\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>A very common use of link is to load CSS stylesheets.\u003C/p>\n\u003Cpre class=\"language-html\" data-language=\"html\">\u003Ccode is:raw=\"\" class=\"language-html\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>link\u003C/span> \u003Cspan class=\"token attr-name\">href\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>main.css\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token attr-name\">rel\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>stylesheet\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token punctuation\">/>\u003C/span>\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>If you have many stylesheets to load and they take time, you need a better strategy:\u003C/p>\n\u003Cul>\n\u003Cli>First, you need to inline the \u003Cem>critical\u003C/em> CSS using a &#x3C;style> element\u003C/li>\n\u003C/ul>\n\u003Cpre class=\"language-html\" data-language=\"html\">\u003Ccode is:raw=\"\" class=\"language-html\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>style\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\u003Cspan class=\"token style\">\u003Cspan class=\"token language-css\">\n  \u003Cspan class=\"token selector\">body\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n    \u003Cspan class=\"token property\">background-color\u003C/span>\u003Cspan class=\"token punctuation\">:\u003C/span> rebeccapurple\u003Cspan class=\"token punctuation\">;\u003C/span>\n    \u003Cspan class=\"token property\">color\u003C/span>\u003Cspan class=\"token punctuation\">:\u003C/span> #fff\u003Cspan class=\"token punctuation\">;\u003C/span>\n  \u003Cspan class=\"token punctuation\">}\u003C/span>\n  ...\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/span>\u003C/span>\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>style\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cul>\n\u003Cli>Then load the next important styles using link\u003C/li>\n\u003C/ul>\n\u003Cpre class=\"language-html\" data-language=\"html\">\u003Ccode is:raw=\"\" class=\"language-html\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>link\u003C/span> \u003Cspan class=\"token attr-name\">href\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>main.css\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token attr-name\">rel\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>stylesheet\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token punctuation\">/>\u003C/span>\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cul>\n\u003Cli>Finally, load the other styles using a trick\u003C/li>\n\u003C/ul>\n\u003Cpre class=\"language-html\" data-language=\"html\">\u003Ccode is:raw=\"\" class=\"language-html\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>link\u003C/span>\n  \u003Cspan class=\"token attr-name\">rel\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>stylesheet\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\n  \u003Cspan class=\"token attr-name\">media\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>print\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\n  \u003Cspan class=\"token attr-name\">href\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>other.css\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\n  \u003Cspan class=\"token special-attr\">\u003Cspan class=\"token attr-name\">onload\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003Cspan class=\"token value javascript language-javascript\">\u003Cspan class=\"token keyword\">this\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>media\u003Cspan class=\"token operator\">=\u003C/span>\u003Cspan class=\"token string\">'all'\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\u003C/span>\n\u003Cspan class=\"token punctuation\">/>\u003C/span>\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>Using this trick the browser will not prioritize the loading of \u003Ccode>other.css\u003C/code>, but when is loaded,\nwe use a bit of JavaScript to change the media from print to all to apply it to the page.\u003C/p>\n\u003Ch2 id=\"set-icons\">Set icons\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#set-icons\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>Another usage of the link element is to set web page icon (displayed by browsers with the title, not part of the page content)\u003C/p>\n\u003Cpre class=\"language-html\" data-language=\"html\">\u003Ccode is:raw=\"\" class=\"language-html\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>link\u003C/span> \u003Cspan class=\"token attr-name\">rel\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>icon\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token attr-name\">href\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>favicon.ico\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token punctuation\">/>\u003C/span>\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>You can set icons for Apple devices in the same way:\u003C/p>\n\u003Cpre class=\"language-html\" data-language=\"html\">\u003Ccode is:raw=\"\" class=\"language-html\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>link\u003C/span>\n  \u003Cspan class=\"token attr-name\">rel\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>apple-touch-icon-precomposed\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\n  \u003Cspan class=\"token attr-name\">sizes\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>114x114\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\n  \u003Cspan class=\"token attr-name\">href\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>apple-icon-114.png\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\n  \u003Cspan class=\"token attr-name\">type\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>image/png\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\n\u003Cspan class=\"token punctuation\">/>\u003C/span>\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Ch2 id=\"set-canonical-links\">Set canonical links\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#set-canonical-links\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>Sometimes the same content is used on different websites. For example, a blog post written on a personal blog is shared on Medium, Dev.to, etc. The problem is search engines like Google Search hates duplicated content and tries to promote the original source. But no matter where you share your content, you should always set the canonical link back to your blog.\u003C/p>\n\u003Cp>The canonical link for this page is this, no matter where this content will be shared on:\u003C/p>\n\u003Cpre class=\"language-html\" data-language=\"html\">\u003Ccode is:raw=\"\" class=\"language-html\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>link\u003C/span> \u003Cspan class=\"token attr-name\">rel\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>canonical\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token attr-name\">href\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>https://raresportan.com/html-basics-part-two/\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token punctuation\">/>\u003C/span>\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Ch2 id=\"set-alternative-content\">Set alternative content\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#set-alternative-content\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>Using rel=“alternate” you can specify alternative versions of a web page or site.\nMany sites have a RSS feed and the feed is linked like this:\u003C/p>\n\u003Cpre class=\"language-html\" data-language=\"html\">\u003Ccode is:raw=\"\" class=\"language-html\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>link\u003C/span> \u003Cspan class=\"token attr-name\">href\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>/rss.xml\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token attr-name\">rel\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>alternate\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token attr-name\">type\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>application/rss+xml\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token punctuation\">/>\u003C/span>\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>If your site have content in different languages, another use for alternatives is to specify the pages in another languages.\nFor example, each MDN page is translated in different languages. In this case we need to set a new attribute, hreflang to specify the page’s language (and region).\nHere is how some of those pages are set inside the en-US page:\u003C/p>\n\u003Cpre class=\"language-html\" data-language=\"html\">\u003Ccode is:raw=\"\" class=\"language-html\">...\n\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>link\u003C/span>\n  \u003Cspan class=\"token attr-name\">rel\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>alternate\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\n  \u003Cspan class=\"token attr-name\">href\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>https://developer.mozilla.org/ru/docs/Web/HTML/Element/link\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\n  \u003Cspan class=\"token attr-name\">hreflang\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>ru\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\n\u003Cspan class=\"token punctuation\">/>\u003C/span>\u003C/span>\n\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>link\u003C/span>\n  \u003Cspan class=\"token attr-name\">rel\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>alternate\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\n  \u003Cspan class=\"token attr-name\">href\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>https://developer.mozilla.org/pt-BR/docs/Web/HTML/Element/link\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\n  \u003Cspan class=\"token attr-name\">hreflang\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>pt\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\n\u003Cspan class=\"token punctuation\">/>\u003C/span>\u003C/span>\n\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>link\u003C/span>\n  \u003Cspan class=\"token attr-name\">rel\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>alternate\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\n  \u003Cspan class=\"token attr-name\">href\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>https://developer.mozilla.org/pl/docs/Web/HTML/Element/link\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\n  \u003Cspan class=\"token attr-name\">hreflang\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>pl\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\n\u003Cspan class=\"token punctuation\">/>\u003C/span>\u003C/span>\n\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>link\u003C/span>\n  \u003Cspan class=\"token attr-name\">rel\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>alternate\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\n  \u003Cspan class=\"token attr-name\">href\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>https://developer.mozilla.org/ja/docs/Web/HTML/Element/link\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\n  \u003Cspan class=\"token attr-name\">hreflang\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>ja\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\n\u003Cspan class=\"token punctuation\">/>\u003C/span>\u003C/span>\n\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>link\u003C/span>\n  \u003Cspan class=\"token attr-name\">rel\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>alternate\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\n  \u003Cspan class=\"token attr-name\">href\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>https://developer.mozilla.org/fr/docs/Web/HTML/Element/link\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\n  \u003Cspan class=\"token attr-name\">hreflang\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>fr\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\n\u003Cspan class=\"token punctuation\">/>\u003C/span>\u003C/span>\n...\n\u003C/code>\u003C/pre>\n\u003Cp>You need to be careful to set the correct canonical link on all those pages. For example, the \u003Ca href=\"https://developer.mozilla.org/ru/docs/Web/HTML/Element/link\">https://developer.mozilla.org/ru/docs/Web/HTML/Element/link\u003C/a> page\nwill have the \u003Ca href=\"https://developer.mozilla.org/ru/docs/Web/HTML/Element/link\">https://developer.mozilla.org/ru/docs/Web/HTML/Element/link\u003C/a> set as a canonical link, not \u003Ca href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link\">https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link\u003C/a>\u003C/p>\n\u003Ch2 id=\"preloading-resources\">Preloading resources\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#preloading-resources\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>Today this is still experimental so it’s not supported in all modern browsers. But is useful when you want a bit of control of the way the page resources are loaded.\u003C/p>\n\u003Cp>A very good use case is to preload fonts. Usually, the fonts are loaded by the CSS and while the CSS and the fonts are loading you see the page text rendered with a system font. You can improve this by forcing the browser to load the font earlier.\u003C/p>\n\u003Cpre class=\"language-html\" data-language=\"html\">\u003Ccode is:raw=\"\" class=\"language-html\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>link\u003C/span>\n  \u003Cspan class=\"token attr-name\">rel\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>preload\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\n  \u003Cspan class=\"token attr-name\">href\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>comicsans.woff2\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\n  \u003Cspan class=\"token attr-name\">as\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>font\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\n  \u003Cspan class=\"token attr-name\">type\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>font/woff2\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\n  \u003Cspan class=\"token attr-name\">crossorigin\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>anonymous\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\n\u003Cspan class=\"token punctuation\">/>\u003C/span>\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>As you can see, here we need to set another attribute, called \u003Ccode>as\u003C/code> to specify the type of the resource, in this case, font.\nWe use the type attribute as a subtype if needed. Here is used because are different types of fonts that can be loaded.\u003C/p>\n\u003Cp>Another related use case is prefetching resources. Unlike preloading, prefetching should be used for loading resource or other pages which the user might visit. For example, if the user is on the Login page you might know the next page the user will see. Same, if the user hovers a link, there is a good chance the user will use that link.\u003C/p>\n\u003Cpre class=\"language-html\" data-language=\"html\">\u003Ccode is:raw=\"\" class=\"language-html\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>link\u003C/span> \u003Cspan class=\"token attr-name\">rel\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>prefetch\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token attr-name\">href\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>/about.html\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token attr-name\">crossorigin\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>anonymous\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token punctuation\">/>\u003C/span>\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>And finally, if you use third-party resources, you might want to speed the connection to them by preconnecting,\nthis way at least you don’t wait for DNS to resolve that third-party domain.\u003C/p>\n\u003Cpre class=\"language-html\" data-language=\"html\">\u003Ccode is:raw=\"\" class=\"language-html\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>link\u003C/span> \u003Cspan class=\"token attr-name\">rel\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>preconnect\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token attr-name\">href\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>https://third-party.com\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token punctuation\">/>\u003C/span>\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>In conclusion, learn to use the link element, it’s one of the most important elements. Using link’s power\nyou can create a better website.\u003C/p>\n\u003Ch2 id=\"resources\">Resources\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#resources\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cul>\n\u003Cli>\u003Ca href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link\">MDN: The Link element\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/Link_types\">MDN: Link types\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"https://medium.com/reloading/preload-prefetch-and-priorities-in-chrome-776165961bbf\">Preload, Prefetch And Priorities in Chrome\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"https://www.filamentgroup.com/lab/load-css-simpler/\">The Simplest Way to Load CSS Asynchronously\u003C/a>\u003C/li>\n\u003C/ul>",{"headings":1310,"imagePaths":1327,"frontmatter":1297},[1311,1314,1317,1320,1323,1326],{"depth":51,"slug":1312,"text":1313},"load-stylesheets","Load stylesheets",{"depth":51,"slug":1315,"text":1316},"set-icons","Set icons",{"depth":51,"slug":1318,"text":1319},"set-canonical-links","Set canonical links",{"depth":51,"slug":1321,"text":1322},"set-alternative-content","Set alternative content",{"depth":51,"slug":1324,"text":1325},"preloading-resources","Preloading resources",{"depth":51,"slug":98,"text":99},[],"switch-to-astro",["Map",7,1330],{"id":7,"data":1331,"body":1339,"filePath":1340,"digest":1341,"rendered":1342,"legacyId":64},{"title":1332,"pubDate":1333,"description":1334,"keywords":1335,"twitterImage":1337,"minutesRead":1055,"excerpt":1338},"Switching from Gatsby to Astro",["Date","2023-01-24T00:00:00.000Z"],"I've switched my blog from Gatsby to Astro. It was not as easy as I dreamed.",[1336],"Astro","https://www.raresportan.com/twitter-cards/switching-from-gatsby-to-astro.png","I’ve switched my blog from Gatsby to Astro. It was not as easy as I dreamed. In fact, I had to wait for Astro v2 to be released to finally b","I've switched my blog from Gatsby to [Astro](https://astro.build/). It was not as easy as I dreamed. In fact, I had to wait for Astro v2 to be released to finally be able to implement all the features my Gatsby blog had. If you're thinking of doing the same switch, I hope here you'll find some helpful things.\n\nLong story short, before v2, Astro didn't provide the frontmatter data present in the `.md` and `.mdx` files to the various plugins that had to read it. Thus, I was not able to implement some things, the most important being I could not generate Twitter cards for each post as I did before - because the twitter card for a blog post needs to render the post title.\n\nWhy I like Astro?\n* Ships no JavaScript by default.\n* Uses vite, so build time is fast.\n* File-based routing\n* Islands: I can use any framework I like where I like\n* `.astro` file format feels obvious to me\n\nWhy I decided to switch from Gatsby?\n* I started the blog with Gatsby v2, and now most of the plugins I've used are stuck with that version or Gatbsy v3 and are not maintained. I was constantly bombarded by messages to update them due to security issues.\n* I was stuck with React. Don't get me wrong I like React but I also like to play with other things.\n* Build times can be huge. Scary huge.\n* They heavily promote their own Cloud which I'm not interested in.\n\nI really liked Gatsby for a couple of years. It was fast and simple, just like Astro is now. I even contributed with a couple of bug fixes. I'll still use Gatsby for some projects, but for this blog, I'll use Astro from now on. Probably history will repeat itself and in several years Astro will turn into a big corporation and I'll have to switch again. But that is fine. Sic transit gloria mundi.\n\n\nAstro requires [Node](https://nodejs.org/) v16+, so make sure you have that installed.\n\n## How I started the Astro project\nYou need to decide how to start your Astro project. You have multiple choices. \n\n1. Start with a bare minimum project:\n```\nnpm create astro@latest\n```\nFrom there you can add piece by piece, all the features you need.\n\n2. Start with a template.\n```\nnpm create astro@latest -- --template [template-name]\n```\nAt [astro.new](https://astro.new/) you can find the \"official\" templates:\n* basic\n* blog\n* docs\n* portfolio\n* minimal\n\nIf those are still too basic for your needs you can use [Astro themes](https://astro.build/themes/), which in my view are supercharged templates, more complete templates.\n\nI've started with the official blog template for several reasons:\n* A need a blog theme \n* A minimal project structure, without features I don't need\n* I already have the CSS from the old blog, so I don't need any new CSS config, framework, or settings\n\nAfter you've bootstrapped the project, you can start it using: \n```\nnpm run dev\n```\nNavigate to `localhost:3000` to see how it looks.\n\nBefore you deploy the site, you need to build it using:\n```\nnpm run build\n```\nThe project is built in a `dist` folder, this folder is the one you want to deploy.\n\n\n## Project organization\nA simple Astro project is organized similarly to this:\n```\n/dist\n/node-modules\n/public\n    ├── favicon.ico\n    ├── logo.svg\n    └── robots.txt\n/src\n    ├── /components\n    |   ├── BaseHead.astro\n    |   ├── Footer.astro\n    |   └── Header.astro\n    └── /content\n    |   ├── /blog-post1\n    |   |   └── index.md\n    |   └── /blog-post1\n    |       └── index.mdx\n    └── /layouts\n    |   └── BlogPost.astro\n    └── /pages\n    |   └── index.astro\n    └── /styles\n       └── global.css\n\n├── astro.config.mjs\n├── packages.json\n└── tsconfig.json        \n```\n* the `public` folder contains files that will be copied in the build, usually without any processing. In the Gatsby world, this is called \"static\".\n* the `src` folder contains the source files: `.astro`, `.jsx`, `md`, `mdx`, or anything else that needs to be \"executed\". Same in Gatsby.\n* the `src/pages` folder contains the site pages. It contains the \"index.astro\" file that will be transformed into the site's \"index.html\". In Gatsby, this is \"index.js\" or \"index.ts\"\n* the `src/components` is where you put your components.\n* the `src/content` folder contains the blog posts.  \n* `astro.config.mjs` as its name implies is the Astro configuration file. In Gatsby, we have \"gatsby-config.js\" instead.\n\nGatsby has two more config files, \"gatsby-browser.js\" and \"gatsby-node.js\". As far as I tell there is no equivalent for them in Astro. You add your plugins and integrations inside `astro.config.mjs`.\n\n### Content rant\nOne thing that I cannot do anymore is to keep my \"content\" folder outside of \"src\". Ideally, I would just grab my content folder (with all the blog posts and images used by them) and move to another framework. I could not find a way to do this.\n\nAnother problem is that to use images from the post folder I was forced to use Astro's `\u003CImage/>` and `\u003CPicture/>` and transform the post into `.mdx` from `.md`.\n\nAstro still needs some work in this area, using plain Markdown images from the local folder should be possible.\n\n## Astro files\nYou can put your code in `.jsx` for `.astro` files. If you have used Gatsby you know all about `.jsx`, you can still use it but I recommend taking a look at `.astro` files also. It can speed up the migration to Astro since they provide most of the examples in `.astro` format.\n\nHere is a small page example:\n```astro\n---\nimport Header from \"../components/Header.astro\";\nimport Footer from \"../components/Footer.astro\";\n\nconst posts = await Astro.glob(\"../content/*/*.{md,mdx}\");\n---\n\u003C!DOCTYPE html>\n\u003Chtml lang=\"en\">\n    \u003Chead>\u003Ctitle>All posts\u003C/title>\u003C/head>\n    \u003Cbody>\n        \u003CHeader/>\n        \u003Cmain>\n            { posts.map((post) => (\n                \u003Carticle>\n                    \u003Cheader>{post.frontmatter.title}\u003C/header>\n                \u003C/article>    \n            )}   \t\n        \u003C/main>\n    \u003C/body>\n\u003C/html>    \n```\nThe file has two parts:\n1. The \"logic\" part: Delimited as a Markdown frontmatter, between two sets of `---`. This is the equivalent of a React functional component minus the return part. All bindings declared here are available in the other part.\n2. The \"render\" part: The rest of the file represents the page's markup. It's the equivalent of \"return\" from a React functional component.\n\nOne important thing to notice is that we can use top-level await.\n\nThe other thing to notice is that the markup declaration in Astro looks very similar to `JSX`. This is a huge design decision, instead of inventing yet another HTML-like markup format they decided to use JSX which is known to all React developers. \n\nFinally, there are no `graphQL` queries in Astro. In this example, we use `Astro.glob()` to get the posts, which are `.md` or `.mdx` files in the project. To retrieve data from a CMS or some other source, you'll need to come up with your own library. Fear not, [Astro already has guides to connect to some](https://docs.astro.build/en/guides/cms/).\n\n## Astro configuration\nFor this blog this is the configuration I use:\n```js\nimport { defineConfig } from 'astro/config';\nimport mdx from '@astrojs/mdx';\nimport sitemap from '@astrojs/sitemap';\nimport { remarkReadingTime } from './src/lib/remark-reading-time.mjs';\nimport { remarkSocialImage } from './src/lib/remark-social-image.mjs';\nimport image from \"@astrojs/image\";\nimport rehypeSlug from 'rehype-slug';\nimport rehypeAutolinkHeadings from 'rehype-autolink-headings';\n\n// https://astro.build/config\nexport default defineConfig({\n  site: 'https://raresportan.com',\n  markdown: {\n    extendDefaultPlugins: true,\n    syntaxHighlight: 'prism',\n    remarkPlugins: [remarkSocialImage],\n    rehypePlugins: [remarkReadingTime, rehypeSlug, rehypeAutolinkHeadings],    \n  },\n  integrations: [\n    mdx({\n      remarkPlugins: [remarkSocialImage],\n      rehypePlugins: [remarkReadingTime, rehypeSlug, rehypeAutolinkHeadings],\n    }), \n    sitemap(),   \n    image()]\n});\n```\nI'm using both Markdown and MDX, so I have a configuration section for each.\n\n### Markdown configuration  \nAstro has built-in support for Markdown, so no other plugin or package is needed.\n\nHowever I've extended the default support with four plugins: *remarkSocialImage*, *remarkReadingTime*, *rehypeSlug* and *rehypeAutolinkHeadings*.\n```js\nmarkdown: {\n    extendDefaultPlugins: true,\n    syntaxHighlight: 'prism',\n    remarkPlugins: [remarkSocialImage],\n    rehypePlugins: [remarkReadingTime, rehypeSlug, rehypeAutolinkHeadings],    \n},\n```\n* _remarkSocialImage_ is a custom plugin I've made that to generate Twitter cards for each blog post. It uses *puppeteer* and creates the images in `public/twitter-cards` folder. Once the image is there it will not be created again.\n* _remarkReadingTime_ is again a custom plugin implemented by me to add in the post frontmatter the `minutesRead` and `excerpt`.\n* _rehypeSlug_ was added only because rehypeAutolinkHeadings requires it.\n* _rehypeAutolinkHeadings_ generates links for each heading.\n\nMost of my post are about programming, so I tend to include code snippets. `syntaxHighlight` setting indicates what syntax highlighter Astro should use. It comes with built-in support for _Shiki_ and _Prism_. I've used Prism before, so I use that again.\n\n### MDX configuration  \nThe issue with Markdown is that you cannot use custom components inside it. For example let's say that you want to include a chart inside a Markdown page, how do you do that? You can only include an image of that chart. \n\nMDX solves this issue. It allows you to use JSX inside Markdown, meaning you can write your component just as any regular component and then you can import it and use it inside Markdown.\n\nUnlike Markdown, MDX is not buit-in Astro, if you want to use it, you need to add it as a _integration_:\n```js\nintegrations: [\n    mdx({\n      remarkPlugins: [remarkSocialImage],\n      rehypePlugins: [remarkReadingTime, rehypeSlug, rehypeAutolinkHeadings],\n    }), \n    ...\n```\n\nOther integrations I use:\n* _sitemap_ : generates a sitemap based on your routes when you build your Astro project.\n* _image_ : Astro's image optimization\n\n### RSS\nAstro provides a package for [RSS](https://docs.astro.build/en/guides/rss/). For some reason this is not provided as a plugin or integration.\n\n### How to look for missing plugins\nIt's very likely that the Gatsby plugins you are using are not available for Astro and for most of them there is no obvious alternative. \n\nHere is how you can look for alternatives:\n* Look at existing integrations: [Using Integrations](https://docs.astro.build/en/guides/integrations-guide/)\n* Check the CMS integrations : [Use a CMS with Astro](https://docs.astro.build/en/guides/cms/)\n* You can integrate remark and rehype Markdown plugins directly: [Markdown Plugins](https://docs.astro.build/en/guides/markdown-content/#markdown-plugins)\n* Build your own integration: [Astro Integration API](https://docs.astro.build/en/reference/integrations-reference/)\n\n## SEO\nFor SEO I didn't used any special package, I have a `BaseHead.astro` component that is included in the `\u003Chead>` of every page. It uses frontmatter and the social image generated by _remarkSocialImage_ to set the page title, description and social metadata.\n\n```js\nimport \"../styles/styles.css\";\n\nexport interface Props {\n\ttitle: string;\n\tdescription: string;\n\timage?: string;\n\ttwitterImage?: string\n}\n\nconst { title, description, twitterImage } = Astro.props;\n---\n\n\u003C!-- Global Metadata -->\n\u003Cmeta charset=\"utf-8\" />\n\u003Cmeta name=\"viewport\" content=\"width=device-width,initial-scale=1\" />\n\u003Clink rel=\"apple-touch-icon\" sizes=\"180x180\" href=\"/apple-touch-icon.png\">\n\u003Clink rel=\"icon\" type=\"image/png\" sizes=\"32x32\" href=\"/favicon-32x32.png\">\n\u003Clink rel=\"icon\" type=\"image/png\" sizes=\"16x16\" href=\"/favicon-16x16.png\">\n\u003Clink rel=\"manifest\" href=\"/site.webmanifest\" crossorigin=\"anonymous\">\n\u003Clink rel=\"mask-icon\" href=\"/safari-pinned-tab.svg\" color=\"#5bbad5\">\n\u003Cmeta name=\"msapplication-TileColor\" content=\"#da532c\">\n\u003Cmeta name=\"theme-color\" content=\"#0077aa\">\n\u003Cmeta name=\"generator\" content={Astro.generator} />\n\n\u003C!-- Primary Meta Tags -->\n\u003Ctitle>{title}\u003C/title>\n\u003Cmeta name=\"title\" content={title} />\n\u003Cmeta name=\"description\" content={description} />\n\u003Cmeta name=\"monetization\" content=\"$ilp.uphold.com/FzNEikF9pkQJ\" />\n\n\u003C!-- Open Graph / Facebook -->\n\u003Cmeta property=\"og:type\" content=\"website\" />\n\u003Cmeta property=\"og:url\" content={Astro.url} />\n\u003Cmeta property=\"og:title\" content={title} />\n\u003Cmeta property=\"og:description\" content={description} />\n\u003Cmeta property=\"og:image\" content={twitterImage} />\n\n\u003C!-- Twitter -->\n\u003Cmeta property=\"twitter:card\" content=\"summary_large_image\" />\n\u003Cmeta property=\"twitter:url\" content={Astro.url} />\n\u003Cmeta property=\"twitter:title\" content={title} />\n\u003Cmeta property=\"twitter:description\" content={description} />\n\u003Cmeta property=\"twitter:image\" content={twitterImage} />\n```\n \nTo help with SEO, I ship very little JavaScript. Lighthouse should show 100/100 performance.  \n\n\n## Final thoughts\nThis is my first Astro project, there are still things that I need to learn or clarify, but so far the experience was great. Once the migration was finished, I added a few extra things very quickly.\n\nI didn't had the chance to explore Islands and other nice features but I'm looking forward to use them in next projects.","src/content/switch-to-astro/index.md","ba56a06e507dc3c6",{"html":1343,"metadata":1344},"\u003Cp>I’ve switched my blog from Gatsby to \u003Ca href=\"https://astro.build/\">Astro\u003C/a>. It was not as easy as I dreamed. In fact, I had to wait for Astro v2 to be released to finally be able to implement all the features my Gatsby blog had. If you’re thinking of doing the same switch, I hope here you’ll find some helpful things.\u003C/p>\n\u003Cp>Long story short, before v2, Astro didn’t provide the frontmatter data present in the \u003Ccode>.md\u003C/code> and \u003Ccode>.mdx\u003C/code> files to the various plugins that had to read it. Thus, I was not able to implement some things, the most important being I could not generate Twitter cards for each post as I did before - because the twitter card for a blog post needs to render the post title.\u003C/p>\n\u003Cp>Why I like Astro?\u003C/p>\n\u003Cul>\n\u003Cli>Ships no JavaScript by default.\u003C/li>\n\u003Cli>Uses vite, so build time is fast.\u003C/li>\n\u003Cli>File-based routing\u003C/li>\n\u003Cli>Islands: I can use any framework I like where I like\u003C/li>\n\u003Cli>\u003Ccode>.astro\u003C/code> file format feels obvious to me\u003C/li>\n\u003C/ul>\n\u003Cp>Why I decided to switch from Gatsby?\u003C/p>\n\u003Cul>\n\u003Cli>I started the blog with Gatsby v2, and now most of the plugins I’ve used are stuck with that version or Gatbsy v3 and are not maintained. I was constantly bombarded by messages to update them due to security issues.\u003C/li>\n\u003Cli>I was stuck with React. Don’t get me wrong I like React but I also like to play with other things.\u003C/li>\n\u003Cli>Build times can be huge. Scary huge.\u003C/li>\n\u003Cli>They heavily promote their own Cloud which I’m not interested in.\u003C/li>\n\u003C/ul>\n\u003Cp>I really liked Gatsby for a couple of years. It was fast and simple, just like Astro is now. I even contributed with a couple of bug fixes. I’ll still use Gatsby for some projects, but for this blog, I’ll use Astro from now on. Probably history will repeat itself and in several years Astro will turn into a big corporation and I’ll have to switch again. But that is fine. Sic transit gloria mundi.\u003C/p>\n\u003Cp>Astro requires \u003Ca href=\"https://nodejs.org/\">Node\u003C/a> v16+, so make sure you have that installed.\u003C/p>\n\u003Ch2 id=\"how-i-started-the-astro-project\">How I started the Astro project\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#how-i-started-the-astro-project\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>You need to decide how to start your Astro project. You have multiple choices.\u003C/p>\n\u003Col>\n\u003Cli>Start with a bare minimum project:\u003C/li>\n\u003C/ol>\n\u003Cpre class=\"language-plaintext\" data-language=\"plaintext\">\u003Ccode is:raw=\"\" class=\"language-plaintext\">npm create astro@latest\n\u003C/code>\u003C/pre>\n\u003Cp>From there you can add piece by piece, all the features you need.\u003C/p>\n\u003Col start=\"2\">\n\u003Cli>Start with a template.\u003C/li>\n\u003C/ol>\n\u003Cpre class=\"language-plaintext\" data-language=\"plaintext\">\u003Ccode is:raw=\"\" class=\"language-plaintext\">npm create astro@latest -- --template [template-name]\n\u003C/code>\u003C/pre>\n\u003Cp>At \u003Ca href=\"https://astro.new/\">astro.new\u003C/a> you can find the “official” templates:\u003C/p>\n\u003Cul>\n\u003Cli>basic\u003C/li>\n\u003Cli>blog\u003C/li>\n\u003Cli>docs\u003C/li>\n\u003Cli>portfolio\u003C/li>\n\u003Cli>minimal\u003C/li>\n\u003C/ul>\n\u003Cp>If those are still too basic for your needs you can use \u003Ca href=\"https://astro.build/themes/\">Astro themes\u003C/a>, which in my view are supercharged templates, more complete templates.\u003C/p>\n\u003Cp>I’ve started with the official blog template for several reasons:\u003C/p>\n\u003Cul>\n\u003Cli>A need a blog theme\u003C/li>\n\u003Cli>A minimal project structure, without features I don’t need\u003C/li>\n\u003Cli>I already have the CSS from the old blog, so I don’t need any new CSS config, framework, or settings\u003C/li>\n\u003C/ul>\n\u003Cp>After you’ve bootstrapped the project, you can start it using:\u003C/p>\n\u003Cpre class=\"language-plaintext\" data-language=\"plaintext\">\u003Ccode is:raw=\"\" class=\"language-plaintext\">npm run dev\n\u003C/code>\u003C/pre>\n\u003Cp>Navigate to \u003Ccode>localhost:3000\u003C/code> to see how it looks.\u003C/p>\n\u003Cp>Before you deploy the site, you need to build it using:\u003C/p>\n\u003Cpre class=\"language-plaintext\" data-language=\"plaintext\">\u003Ccode is:raw=\"\" class=\"language-plaintext\">npm run build\n\u003C/code>\u003C/pre>\n\u003Cp>The project is built in a \u003Ccode>dist\u003C/code> folder, this folder is the one you want to deploy.\u003C/p>\n\u003Ch2 id=\"project-organization\">Project organization\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#project-organization\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>A simple Astro project is organized similarly to this:\u003C/p>\n\u003Cpre class=\"language-plaintext\" data-language=\"plaintext\">\u003Ccode is:raw=\"\" class=\"language-plaintext\">/dist\n/node-modules\n/public\n    ├── favicon.ico\n    ├── logo.svg\n    └── robots.txt\n/src\n    ├── /components\n    |   ├── BaseHead.astro\n    |   ├── Footer.astro\n    |   └── Header.astro\n    └── /content\n    |   ├── /blog-post1\n    |   |   └── index.md\n    |   └── /blog-post1\n    |       └── index.mdx\n    └── /layouts\n    |   └── BlogPost.astro\n    └── /pages\n    |   └── index.astro\n    └── /styles\n       └── global.css\n\n├── astro.config.mjs\n├── packages.json\n└── tsconfig.json        \n\u003C/code>\u003C/pre>\n\u003Cul>\n\u003Cli>the \u003Ccode>public\u003C/code> folder contains files that will be copied in the build, usually without any processing. In the Gatsby world, this is called “static”.\u003C/li>\n\u003Cli>the \u003Ccode>src\u003C/code> folder contains the source files: \u003Ccode>.astro\u003C/code>, \u003Ccode>.jsx\u003C/code>, \u003Ccode>md\u003C/code>, \u003Ccode>mdx\u003C/code>, or anything else that needs to be “executed”. Same in Gatsby.\u003C/li>\n\u003Cli>the \u003Ccode>src/pages\u003C/code> folder contains the site pages. It contains the “index.astro” file that will be transformed into the site’s “index.html”. In Gatsby, this is “index.js” or “index.ts”\u003C/li>\n\u003Cli>the \u003Ccode>src/components\u003C/code> is where you put your components.\u003C/li>\n\u003Cli>the \u003Ccode>src/content\u003C/code> folder contains the blog posts.\u003C/li>\n\u003Cli>\u003Ccode>astro.config.mjs\u003C/code> as its name implies is the Astro configuration file. In Gatsby, we have “gatsby-config.js” instead.\u003C/li>\n\u003C/ul>\n\u003Cp>Gatsby has two more config files, “gatsby-browser.js” and “gatsby-node.js”. As far as I tell there is no equivalent for them in Astro. You add your plugins and integrations inside \u003Ccode>astro.config.mjs\u003C/code>.\u003C/p>\n\u003Ch3 id=\"content-rant\">Content rant\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#content-rant\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cp>One thing that I cannot do anymore is to keep my “content” folder outside of “src”. Ideally, I would just grab my content folder (with all the blog posts and images used by them) and move to another framework. I could not find a way to do this.\u003C/p>\n\u003Cp>Another problem is that to use images from the post folder I was forced to use Astro’s \u003Ccode>&#x3C;Image/>\u003C/code> and \u003Ccode>&#x3C;Picture/>\u003C/code> and transform the post into \u003Ccode>.mdx\u003C/code> from \u003Ccode>.md\u003C/code>.\u003C/p>\n\u003Cp>Astro still needs some work in this area, using plain Markdown images from the local folder should be possible.\u003C/p>\n\u003Ch2 id=\"astro-files\">Astro files\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#astro-files\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>You can put your code in \u003Ccode>.jsx\u003C/code> for \u003Ccode>.astro\u003C/code> files. If you have used Gatsby you know all about \u003Ccode>.jsx\u003C/code>, you can still use it but I recommend taking a look at \u003Ccode>.astro\u003C/code> files also. It can speed up the migration to Astro since they provide most of the examples in \u003Ccode>.astro\u003C/code> format.\u003C/p>\n\u003Cp>Here is a small page example:\u003C/p>\n\u003Cpre class=\"language-astro\" data-language=\"astro\">\u003Ccode is:raw=\"\" class=\"language-astro\">\u003Cspan class=\"token operator\">--\u003C/span>\u003Cspan class=\"token operator\">-\u003C/span>\n\u003Cspan class=\"token keyword\">import\u003C/span> Header \u003Cspan class=\"token keyword\">from\u003C/span> \u003Cspan class=\"token string\">\"../components/Header.astro\"\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token keyword\">import\u003C/span> Footer \u003Cspan class=\"token keyword\">from\u003C/span> \u003Cspan class=\"token string\">\"../components/Footer.astro\"\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token keyword\">const\u003C/span> posts \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token keyword\">await\u003C/span> Astro\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">glob\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"../content/*/*.{md,mdx}\"\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token operator\">--\u003C/span>\u003Cspan class=\"token operator\">-\u003C/span>\n\u003Cspan class=\"token doctype\">\u003Cspan class=\"token punctuation\">&#x3C;!\u003C/span>\u003Cspan class=\"token doctype-tag\">DOCTYPE\u003C/span> \u003Cspan class=\"token name\">html\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>html\u003C/span> \u003Cspan class=\"token attr-name\">lang\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>en\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\u003Cspan class=\"token plain-text\">\n    \u003C/span>\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>head\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>title\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\u003Cspan class=\"token plain-text\">All posts\u003C/span>\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>title\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>head\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\u003Cspan class=\"token plain-text\">\n    \u003C/span>\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>body\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\u003Cspan class=\"token plain-text\">\n        \u003C/span>\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>\u003Cspan class=\"token class-name\">Header\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">/>\u003C/span>\u003C/span>\u003Cspan class=\"token plain-text\">\n        \u003C/span>\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>main\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\u003Cspan class=\"token plain-text\">\n            \u003C/span>\u003Cspan class=\"token punctuation\">{\u003C/span> posts\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">map\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>post\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>\n                \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>article\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\u003Cspan class=\"token plain-text\">\n                    \u003C/span>\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>header\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">{\u003C/span>post\u003Cspan class=\"token punctuation\">.\u003C/span>frontmatter\u003Cspan class=\"token punctuation\">.\u003C/span>title\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>header\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\u003Cspan class=\"token plain-text\">\n                \u003C/span>\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>article\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>    \n            \u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token plain-text\">   \t\n        \u003C/span>\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>main\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\u003Cspan class=\"token plain-text\">\n    \u003C/span>\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>body\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\u003Cspan class=\"token plain-text\">\n\u003C/span>\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>html\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>    \n\u003C/code>\u003C/pre>\n\u003Cp>The file has two parts:\u003C/p>\n\u003Col>\n\u003Cli>The “logic” part: Delimited as a Markdown frontmatter, between two sets of \u003Ccode>---\u003C/code>. This is the equivalent of a React functional component minus the return part. All bindings declared here are available in the other part.\u003C/li>\n\u003Cli>The “render” part: The rest of the file represents the page’s markup. It’s the equivalent of “return” from a React functional component.\u003C/li>\n\u003C/ol>\n\u003Cp>One important thing to notice is that we can use top-level await.\u003C/p>\n\u003Cp>The other thing to notice is that the markup declaration in Astro looks very similar to \u003Ccode>JSX\u003C/code>. This is a huge design decision, instead of inventing yet another HTML-like markup format they decided to use JSX which is known to all React developers.\u003C/p>\n\u003Cp>Finally, there are no \u003Ccode>graphQL\u003C/code> queries in Astro. In this example, we use \u003Ccode>Astro.glob()\u003C/code> to get the posts, which are \u003Ccode>.md\u003C/code> or \u003Ccode>.mdx\u003C/code> files in the project. To retrieve data from a CMS or some other source, you’ll need to come up with your own library. Fear not, \u003Ca href=\"https://docs.astro.build/en/guides/cms/\">Astro already has guides to connect to some\u003C/a>.\u003C/p>\n\u003Ch2 id=\"astro-configuration\">Astro configuration\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#astro-configuration\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>For this blog this is the configuration I use:\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token keyword\">import\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span> defineConfig \u003Cspan class=\"token punctuation\">}\u003C/span> \u003Cspan class=\"token keyword\">from\u003C/span> \u003Cspan class=\"token string\">'astro/config'\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token keyword\">import\u003C/span> mdx \u003Cspan class=\"token keyword\">from\u003C/span> \u003Cspan class=\"token string\">'@astrojs/mdx'\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token keyword\">import\u003C/span> sitemap \u003Cspan class=\"token keyword\">from\u003C/span> \u003Cspan class=\"token string\">'@astrojs/sitemap'\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token keyword\">import\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span> remarkReadingTime \u003Cspan class=\"token punctuation\">}\u003C/span> \u003Cspan class=\"token keyword\">from\u003C/span> \u003Cspan class=\"token string\">'./src/lib/remark-reading-time.mjs'\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token keyword\">import\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span> remarkSocialImage \u003Cspan class=\"token punctuation\">}\u003C/span> \u003Cspan class=\"token keyword\">from\u003C/span> \u003Cspan class=\"token string\">'./src/lib/remark-social-image.mjs'\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token keyword\">import\u003C/span> image \u003Cspan class=\"token keyword\">from\u003C/span> \u003Cspan class=\"token string\">\"@astrojs/image\"\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token keyword\">import\u003C/span> rehypeSlug \u003Cspan class=\"token keyword\">from\u003C/span> \u003Cspan class=\"token string\">'rehype-slug'\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token keyword\">import\u003C/span> rehypeAutolinkHeadings \u003Cspan class=\"token keyword\">from\u003C/span> \u003Cspan class=\"token string\">'rehype-autolink-headings'\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token comment\">// https://astro.build/config\u003C/span>\n\u003Cspan class=\"token keyword\">export\u003C/span> \u003Cspan class=\"token keyword\">default\u003C/span> \u003Cspan class=\"token function\">defineConfig\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">{\u003C/span>\n  \u003Cspan class=\"token literal-property property\">site\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token string\">'https://raresportan.com'\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n  \u003Cspan class=\"token literal-property property\">markdown\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n    \u003Cspan class=\"token literal-property property\">extendDefaultPlugins\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token boolean\">true\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n    \u003Cspan class=\"token literal-property property\">syntaxHighlight\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token string\">'prism'\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n    \u003Cspan class=\"token literal-property property\">remarkPlugins\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>remarkSocialImage\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n    \u003Cspan class=\"token literal-property property\">rehypePlugins\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>remarkReadingTime\u003Cspan class=\"token punctuation\">,\u003C/span> rehypeSlug\u003Cspan class=\"token punctuation\">,\u003C/span> rehypeAutolinkHeadings\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>    \n  \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n  \u003Cspan class=\"token literal-property property\">integrations\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>\n    \u003Cspan class=\"token function\">mdx\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">{\u003C/span>\n      \u003Cspan class=\"token literal-property property\">remarkPlugins\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>remarkSocialImage\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n      \u003Cspan class=\"token literal-property property\">rehypePlugins\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>remarkReadingTime\u003Cspan class=\"token punctuation\">,\u003C/span> rehypeSlug\u003Cspan class=\"token punctuation\">,\u003C/span> rehypeAutolinkHeadings\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n    \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \n    \u003Cspan class=\"token function\">sitemap\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>   \n    \u003Cspan class=\"token function\">image\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">]\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>I’m using both Markdown and MDX, so I have a configuration section for each.\u003C/p>\n\u003Ch3 id=\"markdown-configuration\">Markdown configuration\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#markdown-configuration\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cp>Astro has built-in support for Markdown, so no other plugin or package is needed.\u003C/p>\n\u003Cp>However I’ve extended the default support with four plugins: \u003Cem>remarkSocialImage\u003C/em>, \u003Cem>remarkReadingTime\u003C/em>, \u003Cem>rehypeSlug\u003C/em> and \u003Cem>rehypeAutolinkHeadings\u003C/em>.\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token literal-property property\">markdown\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n    \u003Cspan class=\"token literal-property property\">extendDefaultPlugins\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token boolean\">true\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n    \u003Cspan class=\"token literal-property property\">syntaxHighlight\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token string\">'prism'\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n    \u003Cspan class=\"token literal-property property\">remarkPlugins\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>remarkSocialImage\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n    \u003Cspan class=\"token literal-property property\">rehypePlugins\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>remarkReadingTime\u003Cspan class=\"token punctuation\">,\u003C/span> rehypeSlug\u003Cspan class=\"token punctuation\">,\u003C/span> rehypeAutolinkHeadings\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>    \n\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cul>\n\u003Cli>\u003Cem>remarkSocialImage\u003C/em> is a custom plugin I’ve made that to generate Twitter cards for each blog post. It uses \u003Cem>puppeteer\u003C/em> and creates the images in \u003Ccode>public/twitter-cards\u003C/code> folder. Once the image is there it will not be created again.\u003C/li>\n\u003Cli>\u003Cem>remarkReadingTime\u003C/em> is again a custom plugin implemented by me to add in the post frontmatter the \u003Ccode>minutesRead\u003C/code> and \u003Ccode>excerpt\u003C/code>.\u003C/li>\n\u003Cli>\u003Cem>rehypeSlug\u003C/em> was added only because rehypeAutolinkHeadings requires it.\u003C/li>\n\u003Cli>\u003Cem>rehypeAutolinkHeadings\u003C/em> generates links for each heading.\u003C/li>\n\u003C/ul>\n\u003Cp>Most of my post are about programming, so I tend to include code snippets. \u003Ccode>syntaxHighlight\u003C/code> setting indicates what syntax highlighter Astro should use. It comes with built-in support for \u003Cem>Shiki\u003C/em> and \u003Cem>Prism\u003C/em>. I’ve used Prism before, so I use that again.\u003C/p>\n\u003Ch3 id=\"mdx-configuration\">MDX configuration\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#mdx-configuration\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cp>The issue with Markdown is that you cannot use custom components inside it. For example let’s say that you want to include a chart inside a Markdown page, how do you do that? You can only include an image of that chart.\u003C/p>\n\u003Cp>MDX solves this issue. It allows you to use JSX inside Markdown, meaning you can write your component just as any regular component and then you can import it and use it inside Markdown.\u003C/p>\n\u003Cp>Unlike Markdown, MDX is not buit-in Astro, if you want to use it, you need to add it as a \u003Cem>integration\u003C/em>:\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token literal-property property\">integrations\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>\n    \u003Cspan class=\"token function\">mdx\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">{\u003C/span>\n      \u003Cspan class=\"token literal-property property\">remarkPlugins\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>remarkSocialImage\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n      \u003Cspan class=\"token literal-property property\">rehypePlugins\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>remarkReadingTime\u003Cspan class=\"token punctuation\">,\u003C/span> rehypeSlug\u003Cspan class=\"token punctuation\">,\u003C/span> rehypeAutolinkHeadings\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n    \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \n    \u003Cspan class=\"token operator\">...\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>Other integrations I use:\u003C/p>\n\u003Cul>\n\u003Cli>\u003Cem>sitemap\u003C/em> : generates a sitemap based on your routes when you build your Astro project.\u003C/li>\n\u003Cli>\u003Cem>image\u003C/em> : Astro’s image optimization\u003C/li>\n\u003C/ul>\n\u003Ch3 id=\"rss\">RSS\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#rss\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cp>Astro provides a package for \u003Ca href=\"https://docs.astro.build/en/guides/rss/\">RSS\u003C/a>. For some reason this is not provided as a plugin or integration.\u003C/p>\n\u003Ch3 id=\"how-to-look-for-missing-plugins\">How to look for missing plugins\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#how-to-look-for-missing-plugins\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cp>It’s very likely that the Gatsby plugins you are using are not available for Astro and for most of them there is no obvious alternative.\u003C/p>\n\u003Cp>Here is how you can look for alternatives:\u003C/p>\n\u003Cul>\n\u003Cli>Look at existing integrations: \u003Ca href=\"https://docs.astro.build/en/guides/integrations-guide/\">Using Integrations\u003C/a>\u003C/li>\n\u003Cli>Check the CMS integrations : \u003Ca href=\"https://docs.astro.build/en/guides/cms/\">Use a CMS with Astro\u003C/a>\u003C/li>\n\u003Cli>You can integrate remark and rehype Markdown plugins directly: \u003Ca href=\"https://docs.astro.build/en/guides/markdown-content/#markdown-plugins\">Markdown Plugins\u003C/a>\u003C/li>\n\u003Cli>Build your own integration: \u003Ca href=\"https://docs.astro.build/en/reference/integrations-reference/\">Astro Integration API\u003C/a>\u003C/li>\n\u003C/ul>\n\u003Ch2 id=\"seo\">SEO\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#seo\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>For SEO I didn’t used any special package, I have a \u003Ccode>BaseHead.astro\u003C/code> component that is included in the \u003Ccode>&#x3C;head>\u003C/code> of every page. It uses frontmatter and the social image generated by \u003Cem>remarkSocialImage\u003C/em> to set the page title, description and social metadata.\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token keyword\">import\u003C/span> \u003Cspan class=\"token string\">\"../styles/styles.css\"\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token keyword\">export\u003C/span> \u003Cspan class=\"token keyword\">interface\u003C/span> \u003Cspan class=\"token class-name\">Props\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n\t\u003Cspan class=\"token literal-property property\">title\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> string\u003Cspan class=\"token punctuation\">;\u003C/span>\n\t\u003Cspan class=\"token literal-property property\">description\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> string\u003Cspan class=\"token punctuation\">;\u003C/span>\n\timage\u003Cspan class=\"token operator\">?\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> string\u003Cspan class=\"token punctuation\">;\u003C/span>\n\ttwitterImage\u003Cspan class=\"token operator\">?\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> string\n\u003Cspan class=\"token punctuation\">}\u003C/span>\n\n\u003Cspan class=\"token keyword\">const\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span> title\u003Cspan class=\"token punctuation\">,\u003C/span> description\u003Cspan class=\"token punctuation\">,\u003C/span> twitterImage \u003Cspan class=\"token punctuation\">}\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span> Astro\u003Cspan class=\"token punctuation\">.\u003C/span>props\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token operator\">--\u003C/span>\u003Cspan class=\"token operator\">-\u003C/span>\n\n\u003Cspan class=\"token operator\">&#x3C;\u003C/span>\u003Cspan class=\"token operator\">!\u003C/span>\u003Cspan class=\"token operator\">--\u003C/span> Global Metadata \u003Cspan class=\"token operator\">--\u003C/span>\u003Cspan class=\"token operator\">>\u003C/span>\n\u003Cspan class=\"token operator\">&#x3C;\u003C/span>meta charset\u003Cspan class=\"token operator\">=\u003C/span>\u003Cspan class=\"token string\">\"utf-8\"\u003C/span> \u003Cspan class=\"token operator\">/\u003C/span>\u003Cspan class=\"token operator\">>\u003C/span>\n\u003Cspan class=\"token operator\">&#x3C;\u003C/span>meta name\u003Cspan class=\"token operator\">=\u003C/span>\u003Cspan class=\"token string\">\"viewport\"\u003C/span> content\u003Cspan class=\"token operator\">=\u003C/span>\u003Cspan class=\"token string\">\"width=device-width,initial-scale=1\"\u003C/span> \u003Cspan class=\"token operator\">/\u003C/span>\u003Cspan class=\"token operator\">>\u003C/span>\n\u003Cspan class=\"token operator\">&#x3C;\u003C/span>link rel\u003Cspan class=\"token operator\">=\u003C/span>\u003Cspan class=\"token string\">\"apple-touch-icon\"\u003C/span> sizes\u003Cspan class=\"token operator\">=\u003C/span>\u003Cspan class=\"token string\">\"180x180\"\u003C/span> href\u003Cspan class=\"token operator\">=\u003C/span>\u003Cspan class=\"token string\">\"/apple-touch-icon.png\"\u003C/span>\u003Cspan class=\"token operator\">>\u003C/span>\n\u003Cspan class=\"token operator\">&#x3C;\u003C/span>link rel\u003Cspan class=\"token operator\">=\u003C/span>\u003Cspan class=\"token string\">\"icon\"\u003C/span> type\u003Cspan class=\"token operator\">=\u003C/span>\u003Cspan class=\"token string\">\"image/png\"\u003C/span> sizes\u003Cspan class=\"token operator\">=\u003C/span>\u003Cspan class=\"token string\">\"32x32\"\u003C/span> href\u003Cspan class=\"token operator\">=\u003C/span>\u003Cspan class=\"token string\">\"/favicon-32x32.png\"\u003C/span>\u003Cspan class=\"token operator\">>\u003C/span>\n\u003Cspan class=\"token operator\">&#x3C;\u003C/span>link rel\u003Cspan class=\"token operator\">=\u003C/span>\u003Cspan class=\"token string\">\"icon\"\u003C/span> type\u003Cspan class=\"token operator\">=\u003C/span>\u003Cspan class=\"token string\">\"image/png\"\u003C/span> sizes\u003Cspan class=\"token operator\">=\u003C/span>\u003Cspan class=\"token string\">\"16x16\"\u003C/span> href\u003Cspan class=\"token operator\">=\u003C/span>\u003Cspan class=\"token string\">\"/favicon-16x16.png\"\u003C/span>\u003Cspan class=\"token operator\">>\u003C/span>\n\u003Cspan class=\"token operator\">&#x3C;\u003C/span>link rel\u003Cspan class=\"token operator\">=\u003C/span>\u003Cspan class=\"token string\">\"manifest\"\u003C/span> href\u003Cspan class=\"token operator\">=\u003C/span>\u003Cspan class=\"token string\">\"/site.webmanifest\"\u003C/span> crossorigin\u003Cspan class=\"token operator\">=\u003C/span>\u003Cspan class=\"token string\">\"anonymous\"\u003C/span>\u003Cspan class=\"token operator\">>\u003C/span>\n\u003Cspan class=\"token operator\">&#x3C;\u003C/span>link rel\u003Cspan class=\"token operator\">=\u003C/span>\u003Cspan class=\"token string\">\"mask-icon\"\u003C/span> href\u003Cspan class=\"token operator\">=\u003C/span>\u003Cspan class=\"token string\">\"/safari-pinned-tab.svg\"\u003C/span> color\u003Cspan class=\"token operator\">=\u003C/span>\u003Cspan class=\"token string\">\"#5bbad5\"\u003C/span>\u003Cspan class=\"token operator\">>\u003C/span>\n\u003Cspan class=\"token operator\">&#x3C;\u003C/span>meta name\u003Cspan class=\"token operator\">=\u003C/span>\u003Cspan class=\"token string\">\"msapplication-TileColor\"\u003C/span> content\u003Cspan class=\"token operator\">=\u003C/span>\u003Cspan class=\"token string\">\"#da532c\"\u003C/span>\u003Cspan class=\"token operator\">>\u003C/span>\n\u003Cspan class=\"token operator\">&#x3C;\u003C/span>meta name\u003Cspan class=\"token operator\">=\u003C/span>\u003Cspan class=\"token string\">\"theme-color\"\u003C/span> content\u003Cspan class=\"token operator\">=\u003C/span>\u003Cspan class=\"token string\">\"#0077aa\"\u003C/span>\u003Cspan class=\"token operator\">>\u003C/span>\n\u003Cspan class=\"token operator\">&#x3C;\u003C/span>meta name\u003Cspan class=\"token operator\">=\u003C/span>\u003Cspan class=\"token string\">\"generator\"\u003C/span> content\u003Cspan class=\"token operator\">=\u003C/span>\u003Cspan class=\"token punctuation\">{\u003C/span>Astro\u003Cspan class=\"token punctuation\">.\u003C/span>generator\u003Cspan class=\"token punctuation\">}\u003C/span> \u003Cspan class=\"token operator\">/\u003C/span>\u003Cspan class=\"token operator\">>\u003C/span>\n\n\u003Cspan class=\"token operator\">&#x3C;\u003C/span>\u003Cspan class=\"token operator\">!\u003C/span>\u003Cspan class=\"token operator\">--\u003C/span> Primary Meta Tags \u003Cspan class=\"token operator\">--\u003C/span>\u003Cspan class=\"token operator\">>\u003C/span>\n\u003Cspan class=\"token operator\">&#x3C;\u003C/span>title\u003Cspan class=\"token operator\">>\u003C/span>\u003Cspan class=\"token punctuation\">{\u003C/span>title\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token operator\">&#x3C;\u003C/span>\u003Cspan class=\"token operator\">/\u003C/span>title\u003Cspan class=\"token operator\">>\u003C/span>\n\u003Cspan class=\"token operator\">&#x3C;\u003C/span>meta name\u003Cspan class=\"token operator\">=\u003C/span>\u003Cspan class=\"token string\">\"title\"\u003C/span> content\u003Cspan class=\"token operator\">=\u003C/span>\u003Cspan class=\"token punctuation\">{\u003C/span>title\u003Cspan class=\"token punctuation\">}\u003C/span> \u003Cspan class=\"token operator\">/\u003C/span>\u003Cspan class=\"token operator\">>\u003C/span>\n\u003Cspan class=\"token operator\">&#x3C;\u003C/span>meta name\u003Cspan class=\"token operator\">=\u003C/span>\u003Cspan class=\"token string\">\"description\"\u003C/span> content\u003Cspan class=\"token operator\">=\u003C/span>\u003Cspan class=\"token punctuation\">{\u003C/span>description\u003Cspan class=\"token punctuation\">}\u003C/span> \u003Cspan class=\"token operator\">/\u003C/span>\u003Cspan class=\"token operator\">>\u003C/span>\n\u003Cspan class=\"token operator\">&#x3C;\u003C/span>meta name\u003Cspan class=\"token operator\">=\u003C/span>\u003Cspan class=\"token string\">\"monetization\"\u003C/span> content\u003Cspan class=\"token operator\">=\u003C/span>\u003Cspan class=\"token string\">\"$ilp.uphold.com/FzNEikF9pkQJ\"\u003C/span> \u003Cspan class=\"token operator\">/\u003C/span>\u003Cspan class=\"token operator\">>\u003C/span>\n\n\u003Cspan class=\"token operator\">&#x3C;\u003C/span>\u003Cspan class=\"token operator\">!\u003C/span>\u003Cspan class=\"token operator\">--\u003C/span> Open Graph \u003Cspan class=\"token operator\">/\u003C/span> Facebook \u003Cspan class=\"token operator\">--\u003C/span>\u003Cspan class=\"token operator\">>\u003C/span>\n\u003Cspan class=\"token operator\">&#x3C;\u003C/span>meta property\u003Cspan class=\"token operator\">=\u003C/span>\u003Cspan class=\"token string\">\"og:type\"\u003C/span> content\u003Cspan class=\"token operator\">=\u003C/span>\u003Cspan class=\"token string\">\"website\"\u003C/span> \u003Cspan class=\"token operator\">/\u003C/span>\u003Cspan class=\"token operator\">>\u003C/span>\n\u003Cspan class=\"token operator\">&#x3C;\u003C/span>meta property\u003Cspan class=\"token operator\">=\u003C/span>\u003Cspan class=\"token string\">\"og:url\"\u003C/span> content\u003Cspan class=\"token operator\">=\u003C/span>\u003Cspan class=\"token punctuation\">{\u003C/span>Astro\u003Cspan class=\"token punctuation\">.\u003C/span>url\u003Cspan class=\"token punctuation\">}\u003C/span> \u003Cspan class=\"token operator\">/\u003C/span>\u003Cspan class=\"token operator\">>\u003C/span>\n\u003Cspan class=\"token operator\">&#x3C;\u003C/span>meta property\u003Cspan class=\"token operator\">=\u003C/span>\u003Cspan class=\"token string\">\"og:title\"\u003C/span> content\u003Cspan class=\"token operator\">=\u003C/span>\u003Cspan class=\"token punctuation\">{\u003C/span>title\u003Cspan class=\"token punctuation\">}\u003C/span> \u003Cspan class=\"token operator\">/\u003C/span>\u003Cspan class=\"token operator\">>\u003C/span>\n\u003Cspan class=\"token operator\">&#x3C;\u003C/span>meta property\u003Cspan class=\"token operator\">=\u003C/span>\u003Cspan class=\"token string\">\"og:description\"\u003C/span> content\u003Cspan class=\"token operator\">=\u003C/span>\u003Cspan class=\"token punctuation\">{\u003C/span>description\u003Cspan class=\"token punctuation\">}\u003C/span> \u003Cspan class=\"token operator\">/\u003C/span>\u003Cspan class=\"token operator\">>\u003C/span>\n\u003Cspan class=\"token operator\">&#x3C;\u003C/span>meta property\u003Cspan class=\"token operator\">=\u003C/span>\u003Cspan class=\"token string\">\"og:image\"\u003C/span> content\u003Cspan class=\"token operator\">=\u003C/span>\u003Cspan class=\"token punctuation\">{\u003C/span>twitterImage\u003Cspan class=\"token punctuation\">}\u003C/span> \u003Cspan class=\"token operator\">/\u003C/span>\u003Cspan class=\"token operator\">>\u003C/span>\n\n\u003Cspan class=\"token operator\">&#x3C;\u003C/span>\u003Cspan class=\"token operator\">!\u003C/span>\u003Cspan class=\"token operator\">--\u003C/span> Twitter \u003Cspan class=\"token operator\">--\u003C/span>\u003Cspan class=\"token operator\">>\u003C/span>\n\u003Cspan class=\"token operator\">&#x3C;\u003C/span>meta property\u003Cspan class=\"token operator\">=\u003C/span>\u003Cspan class=\"token string\">\"twitter:card\"\u003C/span> content\u003Cspan class=\"token operator\">=\u003C/span>\u003Cspan class=\"token string\">\"summary_large_image\"\u003C/span> \u003Cspan class=\"token operator\">/\u003C/span>\u003Cspan class=\"token operator\">>\u003C/span>\n\u003Cspan class=\"token operator\">&#x3C;\u003C/span>meta property\u003Cspan class=\"token operator\">=\u003C/span>\u003Cspan class=\"token string\">\"twitter:url\"\u003C/span> content\u003Cspan class=\"token operator\">=\u003C/span>\u003Cspan class=\"token punctuation\">{\u003C/span>Astro\u003Cspan class=\"token punctuation\">.\u003C/span>url\u003Cspan class=\"token punctuation\">}\u003C/span> \u003Cspan class=\"token operator\">/\u003C/span>\u003Cspan class=\"token operator\">>\u003C/span>\n\u003Cspan class=\"token operator\">&#x3C;\u003C/span>meta property\u003Cspan class=\"token operator\">=\u003C/span>\u003Cspan class=\"token string\">\"twitter:title\"\u003C/span> content\u003Cspan class=\"token operator\">=\u003C/span>\u003Cspan class=\"token punctuation\">{\u003C/span>title\u003Cspan class=\"token punctuation\">}\u003C/span> \u003Cspan class=\"token operator\">/\u003C/span>\u003Cspan class=\"token operator\">>\u003C/span>\n\u003Cspan class=\"token operator\">&#x3C;\u003C/span>meta property\u003Cspan class=\"token operator\">=\u003C/span>\u003Cspan class=\"token string\">\"twitter:description\"\u003C/span> content\u003Cspan class=\"token operator\">=\u003C/span>\u003Cspan class=\"token punctuation\">{\u003C/span>description\u003Cspan class=\"token punctuation\">}\u003C/span> \u003Cspan class=\"token operator\">/\u003C/span>\u003Cspan class=\"token operator\">>\u003C/span>\n\u003Cspan class=\"token operator\">&#x3C;\u003C/span>meta property\u003Cspan class=\"token operator\">=\u003C/span>\u003Cspan class=\"token string\">\"twitter:image\"\u003C/span> content\u003Cspan class=\"token operator\">=\u003C/span>\u003Cspan class=\"token punctuation\">{\u003C/span>twitterImage\u003Cspan class=\"token punctuation\">}\u003C/span> \u003Cspan class=\"token operator\">/\u003C/span>\u003Cspan class=\"token operator\">>\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>To help with SEO, I ship very little JavaScript. Lighthouse should show 100/100 performance.\u003C/p>\n\u003Ch2 id=\"final-thoughts\">Final thoughts\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#final-thoughts\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>This is my first Astro project, there are still things that I need to learn or clarify, but so far the experience was great. Once the migration was finished, I added a few extra things very quickly.\u003C/p>\n\u003Cp>I didn’t had the chance to explore Islands and other nice features but I’m looking forward to use them in next projects.\u003C/p>",{"headings":1345,"imagePaths":1377,"frontmatter":1331},[1346,1349,1352,1355,1358,1361,1364,1367,1370,1373,1374],{"depth":51,"slug":1347,"text":1348},"how-i-started-the-astro-project","How I started the Astro project",{"depth":51,"slug":1350,"text":1351},"project-organization","Project organization",{"depth":88,"slug":1353,"text":1354},"content-rant","Content rant",{"depth":51,"slug":1356,"text":1357},"astro-files","Astro files",{"depth":51,"slug":1359,"text":1360},"astro-configuration","Astro configuration",{"depth":88,"slug":1362,"text":1363},"markdown-configuration","Markdown configuration",{"depth":88,"slug":1365,"text":1366},"mdx-configuration","MDX configuration",{"depth":88,"slug":1368,"text":1369},"rss","RSS",{"depth":88,"slug":1371,"text":1372},"how-to-look-for-missing-plugins","How to look for missing plugins",{"depth":51,"slug":137,"text":138},{"depth":51,"slug":1375,"text":1376},"final-thoughts","Final thoughts",[],"web-monetization",["Map",7,1380],{"id":7,"data":1381,"body":1389,"filePath":1390,"digest":1391,"rendered":1392,"legacyId":64},{"title":1382,"pubDate":1383,"description":1384,"keywords":1385,"twitterImage":1387,"minutesRead":1036,"excerpt":1388},"How to make some money with a simple metadata",["Date","2021-02-13T00:00:00.000Z"],"Web monetization is here (kind of). I don't know if this will catch up or disappear in the future, but I think is a good idea.",[1386],"Monetization","https://www.raresportan.com/twitter-cards/how-to-make-some-money-with-a-simple-metadata.png","While doing some research for an upcoming post, I’ve noticed several people added a strange metadata on their\nwebsite. A metadata named mone","While doing some research for an upcoming post, I've noticed several people added a strange metadata on their\nwebsite. A metadata named _monetization_. Hmmm, what is this about?\n\nThen I've remembered about _web monetization._ The idea behind it is that content creators can receive money\nfrom people how like their content. So instead of filling their websites with annoying ads, content creators\n(like bloggers for example) can get paid directly by users of their content.\n\nThere is a [W3C proposal](https://webmonetization.org/specification.html) for this - if approved, browsers will implement the JavaScript API for this -\nbut for now, people who want to pay need to use a browser extension. So don't expect to get rich via web\nmonetization. Still, it costs nothing to get your website monetized so why not?\n\nYou can find out all the details on [webmonetization.org](https://webmonetization.org/docs/getting-started) but the gist is that\nall you need to do is to add a metadata on your website:\n\n```html\n\u003Chtml>\n  \u003Chead>\n    ...\n    \u003Cmeta name=\"monetization\" content=\"$wallet.walletprovider.com/yourid\" />\n    ...\n  \u003C/head>\n  \u003Cbody>\n    ...\n  \u003C/body>\n\u003C/html>\n```\n\nI've used [uphold.com](https://uphold.com/) as my wallet provider and my metadata looks like this:\n\n```html\n\u003Chtml>\n  \u003Chead>\n    ...\n    \u003Cmeta name=\"monetization\" content=\"$ilp.uphold.com/FzNEikF9pkQJ\" />\n    ...\n  \u003C/head>\n  \u003Cbody>\n    ...\n  \u003C/body>\n\u003C/html>\n```\n\nThat's it. I've added that metadata and I wait for the money :)\n\nI don't know if this will catch up or disappear in the future, but I think is a good idea.\nMozilla seems to support it, hopefully, others will do it.\n\n## Resources\n\n- [DEV is now Web Monetized](https://dev.to/devteam/dev-is-now-web-monetized-21db)\n- [Innovating on Web Monetization: Coil and Firefox Reality](https://hacks.mozilla.org/2020/03/web-monetization-coil-and-firefox-reality/)\n- [Web Monetization](https://interledger.org/rfcs/0028-web-monetization/)\n- [No More Ads - The New Era of Web Monetization - Stefan Thomas (Ripple)](https://www.youtube.com/watch?v=mglJoVAGkuE)","src/content/web-monetization/index.md","4abcb89ebd50cc9e",{"html":1393,"metadata":1394},"\u003Cp>While doing some research for an upcoming post, I’ve noticed several people added a strange metadata on their\nwebsite. A metadata named \u003Cem>monetization\u003C/em>. Hmmm, what is this about?\u003C/p>\n\u003Cp>Then I’ve remembered about \u003Cem>web monetization.\u003C/em> The idea behind it is that content creators can receive money\nfrom people how like their content. So instead of filling their websites with annoying ads, content creators\n(like bloggers for example) can get paid directly by users of their content.\u003C/p>\n\u003Cp>There is a \u003Ca href=\"https://webmonetization.org/specification.html\">W3C proposal\u003C/a> for this - if approved, browsers will implement the JavaScript API for this -\nbut for now, people who want to pay need to use a browser extension. So don’t expect to get rich via web\nmonetization. Still, it costs nothing to get your website monetized so why not?\u003C/p>\n\u003Cp>You can find out all the details on \u003Ca href=\"https://webmonetization.org/docs/getting-started\">webmonetization.org\u003C/a> but the gist is that\nall you need to do is to add a metadata on your website:\u003C/p>\n\u003Cpre class=\"language-html\" data-language=\"html\">\u003Ccode is:raw=\"\" class=\"language-html\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>html\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n  \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>head\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n    ...\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>meta\u003C/span> \u003Cspan class=\"token attr-name\">name\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>monetization\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token attr-name\">content\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>$wallet.walletprovider.com/yourid\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token punctuation\">/>\u003C/span>\u003C/span>\n    ...\n  \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>head\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n  \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>body\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n    ...\n  \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>body\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>html\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>I’ve used \u003Ca href=\"https://uphold.com/\">uphold.com\u003C/a> as my wallet provider and my metadata looks like this:\u003C/p>\n\u003Cpre class=\"language-html\" data-language=\"html\">\u003Ccode is:raw=\"\" class=\"language-html\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>html\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n  \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>head\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n    ...\n    \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>meta\u003C/span> \u003Cspan class=\"token attr-name\">name\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>monetization\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token attr-name\">content\u003C/span>\u003Cspan class=\"token attr-value\">\u003Cspan class=\"token punctuation attr-equals\">=\u003C/span>\u003Cspan class=\"token punctuation\">\"\u003C/span>$ilp.uphold.com/FzNEikF9pkQJ\u003Cspan class=\"token punctuation\">\"\u003C/span>\u003C/span> \u003Cspan class=\"token punctuation\">/>\u003C/span>\u003C/span>\n    ...\n  \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>head\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n  \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;\u003C/span>body\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n    ...\n  \u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>body\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"token tag\">\u003Cspan class=\"token tag\">\u003Cspan class=\"token punctuation\">&#x3C;/\u003C/span>html\u003C/span>\u003Cspan class=\"token punctuation\">>\u003C/span>\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>That’s it. I’ve added that metadata and I wait for the money :)\u003C/p>\n\u003Cp>I don’t know if this will catch up or disappear in the future, but I think is a good idea.\nMozilla seems to support it, hopefully, others will do it.\u003C/p>\n\u003Ch2 id=\"resources\">Resources\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#resources\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cul>\n\u003Cli>\u003Ca href=\"https://dev.to/devteam/dev-is-now-web-monetized-21db\">DEV is now Web Monetized\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"https://hacks.mozilla.org/2020/03/web-monetization-coil-and-firefox-reality/\">Innovating on Web Monetization: Coil and Firefox Reality\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"https://interledger.org/rfcs/0028-web-monetization/\">Web Monetization\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"https://www.youtube.com/watch?v=mglJoVAGkuE\">No More Ads - The New Era of Web Monetization - Stefan Thomas (Ripple)\u003C/a>\u003C/li>\n\u003C/ul>",{"headings":1395,"imagePaths":1397,"frontmatter":1381},[1396],{"depth":51,"slug":98,"text":99},[],"using-fetch",["Map",7,1400],{"id":7,"data":1401,"body":1409,"filePath":1410,"digest":1411,"rendered":1412,"legacyId":64},{"title":1402,"pubDate":1403,"description":1404,"keywords":1405,"twitterImage":1407,"minutesRead":1055,"excerpt":1408},"Using Fetch",["Date","2020-08-01T00:00:00.000Z"],"Fetch API is one of the most important feature added in the browsers in the recent years. But they have some gotchas",[14,1406],"fetch","https://www.raresportan.com/twitter-cards/using-fetch.png","For years, the default way to call APIs from a web page\nwas XMLHttpRequest. But working with XMLHttpRequest was not easy, so on top of it we","For years, the default way to call [APIs](/what-is-an-application-programming-interface/) from a web page\nwas XMLHttpRequest. But working with XMLHttpRequest was not easy, so on top of it were build lots of popular libraries like [jQuery.ajax()](https://api.jquery.com/jquery.ajax/)\nor [Axios](https://github.com/axios/axios) who wrapped the XMLHttpRequest functionality in a Promise based interface and also hiding away its complexities.\n\nThese days browsers provide a better alternative to XMLHttpRequest: `fetch()`.\nRecently I migrated some code that used Axios to fetch. I was surprised by how\nhard that was.\n\nFetch has a few gotchas that we all should know about before we start using it,\nbut using a native browser feature, should be preferred over a library,\neven for the simple fact that you can get rid of a few 3rd party kilobytes of JavaScript.\n\n## A simple example\n\n```js\n// the only required parameter is the URL\nfetch(\"http://api.open-notify.org/astros.json\")\n  .then((response) => {\n    // do something with the response\n  })\n  .catch((error) => {\n    // do something with the error\n  });\n```\n\nFetch function returns a Promise.\nA Promise can be:\n\n- `resolved` when it is successful (in this case when the response from the server is received )\n- `rejected` when it fails (in this case when the response from the server cannot be received)\n\nSince the Promise is resolved/rejected at a later time, asynchronously, we need to register callback functions:\n\n- `then` is called when the promise is successful\n- `catch` is called when the promise fails\n\nOr if you prefer async / await, you can use that too:\n\n```js\ntry {\n  const response = await fetch(url);\n  // do something with the response\n} catch (err) {\n  // do something with the error\n}\n```\n\nBut any useful fetch() is a bit more complicated.\nThe response of a fetch() request is a stream, so depending on the type of data returned by the server, you need to get the data from the stream.\n\nFor example, if the server response is JSON, you need to call `response.json()` that returns a Promise that resolves with\nthe result of parsing the body text as JSON.\n\n```js\nfetch('http://api.open-notify.org/astros.json')\n    .then(response => response.json() // or .text(), .blob(), .arrayBuffer(), .formData()\n    .then(data => {\n        // do something with data\n    })\n    .catch(error => {\n        // do something with the error\n    });\n```\n\nWe can use fetch() to load all kind of data, like image files, audio or video files:\n\n```js\nfetch(\"/image.jpg\")\n  .then((response) => response.blob()) // returns promise\n  .then((blob) => {\n    image.src = URL.createObjectURL(blob);\n  })\n  .catch((error) => {\n    // do something with the error\n  });\n```\n\n## How to handle errors\n\nNow here is something unexpected. Here is it, straight from [MDN](https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API):\n\n> The Promise returned from fetch() won’t reject on HTTP error status even if the response is an HTTP 404 or 500. Instead, it will resolve normally (with ok status set to false), and it will only reject on network failure or if anything prevented the request from completing.\n\nI have no idea why it's working like this, none of the alternatives work this way, but\nthis happens when you fetch an URL and the server responds with a [4xx or 5xx error](https://developer.mozilla.org/en-US/docs/Web/HTTP/Status):\n\n```js\nfetch(url)\n  .then((response) => {\n    // This code is executed even for 4xx-5xx errors!\n    // But the response will not contain expected data!\n  })\n  .catch((error) => {\n    // This is not called for 4xx-5xx errors!\n  });\n```\n\nWe need to detect these errors and handle them. The `response` has an `ok` flag that is set to false\nwhen the server responds with an error, so we can use that flag:\n\n```js\nfetch(url)\n    .then(response => {\n        if(!response.ok) {\n            const error = new Error(response.statusText || 'Fetch failed')\n            error.response = response;\n            throw error;\n        }\n        return response;\n    })\n    .then(response => response.json() // this is skipped for 4xx-5xx errors!\n    .catch(error => {\n        // this is now called for 4xx-5xx errors!\n    });\n```\n\nWe can extract error related code in a separate function so we can use it with multiple fetch calls:\n\n```js\nfunction checkForErrors(response) {\n    if(!response.ok) { //\n        const error = new Error(response.statusText || 'Fetch failed')\n        error.response = response;\n        throw error; // or Promise.reject(error)\n    }\n    return response;\n}\n\nfetch(url)\n    .then(checkForErrors)\n    .then(response => response.json() // this is skipped for 4xx-5xx errors!\n    .catch(error => {\n        // this is now called for 4xx-5xx errors!\n    });\n```\n\n## Advanced usage\n\nBesides the URL, fetch accepts an object with different options\n\n```js\nfetch(url, options)\n  .then((response) => {})\n  .catch((error) => {});\n```\n\nHere they are (those with \\* in front are the default values)\n\n```js\n{\n    method: 'POST', // *GET, POST, PUT, DELETE, etc.\n    mode: 'cors', // no-cors, *cors, same-origin\n    cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached\n    credentials: 'same-origin', // include, *same-origin, omit\n    headers: {\n      'Content-Type': 'application/json' // 'application/x-www-form-urlencoded', multipart/form-data, text/plain\n    },\n    redirect: 'follow', // manual, *follow, error\n    referrerPolicy: 'no-referrer', // no-referrer, *no-referrer-when-downgrade, origin, origin-when-cross-origin, same-origin, strict-origin, strict-origin-when-cross-origin, unsafe-url\n    body: JSON.stringify(data) // body data type must match \"Content-Type\" header\n  }\n```\n\nThis means the following are the same:\n\n```js\nfetch(url)\n  .then((response) => {})\n  .catch((error) => {});\n\nfetch(url, {\n  method: \"GET\",\n  mode: \"cors\",\n  cache: \"default\",\n  credentials: \"same-origin\",\n  headers: {\n    \"Content-Type\": \"application/json\",\n  },\n  redirect: \"follow\",\n  referrerPolicy: \"no-referrer-when-downgrade\",\n  body: \"\",\n})\n  .then((response) => {})\n  .catch((error) => {});\n```\n\nLet's dive into some of the options and see how we can use them.\n\n### method option\n\nBy default fetch() will make a [GET request](https://www.restapitutorial.com/lessons/httpmethods.html).\nIf you want to do a POST you'll need to set the method option to POST. Usually, you'll also send some data:\n\n```js\nconst data = { user: 'Jon', city: 'London'}\n\nfetch(url,\n    {\n        method : 'POST'\n        headers: {\n            'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(data),\n    })\n    .then(response => {})\n    .catch(error => {});\n```\n\n### mode option\n\nThe fetch mode can be cors, no-cors, or same-time.\n\n```js\nfetch(url, {\n  mode: \"cors\",\n})\n  .then((response) => {})\n  .catch((error) => {});\n```\n\nCORS headers are used by some servers to accept requests only from certain domains\n(e.g. company.com doesn't accept requests from others.com)\nBy default, the `cors` mode is used by fetch. This means that if the server doesn't have the [CORS](https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS) headers set correctly,\nthe fetch will be canceled. These are the most frustrating errors I ever encountered.\n\n### credentials option\n\nTo access some resources on some servers you need to authorized, e.g. to read your Gmail\nyou need to be logged in with your Google credentials.\n\nYou are asked to log in once, and any subsequent fetch requests made by your browsers are allowed if\nyour requests include the credentials.\n\n```js\nfetch(url, {\n  credentials: \"include\",\n})\n  .then((response) => {})\n  .catch((error) => {});\n```\n\nUsually, credentials are saved as cookies, and thus when you use credentials include, all\ncookies are sent to the server. And this can sometimes create problems, as some servers accept\nonly a limited length of cookies.\n\n## Timeout\n\nSadly fetch() doesn't provide out-of-the-box support for timeouts. This means that the fetch\nrequest will wait forever for the server to respond.\n\nLuckily we can implement this by wrapping the fetch in a Promise that we can resolve or reject:\n\n```js\n// create a wrapper\nfunction fetchTimeout(url, options, timeout = 5000)\n    // return the promise\n    return new Promise(resolve, reject) {\n\n        const timer = setTimeout(() => {\n            reject(new Error('Request timed out'));\n        }, timeout);\n\n        const clearTimer = response => {\n            clearTimout(timer);\n            return response;\n        }\n\n        fetch(url, options)\n            .then(clearTimer) // clear the timer\n            .then(resolve)\n            .catch(reject);\n    }\n}\n\n// use the wrapper instead of fetch\nfetchTimeout(url, {}, 10000)\n    .then(response => response.json()\n    .then(data => {\n        // do something with data\n    })\n    .catch(error => {\n        // do something with the error\n    });\n```\n\n## Cancel\n\nSometimes we want to cancel a fetch().\n\nLet's assume you are on Youtube or Netflix, you fetch a video but then you change your mind\nand want to see another video. You start fetching the new one, but what happens with\nthe other one? You don't want to see it anymore so you want to cancel it. How you do that?\n\nWell, you can use [AbortController](https://developer.mozilla.org/en-US/docs/Web/API/AbortController),\na shiny new experimental technology! (FYI It's already available in all major browsers)\n\n```js\n// create a controller\nconst controller = new AbortController();\nconst { signal } = controller;\n\n// call abort() if you want to cancel it\ncontroller.abort();\n```\n\nHere is how you can use it with fetch, you pass the `signal` as an option:\n\n```js\nconst controller = new AbortController();\nconst { signal } = controller;\n\nfetch(url, {\n  signal,\n})\n  .then((response) => {})\n  .catch((error) => {\n    if (error.name === \"AbortError\") {\n      console.log(\"Fetch aborted\");\n    } else {\n      // error not caused by abort\n    }\n  });\n\n// Abort request\ncontroller.abort();\n```\n\nIf you pass the same `signal` to multiple fetch calls, `controller.abort()` will\ncancel all requests with that signal.\n\nIf you call .abort() after the fetch has completed, nothing happens, abort is ignored.\n\nIt took a long time for the Abort API to be accepted:\n\n> The key disagreement is one group wanted the abort method to exist on the object returned by fetch(), whereas the other wanted a separation between getting the response and affecting the response. -- [Jake Archibald](https://developers.google.com/web/updates/2017/09/abortable-fetch#the_history)\n\nI would prefer the object returned by fetch() to have the abort method.\nSince is best to keep the abort details hidden we would need to create a wrapper like this:\n\n```js\nfunction abortableFetch(request, opts) {\n  const controller = new AbortController();\n  const signal = controller.signal;\n\n  return {\n    abort: () => controller.abort(),\n    ready: fetch(request, { ...opts, signal }),\n  };\n}\n```\n\nBecause the above solution breaks the interface of the object returned by fetch(), we could\nadd the abort() on that object (e.g. as proposed by the group that lost)\n\n```js\nfunction abortableFetch(url, options) {\n    const controller = new AbortController();\n    const signal = controller.signal;\n\n    // return the promise\n    const promise = new Promise(resolve, reject) {\n        fetch(url, {...options, signal)\n            .then(resolve)\n            .catch(reject);\n    }\n    promise.abort = () => controller.abort();\n\n    return promise;\n}\n```\n\nThis allows us to combine the timeout and cancel functionality in a single wrapper:\n\n```js\n\n/**\n * Fetch that can timeout and is cancellable\n */\nfunction enhancedFetch(url, options, timeout = 5000) {\n    const controller = new AbortController();\n    const signal = controller.signal;\n\n    const timer = setTimeout(() => {\n        reject(new Error('Request timed out'));\n    }, timeout);\n\n    const clearTimer = response => {\n        clearTimout(timer);\n        return response;\n    }\n\n    // return the promise\n    const promise = new Promise(resolve, reject) {\n        fetch(url, {...options, signal)\n            .then(clearTimer) // clear the timer\n            .then(resolve)\n            .catch(reject);\n    }\n    promise.abort = () => controller.abort();\n\n    return promise;\n}\n\n```\n\n## Progress\n\nWe can track the download progress (but not upload progress) using\n`response.body`, that is a [ReadableStream](https://streams.spec.whatwg.org/#rs-class),\na source of data, from which we can read data as it becomes available.\n\nUnlike `response.json()` and other methods, `response.body` gives full control over\nthe reading process, and we can see how much data is received at any moment.\n\n```js\nconst progressIndicator = (length, total) => {...}\n\nfetch('https://reqres.in/api/users/1')\n    .then(response => {\n        // get reader from response body\n        const reader = response.body.getReader();\n        // get total length\n        const contentLength = +response.headers.get('Content-Length');\n        let receivedLength = 0;\n        let chunks = [];\n\n        while(true) {\n            const { done, value } = await reader.read();\n\n            if (done) {\n                break;\n            }\n\n            chunks.push(value);\n            receivedLength += value.length;\n            console.log(`Received ${receivedLength} of ${contentLength}`);\n            // here you can call a function with the current length\n            progressIndicator(receivedLength, contentLength)\n        }\n\n        // when all data is available it's time to parse it\n        let contentArray = new Uint8Array(receivedLength);\n        let position = 0;\n        for(let chunk of chunks) {\n            contentArray.set(chunk, position);\n            position += chunk.length;\n        }\n        // decode content array into a string\n        const result = new TextDecoder(\"utf-8\").decode(contentArray);\n        // finally get data\n        const data = JSON.parse(result);\n    })\n    .catch(error => {});\n```\n\n## Polyfill\n\nAll major browsers support fetch these days, but if you want support for IE11 or\nsome other old browser, you'll need to use a polyfill (like [https://github.com/github/fetch](https://github.com/github/fetch))\n\n## Resouces\n\n- https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API\n- https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch\n- https://developer.mozilla.org/en-US/docs/Web/API/AbortController\n- https://github.github.io/fetch/#response-body\n- https://davidwalsh.name/fetch-timeout\n- https://davidwalsh.name/fetch\n- https://fetch.spec.whatwg.org/\n- https://developers.google.com/web/updates/2017/09/abortable-fetch\n- https://javascript.info/fetch-progress","src/content/using-fetch/index.md","ba853229767a5c7e",{"html":1413,"metadata":1414},"\u003Cp>For years, the default way to call \u003Ca href=\"/what-is-an-application-programming-interface/\">APIs\u003C/a> from a web page\nwas XMLHttpRequest. But working with XMLHttpRequest was not easy, so on top of it were build lots of popular libraries like \u003Ca href=\"https://api.jquery.com/jquery.ajax/\">jQuery.ajax()\u003C/a>\nor \u003Ca href=\"https://github.com/axios/axios\">Axios\u003C/a> who wrapped the XMLHttpRequest functionality in a Promise based interface and also hiding away its complexities.\u003C/p>\n\u003Cp>These days browsers provide a better alternative to XMLHttpRequest: \u003Ccode>fetch()\u003C/code>.\nRecently I migrated some code that used Axios to fetch. I was surprised by how\nhard that was.\u003C/p>\n\u003Cp>Fetch has a few gotchas that we all should know about before we start using it,\nbut using a native browser feature, should be preferred over a library,\neven for the simple fact that you can get rid of a few 3rd party kilobytes of JavaScript.\u003C/p>\n\u003Ch2 id=\"a-simple-example\">A simple example\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#a-simple-example\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token comment\">// the only required parameter is the URL\u003C/span>\n\u003Cspan class=\"token function\">fetch\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"http://api.open-notify.org/astros.json\"\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\n  \u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">then\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">response\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n    \u003Cspan class=\"token comment\">// do something with the response\u003C/span>\n  \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\n  \u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">catch\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">error\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n    \u003Cspan class=\"token comment\">// do something with the error\u003C/span>\n  \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>Fetch function returns a Promise.\nA Promise can be:\u003C/p>\n\u003Cul>\n\u003Cli>\u003Ccode>resolved\u003C/code> when it is successful (in this case when the response from the server is received )\u003C/li>\n\u003Cli>\u003Ccode>rejected\u003C/code> when it fails (in this case when the response from the server cannot be received)\u003C/li>\n\u003C/ul>\n\u003Cp>Since the Promise is resolved/rejected at a later time, asynchronously, we need to register callback functions:\u003C/p>\n\u003Cul>\n\u003Cli>\u003Ccode>then\u003C/code> is called when the promise is successful\u003C/li>\n\u003Cli>\u003Ccode>catch\u003C/code> is called when the promise fails\u003C/li>\n\u003C/ul>\n\u003Cp>Or if you prefer async / await, you can use that too:\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token keyword\">try\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n  \u003Cspan class=\"token keyword\">const\u003C/span> response \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token keyword\">await\u003C/span> \u003Cspan class=\"token function\">fetch\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>url\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n  \u003Cspan class=\"token comment\">// do something with the response\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span> \u003Cspan class=\"token keyword\">catch\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>err\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n  \u003Cspan class=\"token comment\">// do something with the error\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>But any useful fetch() is a bit more complicated.\nThe response of a fetch() request is a stream, so depending on the type of data returned by the server, you need to get the data from the stream.\u003C/p>\n\u003Cp>For example, if the server response is JSON, you need to call \u003Ccode>response.json()\u003C/code> that returns a Promise that resolves with\nthe result of parsing the body text as JSON.\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token function\">fetch\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">'http://api.open-notify.org/astros.json'\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\n    \u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">then\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">response\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> response\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">json\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token comment\">// or .text(), .blob(), .arrayBuffer(), .formData()\u003C/span>\n    \u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">then\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">data\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n        \u003Cspan class=\"token comment\">// do something with data\u003C/span>\n    \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\n    \u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">catch\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">error\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n        \u003Cspan class=\"token comment\">// do something with the error\u003C/span>\n    \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>We can use fetch() to load all kind of data, like image files, audio or video files:\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token function\">fetch\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"/image.jpg\"\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\n  \u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">then\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">response\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> response\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">blob\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token comment\">// returns promise\u003C/span>\n  \u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">then\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">blob\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n    image\u003Cspan class=\"token punctuation\">.\u003C/span>src \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token constant\">URL\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">createObjectURL\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>blob\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n  \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\n  \u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">catch\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">error\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n    \u003Cspan class=\"token comment\">// do something with the error\u003C/span>\n  \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Ch2 id=\"how-to-handle-errors\">How to handle errors\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#how-to-handle-errors\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>Now here is something unexpected. Here is it, straight from \u003Ca href=\"https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API\">MDN\u003C/a>:\u003C/p>\n\u003Cblockquote>\n\u003Cp>The Promise returned from fetch() won’t reject on HTTP error status even if the response is an HTTP 404 or 500. Instead, it will resolve normally (with ok status set to false), and it will only reject on network failure or if anything prevented the request from completing.\u003C/p>\n\u003C/blockquote>\n\u003Cp>I have no idea why it’s working like this, none of the alternatives work this way, but\nthis happens when you fetch an URL and the server responds with a \u003Ca href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status\">4xx or 5xx error\u003C/a>:\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token function\">fetch\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>url\u003Cspan class=\"token punctuation\">)\u003C/span>\n  \u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">then\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">response\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n    \u003Cspan class=\"token comment\">// This code is executed even for 4xx-5xx errors!\u003C/span>\n    \u003Cspan class=\"token comment\">// But the response will not contain expected data!\u003C/span>\n  \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\n  \u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">catch\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">error\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n    \u003Cspan class=\"token comment\">// This is not called for 4xx-5xx errors!\u003C/span>\n  \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>We need to detect these errors and handle them. The \u003Ccode>response\u003C/code> has an \u003Ccode>ok\u003C/code> flag that is set to false\nwhen the server responds with an error, so we can use that flag:\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token function\">fetch\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>url\u003Cspan class=\"token punctuation\">)\u003C/span>\n    \u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">then\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">response\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n        \u003Cspan class=\"token keyword\">if\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token operator\">!\u003C/span>response\u003Cspan class=\"token punctuation\">.\u003C/span>ok\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n            \u003Cspan class=\"token keyword\">const\u003C/span> error \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token keyword\">new\u003C/span> \u003Cspan class=\"token class-name\">Error\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>response\u003Cspan class=\"token punctuation\">.\u003C/span>statusText \u003Cspan class=\"token operator\">||\u003C/span> \u003Cspan class=\"token string\">'Fetch failed'\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\n            error\u003Cspan class=\"token punctuation\">.\u003C/span>response \u003Cspan class=\"token operator\">=\u003C/span> response\u003Cspan class=\"token punctuation\">;\u003C/span>\n            \u003Cspan class=\"token keyword\">throw\u003C/span> error\u003Cspan class=\"token punctuation\">;\u003C/span>\n        \u003Cspan class=\"token punctuation\">}\u003C/span>\n        \u003Cspan class=\"token keyword\">return\u003C/span> response\u003Cspan class=\"token punctuation\">;\u003C/span>\n    \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\n    \u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">then\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">response\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> response\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">json\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token comment\">// this is skipped for 4xx-5xx errors!\u003C/span>\n    \u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">catch\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">error\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n        \u003Cspan class=\"token comment\">// this is now called for 4xx-5xx errors!\u003C/span>\n    \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>We can extract error related code in a separate function so we can use it with multiple fetch calls:\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token keyword\">function\u003C/span> \u003Cspan class=\"token function\">checkForErrors\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">response\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n    \u003Cspan class=\"token keyword\">if\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token operator\">!\u003C/span>response\u003Cspan class=\"token punctuation\">.\u003C/span>ok\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span> \u003Cspan class=\"token comment\">//\u003C/span>\n        \u003Cspan class=\"token keyword\">const\u003C/span> error \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token keyword\">new\u003C/span> \u003Cspan class=\"token class-name\">Error\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>response\u003Cspan class=\"token punctuation\">.\u003C/span>statusText \u003Cspan class=\"token operator\">||\u003C/span> \u003Cspan class=\"token string\">'Fetch failed'\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\n        error\u003Cspan class=\"token punctuation\">.\u003C/span>response \u003Cspan class=\"token operator\">=\u003C/span> response\u003Cspan class=\"token punctuation\">;\u003C/span>\n        \u003Cspan class=\"token keyword\">throw\u003C/span> error\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token comment\">// or Promise.reject(error)\u003C/span>\n    \u003Cspan class=\"token punctuation\">}\u003C/span>\n    \u003Cspan class=\"token keyword\">return\u003C/span> response\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\n\n\u003Cspan class=\"token function\">fetch\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>url\u003Cspan class=\"token punctuation\">)\u003C/span>\n    \u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">then\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>checkForErrors\u003Cspan class=\"token punctuation\">)\u003C/span>\n    \u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">then\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">response\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> response\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">json\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token comment\">// this is skipped for 4xx-5xx errors!\u003C/span>\n    \u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">catch\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">error\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n        \u003Cspan class=\"token comment\">// this is now called for 4xx-5xx errors!\u003C/span>\n    \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Ch2 id=\"advanced-usage\">Advanced usage\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#advanced-usage\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>Besides the URL, fetch accepts an object with different options\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token function\">fetch\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>url\u003Cspan class=\"token punctuation\">,\u003C/span> options\u003Cspan class=\"token punctuation\">)\u003C/span>\n  \u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">then\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">response\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\n  \u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">catch\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">error\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>Here they are (those with * in front are the default values)\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token punctuation\">{\u003C/span>\n    \u003Cspan class=\"token literal-property property\">method\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token string\">'POST'\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token comment\">// *GET, POST, PUT, DELETE, etc.\u003C/span>\n    \u003Cspan class=\"token literal-property property\">mode\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token string\">'cors'\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token comment\">// no-cors, *cors, same-origin\u003C/span>\n    \u003Cspan class=\"token literal-property property\">cache\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token string\">'no-cache'\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token comment\">// *default, no-cache, reload, force-cache, only-if-cached\u003C/span>\n    \u003Cspan class=\"token literal-property property\">credentials\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token string\">'same-origin'\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token comment\">// include, *same-origin, omit\u003C/span>\n    \u003Cspan class=\"token literal-property property\">headers\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n      \u003Cspan class=\"token string-property property\">'Content-Type'\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token string\">'application/json'\u003C/span> \u003Cspan class=\"token comment\">// 'application/x-www-form-urlencoded', multipart/form-data, text/plain\u003C/span>\n    \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n    \u003Cspan class=\"token literal-property property\">redirect\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token string\">'follow'\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token comment\">// manual, *follow, error\u003C/span>\n    \u003Cspan class=\"token literal-property property\">referrerPolicy\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token string\">'no-referrer'\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token comment\">// no-referrer, *no-referrer-when-downgrade, origin, origin-when-cross-origin, same-origin, strict-origin, strict-origin-when-cross-origin, unsafe-url\u003C/span>\n    \u003Cspan class=\"token literal-property property\">body\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token constant\">JSON\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">stringify\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>data\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token comment\">// body data type must match \"Content-Type\" header\u003C/span>\n  \u003Cspan class=\"token punctuation\">}\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>This means the following are the same:\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token function\">fetch\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>url\u003Cspan class=\"token punctuation\">)\u003C/span>\n  \u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">then\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">response\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\n  \u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">catch\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">error\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token function\">fetch\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>url\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n  \u003Cspan class=\"token literal-property property\">method\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token string\">\"GET\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n  \u003Cspan class=\"token literal-property property\">mode\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token string\">\"cors\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n  \u003Cspan class=\"token literal-property property\">cache\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token string\">\"default\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n  \u003Cspan class=\"token literal-property property\">credentials\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token string\">\"same-origin\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n  \u003Cspan class=\"token literal-property property\">headers\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n    \u003Cspan class=\"token string-property property\">\"Content-Type\"\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token string\">\"application/json\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n  \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n  \u003Cspan class=\"token literal-property property\">redirect\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token string\">\"follow\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n  \u003Cspan class=\"token literal-property property\">referrerPolicy\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token string\">\"no-referrer-when-downgrade\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n  \u003Cspan class=\"token literal-property property\">body\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token string\">\"\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\n  \u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">then\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">response\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\n  \u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">catch\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">error\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>Let’s dive into some of the options and see how we can use them.\u003C/p>\n\u003Ch3 id=\"method-option\">method option\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#method-option\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cp>By default fetch() will make a \u003Ca href=\"https://www.restapitutorial.com/lessons/httpmethods.html\">GET request\u003C/a>.\nIf you want to do a POST you’ll need to set the method option to POST. Usually, you’ll also send some data:\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token keyword\">const\u003C/span> data \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span> \u003Cspan class=\"token literal-property property\">user\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token string\">'Jon'\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token literal-property property\">city\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token string\">'London'\u003C/span>\u003Cspan class=\"token punctuation\">}\u003C/span>\n\n\u003Cspan class=\"token function\">fetch\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>url\u003Cspan class=\"token punctuation\">,\u003C/span>\n    \u003Cspan class=\"token punctuation\">{\u003C/span>\n        \u003Cspan class=\"token literal-property property\">method\u003C/span> \u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token string\">'POST'\u003C/span>\n        \u003Cspan class=\"token literal-property property\">headers\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n            \u003Cspan class=\"token string-property property\">'Content-Type'\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token string\">'application/json'\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n        \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n        \u003Cspan class=\"token literal-property property\">body\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token constant\">JSON\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">stringify\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>data\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n    \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\n    \u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">then\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">response\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\n    \u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">catch\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">error\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Ch3 id=\"mode-option\">mode option\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#mode-option\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cp>The fetch mode can be cors, no-cors, or same-time.\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token function\">fetch\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>url\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n  \u003Cspan class=\"token literal-property property\">mode\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token string\">\"cors\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\n  \u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">then\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">response\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\n  \u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">catch\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">error\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>CORS headers are used by some servers to accept requests only from certain domains\n(e.g. company.com doesn’t accept requests from others.com)\nBy default, the \u003Ccode>cors\u003C/code> mode is used by fetch. This means that if the server doesn’t have the \u003Ca href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS\">CORS\u003C/a> headers set correctly,\nthe fetch will be canceled. These are the most frustrating errors I ever encountered.\u003C/p>\n\u003Ch3 id=\"credentials-option\">credentials option\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#credentials-option\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cp>To access some resources on some servers you need to authorized, e.g. to read your Gmail\nyou need to be logged in with your Google credentials.\u003C/p>\n\u003Cp>You are asked to log in once, and any subsequent fetch requests made by your browsers are allowed if\nyour requests include the credentials.\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token function\">fetch\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>url\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n  \u003Cspan class=\"token literal-property property\">credentials\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token string\">\"include\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\n  \u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">then\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">response\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\n  \u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">catch\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">error\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>Usually, credentials are saved as cookies, and thus when you use credentials include, all\ncookies are sent to the server. And this can sometimes create problems, as some servers accept\nonly a limited length of cookies.\u003C/p>\n\u003Ch2 id=\"timeout\">Timeout\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#timeout\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>Sadly fetch() doesn’t provide out-of-the-box support for timeouts. This means that the fetch\nrequest will wait forever for the server to respond.\u003C/p>\n\u003Cp>Luckily we can implement this by wrapping the fetch in a Promise that we can resolve or reject:\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token comment\">// create a wrapper\u003C/span>\n\u003Cspan class=\"token keyword\">function\u003C/span> \u003Cspan class=\"token function\">fetchTimeout\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">url\u003Cspan class=\"token punctuation\">,\u003C/span> options\u003Cspan class=\"token punctuation\">,\u003C/span> timeout \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token number\">5000\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\n    \u003Cspan class=\"token comment\">// return the promise\u003C/span>\n    \u003Cspan class=\"token keyword\">return\u003C/span> \u003Cspan class=\"token keyword\">new\u003C/span> \u003Cspan class=\"token class-name\">Promise\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>resolve\u003Cspan class=\"token punctuation\">,\u003C/span> reject\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n\n        \u003Cspan class=\"token keyword\">const\u003C/span> timer \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token function\">setTimeout\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n            \u003Cspan class=\"token function\">reject\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token keyword\">new\u003C/span> \u003Cspan class=\"token class-name\">Error\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">'Request timed out'\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n        \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> timeout\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n        \u003Cspan class=\"token keyword\">const\u003C/span> \u003Cspan class=\"token function-variable function\">clearTimer\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token parameter\">response\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n            \u003Cspan class=\"token function\">clearTimout\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>timer\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n            \u003Cspan class=\"token keyword\">return\u003C/span> response\u003Cspan class=\"token punctuation\">;\u003C/span>\n        \u003Cspan class=\"token punctuation\">}\u003C/span>\n\n        \u003Cspan class=\"token function\">fetch\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>url\u003Cspan class=\"token punctuation\">,\u003C/span> options\u003Cspan class=\"token punctuation\">)\u003C/span>\n            \u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">then\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>clearTimer\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token comment\">// clear the timer\u003C/span>\n            \u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">then\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>resolve\u003Cspan class=\"token punctuation\">)\u003C/span>\n            \u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">catch\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>reject\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n    \u003Cspan class=\"token punctuation\">}\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\n\n\u003Cspan class=\"token comment\">// use the wrapper instead of fetch\u003C/span>\n\u003Cspan class=\"token function\">fetchTimeout\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>url\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token number\">10000\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\n    \u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">then\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">response\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> response\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">json\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\n    \u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">then\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">data\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n        \u003Cspan class=\"token comment\">// do something with data\u003C/span>\n    \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\n    \u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">catch\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">error\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n        \u003Cspan class=\"token comment\">// do something with the error\u003C/span>\n    \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Ch2 id=\"cancel\">Cancel\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#cancel\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>Sometimes we want to cancel a fetch().\u003C/p>\n\u003Cp>Let’s assume you are on Youtube or Netflix, you fetch a video but then you change your mind\nand want to see another video. You start fetching the new one, but what happens with\nthe other one? You don’t want to see it anymore so you want to cancel it. How you do that?\u003C/p>\n\u003Cp>Well, you can use \u003Ca href=\"https://developer.mozilla.org/en-US/docs/Web/API/AbortController\">AbortController\u003C/a>,\na shiny new experimental technology! (FYI It’s already available in all major browsers)\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token comment\">// create a controller\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> controller \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token keyword\">new\u003C/span> \u003Cspan class=\"token class-name\">AbortController\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span> signal \u003Cspan class=\"token punctuation\">}\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span> controller\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token comment\">// call abort() if you want to cancel it\u003C/span>\ncontroller\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">abort\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>Here is how you can use it with fetch, you pass the \u003Ccode>signal\u003C/code> as an option:\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token keyword\">const\u003C/span> controller \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token keyword\">new\u003C/span> \u003Cspan class=\"token class-name\">AbortController\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token keyword\">const\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span> signal \u003Cspan class=\"token punctuation\">}\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span> controller\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token function\">fetch\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>url\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n  signal\u003Cspan class=\"token punctuation\">,\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\n  \u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">then\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">response\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\n  \u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">catch\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">error\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n    \u003Cspan class=\"token keyword\">if\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>error\u003Cspan class=\"token punctuation\">.\u003C/span>name \u003Cspan class=\"token operator\">===\u003C/span> \u003Cspan class=\"token string\">\"AbortError\"\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n      console\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">log\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"Fetch aborted\"\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n    \u003Cspan class=\"token punctuation\">}\u003C/span> \u003Cspan class=\"token keyword\">else\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n      \u003Cspan class=\"token comment\">// error not caused by abort\u003C/span>\n    \u003Cspan class=\"token punctuation\">}\u003C/span>\n  \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n\u003Cspan class=\"token comment\">// Abort request\u003C/span>\ncontroller\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">abort\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>If you pass the same \u003Ccode>signal\u003C/code> to multiple fetch calls, \u003Ccode>controller.abort()\u003C/code> will\ncancel all requests with that signal.\u003C/p>\n\u003Cp>If you call .abort() after the fetch has completed, nothing happens, abort is ignored.\u003C/p>\n\u003Cp>It took a long time for the Abort API to be accepted:\u003C/p>\n\u003Cblockquote>\n\u003Cp>The key disagreement is one group wanted the abort method to exist on the object returned by fetch(), whereas the other wanted a separation between getting the response and affecting the response. — \u003Ca href=\"https://developers.google.com/web/updates/2017/09/abortable-fetch#the_history\">Jake Archibald\u003C/a>\u003C/p>\n\u003C/blockquote>\n\u003Cp>I would prefer the object returned by fetch() to have the abort method.\nSince is best to keep the abort details hidden we would need to create a wrapper like this:\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token keyword\">function\u003C/span> \u003Cspan class=\"token function\">abortableFetch\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">request\u003Cspan class=\"token punctuation\">,\u003C/span> opts\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n  \u003Cspan class=\"token keyword\">const\u003C/span> controller \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token keyword\">new\u003C/span> \u003Cspan class=\"token class-name\">AbortController\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n  \u003Cspan class=\"token keyword\">const\u003C/span> signal \u003Cspan class=\"token operator\">=\u003C/span> controller\u003Cspan class=\"token punctuation\">.\u003C/span>signal\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n  \u003Cspan class=\"token keyword\">return\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n    \u003Cspan class=\"token function-variable function\">abort\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> controller\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">abort\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n    \u003Cspan class=\"token literal-property property\">ready\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token function\">fetch\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>request\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span> \u003Cspan class=\"token operator\">...\u003C/span>opts\u003Cspan class=\"token punctuation\">,\u003C/span> signal \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n  \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>Because the above solution breaks the interface of the object returned by fetch(), we could\nadd the abort() on that object (e.g. as proposed by the group that lost)\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token keyword\">function\u003C/span> \u003Cspan class=\"token function\">abortableFetch\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">url\u003Cspan class=\"token punctuation\">,\u003C/span> options\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n    \u003Cspan class=\"token keyword\">const\u003C/span> controller \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token keyword\">new\u003C/span> \u003Cspan class=\"token class-name\">AbortController\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n    \u003Cspan class=\"token keyword\">const\u003C/span> signal \u003Cspan class=\"token operator\">=\u003C/span> controller\u003Cspan class=\"token punctuation\">.\u003C/span>signal\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n    \u003Cspan class=\"token comment\">// return the promise\u003C/span>\n    \u003Cspan class=\"token keyword\">const\u003C/span> promise \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token keyword\">new\u003C/span> \u003Cspan class=\"token class-name\">Promise\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>resolve\u003Cspan class=\"token punctuation\">,\u003C/span> reject\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n        \u003Cspan class=\"token function\">fetch\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>url\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\u003Cspan class=\"token operator\">...\u003C/span>options\u003Cspan class=\"token punctuation\">,\u003C/span> signal\u003Cspan class=\"token punctuation\">)\u003C/span>\n            \u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">then\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>resolve\u003Cspan class=\"token punctuation\">)\u003C/span>\n            \u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">catch\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>reject\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n    \u003Cspan class=\"token punctuation\">}\u003C/span>\n    promise\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function-variable function\">abort\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> controller\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">abort\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n    \u003Cspan class=\"token keyword\">return\u003C/span> promise\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>This allows us to combine the timeout and cancel functionality in a single wrapper:\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\n\u003Cspan class=\"token comment\">/**\n * Fetch that can timeout and is cancellable\n */\u003C/span>\n\u003Cspan class=\"token keyword\">function\u003C/span> \u003Cspan class=\"token function\">enhancedFetch\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">url\u003Cspan class=\"token punctuation\">,\u003C/span> options\u003Cspan class=\"token punctuation\">,\u003C/span> timeout \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token number\">5000\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n    \u003Cspan class=\"token keyword\">const\u003C/span> controller \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token keyword\">new\u003C/span> \u003Cspan class=\"token class-name\">AbortController\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n    \u003Cspan class=\"token keyword\">const\u003C/span> signal \u003Cspan class=\"token operator\">=\u003C/span> controller\u003Cspan class=\"token punctuation\">.\u003C/span>signal\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n    \u003Cspan class=\"token keyword\">const\u003C/span> timer \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token function\">setTimeout\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n        \u003Cspan class=\"token function\">reject\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token keyword\">new\u003C/span> \u003Cspan class=\"token class-name\">Error\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">'Request timed out'\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n    \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> timeout\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n    \u003Cspan class=\"token keyword\">const\u003C/span> \u003Cspan class=\"token function-variable function\">clearTimer\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token parameter\">response\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n        \u003Cspan class=\"token function\">clearTimout\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>timer\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n        \u003Cspan class=\"token keyword\">return\u003C/span> response\u003Cspan class=\"token punctuation\">;\u003C/span>\n    \u003Cspan class=\"token punctuation\">}\u003C/span>\n\n    \u003Cspan class=\"token comment\">// return the promise\u003C/span>\n    \u003Cspan class=\"token keyword\">const\u003C/span> promise \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token keyword\">new\u003C/span> \u003Cspan class=\"token class-name\">Promise\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>resolve\u003Cspan class=\"token punctuation\">,\u003C/span> reject\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n        \u003Cspan class=\"token function\">fetch\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>url\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\u003Cspan class=\"token operator\">...\u003C/span>options\u003Cspan class=\"token punctuation\">,\u003C/span> signal\u003Cspan class=\"token punctuation\">)\u003C/span>\n            \u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">then\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>clearTimer\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token comment\">// clear the timer\u003C/span>\n            \u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">then\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>resolve\u003Cspan class=\"token punctuation\">)\u003C/span>\n            \u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">catch\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>reject\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n    \u003Cspan class=\"token punctuation\">}\u003C/span>\n    promise\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function-variable function\">abort\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> controller\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">abort\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n    \u003Cspan class=\"token keyword\">return\u003C/span> promise\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\n\n\u003C/code>\u003C/pre>\n\u003Ch2 id=\"progress\">Progress\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#progress\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>We can track the download progress (but not upload progress) using\n\u003Ccode>response.body\u003C/code>, that is a \u003Ca href=\"https://streams.spec.whatwg.org/#rs-class\">ReadableStream\u003C/a>,\na source of data, from which we can read data as it becomes available.\u003C/p>\n\u003Cp>Unlike \u003Ccode>response.json()\u003C/code> and other methods, \u003Ccode>response.body\u003C/code> gives full control over\nthe reading process, and we can see how much data is received at any moment.\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token keyword\">const\u003C/span> \u003Cspan class=\"token function-variable function\">progressIndicator\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">length\u003Cspan class=\"token punctuation\">,\u003C/span> total\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\u003Cspan class=\"token operator\">...\u003C/span>\u003Cspan class=\"token punctuation\">}\u003C/span>\n\n\u003Cspan class=\"token function\">fetch\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">'https://reqres.in/api/users/1'\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\n    \u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">then\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">response\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n        \u003Cspan class=\"token comment\">// get reader from response body\u003C/span>\n        \u003Cspan class=\"token keyword\">const\u003C/span> reader \u003Cspan class=\"token operator\">=\u003C/span> response\u003Cspan class=\"token punctuation\">.\u003C/span>body\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">getReader\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n        \u003Cspan class=\"token comment\">// get total length\u003C/span>\n        \u003Cspan class=\"token keyword\">const\u003C/span> contentLength \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token operator\">+\u003C/span>response\u003Cspan class=\"token punctuation\">.\u003C/span>headers\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">get\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">'Content-Length'\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n        \u003Cspan class=\"token keyword\">let\u003C/span> receivedLength \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token number\">0\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n        \u003Cspan class=\"token keyword\">let\u003C/span> chunks \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token punctuation\">[\u003C/span>\u003Cspan class=\"token punctuation\">]\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n        \u003Cspan class=\"token keyword\">while\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token boolean\">true\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n            \u003Cspan class=\"token keyword\">const\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span> done\u003Cspan class=\"token punctuation\">,\u003C/span> value \u003Cspan class=\"token punctuation\">}\u003C/span> \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token keyword\">await\u003C/span> reader\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">read\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n            \u003Cspan class=\"token keyword\">if\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>done\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n                \u003Cspan class=\"token keyword\">break\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n            \u003Cspan class=\"token punctuation\">}\u003C/span>\n\n            chunks\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">push\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>value\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n            receivedLength \u003Cspan class=\"token operator\">+=\u003C/span> value\u003Cspan class=\"token punctuation\">.\u003C/span>length\u003Cspan class=\"token punctuation\">;\u003C/span>\n            console\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">log\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token template-string\">\u003Cspan class=\"token template-punctuation string\">`\u003C/span>\u003Cspan class=\"token string\">Received \u003C/span>\u003Cspan class=\"token interpolation\">\u003Cspan class=\"token interpolation-punctuation punctuation\">${\u003C/span>receivedLength\u003Cspan class=\"token interpolation-punctuation punctuation\">}\u003C/span>\u003C/span>\u003Cspan class=\"token string\"> of \u003C/span>\u003Cspan class=\"token interpolation\">\u003Cspan class=\"token interpolation-punctuation punctuation\">${\u003C/span>contentLength\u003Cspan class=\"token interpolation-punctuation punctuation\">}\u003C/span>\u003C/span>\u003Cspan class=\"token template-punctuation string\">`\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n            \u003Cspan class=\"token comment\">// here you can call a function with the current length\u003C/span>\n            \u003Cspan class=\"token function\">progressIndicator\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>receivedLength\u003Cspan class=\"token punctuation\">,\u003C/span> contentLength\u003Cspan class=\"token punctuation\">)\u003C/span>\n        \u003Cspan class=\"token punctuation\">}\u003C/span>\n\n        \u003Cspan class=\"token comment\">// when all data is available it's time to parse it\u003C/span>\n        \u003Cspan class=\"token keyword\">let\u003C/span> contentArray \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token keyword\">new\u003C/span> \u003Cspan class=\"token class-name\">Uint8Array\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>receivedLength\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n        \u003Cspan class=\"token keyword\">let\u003C/span> position \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token number\">0\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n        \u003Cspan class=\"token keyword\">for\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token keyword\">let\u003C/span> chunk \u003Cspan class=\"token keyword\">of\u003C/span> chunks\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n            contentArray\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">set\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>chunk\u003Cspan class=\"token punctuation\">,\u003C/span> position\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n            position \u003Cspan class=\"token operator\">+=\u003C/span> chunk\u003Cspan class=\"token punctuation\">.\u003C/span>length\u003Cspan class=\"token punctuation\">;\u003C/span>\n        \u003Cspan class=\"token punctuation\">}\u003C/span>\n        \u003Cspan class=\"token comment\">// decode content array into a string\u003C/span>\n        \u003Cspan class=\"token keyword\">const\u003C/span> result \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token keyword\">new\u003C/span> \u003Cspan class=\"token class-name\">TextDecoder\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"utf-8\"\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">decode\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>contentArray\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n        \u003Cspan class=\"token comment\">// finally get data\u003C/span>\n        \u003Cspan class=\"token keyword\">const\u003C/span> data \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token constant\">JSON\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">parse\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>result\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n    \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\n    \u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">catch\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">error\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Ch2 id=\"polyfill\">Polyfill\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#polyfill\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>All major browsers support fetch these days, but if you want support for IE11 or\nsome other old browser, you’ll need to use a polyfill (like \u003Ca href=\"https://github.com/github/fetch\">https://github.com/github/fetch\u003C/a>)\u003C/p>\n\u003Ch2 id=\"resouces\">Resouces\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#resouces\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cul>\n\u003Cli>\u003Ca href=\"https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API\">https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch\">https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"https://developer.mozilla.org/en-US/docs/Web/API/AbortController\">https://developer.mozilla.org/en-US/docs/Web/API/AbortController\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"https://github.github.io/fetch/#response-body\">https://github.github.io/fetch/#response-body\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"https://davidwalsh.name/fetch-timeout\">https://davidwalsh.name/fetch-timeout\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"https://davidwalsh.name/fetch\">https://davidwalsh.name/fetch\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"https://fetch.spec.whatwg.org/\">https://fetch.spec.whatwg.org/\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"https://developers.google.com/web/updates/2017/09/abortable-fetch\">https://developers.google.com/web/updates/2017/09/abortable-fetch\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"https://javascript.info/fetch-progress\">https://javascript.info/fetch-progress\u003C/a>\u003C/li>\n\u003C/ul>",{"headings":1415,"imagePaths":1449,"frontmatter":1401},[1416,1419,1422,1425,1428,1431,1434,1437,1440,1443,1446],{"depth":51,"slug":1417,"text":1418},"a-simple-example","A simple example",{"depth":51,"slug":1420,"text":1421},"how-to-handle-errors","How to handle errors",{"depth":51,"slug":1423,"text":1424},"advanced-usage","Advanced usage",{"depth":88,"slug":1426,"text":1427},"method-option","method option",{"depth":88,"slug":1429,"text":1430},"mode-option","mode option",{"depth":88,"slug":1432,"text":1433},"credentials-option","credentials option",{"depth":51,"slug":1435,"text":1436},"timeout","Timeout",{"depth":51,"slug":1438,"text":1439},"cancel","Cancel",{"depth":51,"slug":1441,"text":1442},"progress","Progress",{"depth":51,"slug":1444,"text":1445},"polyfill","Polyfill",{"depth":51,"slug":1447,"text":1448},"resouces","Resouces",[],"fixing-long-netlify-gatsby-builds",["Map",7,1452],{"id":7,"data":1453,"body":1458,"filePath":1459,"digest":1460,"legacyId":18,"deferredRender":19},{"title":1454,"pubDate":1455,"description":1456,"keywords":1457},"How to fix crazy long Gatsby builds on Netlify",["Date","2021-11-07T00:00:00.000Z"],"For no obvious reason, it takes a lot of time to deploy my Gatsby site on Netlify, but I found why",[564,552],"So I'm writing this blog post - all is good, I finish writing, checking it with Grammarly - and then I think: \"OK, just three more minutes to deploy, and I'm done\".\n\nI go to Github, create the PR for the branch with the new post, and then open Netlify to see how the deployment is going (for my PRs a new deploy is started automatically for preview.)\n\nAnd I wait... and I wait.. and I wait... 10 minutes went on, I panic\nand I cancel the deploy. I'm thinking maybe there was a glitch in Netlify bowels and I start a new one. I wait again... Finally after 13 minutes (instead of 3) the build finishes.\n\n> I'm on the free plan (Starter) on Netlify. It includes 300 minutes/30 days of build time. For all my account websites. So if one build takes 13 minutes, I have a problem.\n\nI run the build on my local machine, the same build runs in 2 minutes so clearly something is very wrong somewhere.\n\n```\ninfo Done building in 81.956853735 sec\n```\n\nBut then I run the build again several times:\n\n- The second time I run the build I get some strange webpack errors:\n\n```\n[webpack.cache.PackFileCacheStrategy] Caching failed for pack: Error: ENOENT: no such file or directory, rename '\u003Cproject_folder>.cache/webpack/stage-build-html/1.pack_' -> '\u003Cproject_folder>/.cache/webpack/stage-build-html/1.pack'\n...\ninfo Done building in 35.938077026 sec\n```\n\nBut the build is still fast.\n\n- The third time, the webpack errors are gone but the build is slow\n\n```\ninfo Done building in 375.343136062 sec\n```\n\nSame thing on Netlify, `Caching HTML renderer compilation` takes most of the build time:\n\nimport { Picture } from \"astro:assets\";\n\n\u003CPicture\n  src={import(\"./build_log.png\")}\n  widths={[480, 800]}\n  formats={[\"webp\"]}\n  sizes=\"(max-width: 600px) 480px, 800px\"\n  alt=\"Caching HTML renderer compilation\"\n/>\n\nMy Gatsby 3 build seams blocked between `onPostBuild` and `Caching HTML renderer compilation`.\n\nThe cache is the issue. Instead of making the build faster, it makes it crazy slower 😞\n\nLooking at my site's `netlify.toml` I see that I use a deprecated plugin for caching:\n\n```\n[[plugins]]\n  package = \"netlify-plugin-gatsby-cache\" # gatsby fast build\n```\n\nWhich was ironically making my build slow.\n\nI've removed it. I've tried using the \"Essential Gatsby\" plugin but I have the same issue.\n\nAfter these changes, the build time is now 5 minutes. Not 3 as before but still better then 13.\n\n\u003CPicture\n  src={import(\"./builds.png\")}\n  widths={[480, 800]}\n  formats={[\"webp\"]}\n  sizes=\"(max-width: 600px) 480px, 800px\"\n  alt=\"Builds\"\n/>","src/content/fixing-long-netlify-gatsby-builds/index.mdx","c904e4f94717627c","two-styles-of-writing-code",["Map",7,1463],{"id":7,"data":1464,"body":1472,"filePath":1473,"digest":1474,"rendered":1475,"legacyId":64},{"title":1465,"pubDate":1466,"description":1467,"keywords":1468,"twitterImage":1469,"minutesRead":1470,"excerpt":1471},"The two styles of writing code",["Date","2020-09-26T00:00:00.000Z"],"Writing code is like writing prose (The top-down approach) and Compression-oriented programming (The bottom-up approach)",[225],"https://www.raresportan.com/twitter-cards/the-two-styles-of-writing-code.png","14 min read","What is programming fundamentally about? Programming is about transforming data: is the act of\ncreating a sequence of computer instructions ","What is programming fundamentally about? Programming is about transforming data: is the act of\ncreating a sequence of computer instructions describing how to process input data to create\nsome output data.\n\nIt's all about data and transforming the data:\n\n| DATA            | TRANSFORMATION  |\n| --------------- | --------------- |\n| Information     | Procedures      |\n| Types           | Behaviour       |\n| Data structures | Transformations |\n| Collections     | Operations      |\n| Facts           | Processing      |\n| Memory          | CPU             |\n\nProgramming is **NOT** fundamentally about the code. There are alternatives to code. For example, Quartz Composer\nis a famous design tool used by many professionals to create animations, prototypes, and demos. Facebook built\nOrigami Studio on top of it. Scratch is a visual programming environment used to teach kids programming concepts.\n\nYes, code is usually the best tool for the job but its just a tool. Sadly we are not learning this. Teachers,\nbooks, learning materials always focus on code instead of problem-solving and this is pretty bad.\n\nWhen the emphasis is put on the code not on solving the problem, bad things happen, just as when we try to\nsound smart instead of using a simple and clear language. Use the code as just as it is: a tool.\nYou should write simple and straight code that helps solve problems, not code that creates new problems.\n\nThere are two ways to write good code:\n\n- Writing code is like writing prose (The top-down approach)\n- Compression-oriented programming (The bottom-up approach)\n\n## Writing good code is like writing prose\n\n> You might not think that programmers are artists, but programming is an extremely creative profession. It’s logic-based creativity. - John Romero\n\nMost people believe that the best way to create software is the top-down approach.\nTo start at the highest level and drill down to the lowest levels. To create software very much like prose.\nIn some ways, writing software is very much like writing anything else: a blog post, a book, a paper.\nMaybe we are software writers more than software engineers.\n\nAn important difference between prose and code is that once the prose is published, it is done.\nNo so with code, the code is always changing. Also while people read prose for entertainment, people read code so\nthey can modify it. (Truth is, some do it for entertainment also, those who consider horror novels too soft, can read some code for a change.\nThe abominations they can find in some codebases are incomparable to anything else.)\n\nSuccessful prose is at least readable, comprehensible, follows some logic, and maybe is even interesting.\nGood code should be just as easy to read and follow as prose.\n\nThe process of writing prose and code has some unquestionable similarities. They start the same,\nwith a fuzzy idea on the back of a napkin, and some evolve to a finished product.\n\n### The Big Idea\n\nEverything starts with an idea. With an urge, with a wish.\nThe path from idea to the final product is very long and tough. You have to make sure it is worth it.\nIt is much better to abandon a bad idea than to invest your time in a finished bad product.\n\nBut let’s say you have a great idea of a book or for software. (I had the idea of this book, so yes, this is possible.\nAlso, I had an awesome idea of making a code teaching software but Apple beat me to it with Swift Playgrounds)\n\n### Outline\n\nI start writing prose with an outline. Is not perfect, nor is it final, but is a great way for organising my thoughts.\nOnce an outline is in place, the rest of the writing becomes much easier.\n\nAn “outline” is also great for writing software. I like to take some time to think about the functionality I’m adding, what interface it might have,\nwhat data it needs, and what data it returns, how data flows. Sometimes I draw things on paper, sometimes I create a flow chart,\nand sometimes I write an actual outline as comments. Depends on how complex is the problem I’m trying to solve.\n\nThe key is that I take some time to think through what I’m trying to build before I start building it. We, software developers, call this phase “design”.\n\n### Draft\n\nAfter the outline is in place, I try to write everything I have to say to connect my bullet points. I am not worried about\nthe quality just yet. I like to take the same approach with code. Once I have a general idea of what I am trying to build\nI go for it. Most of the time when I start to write something, I don’t know how things will end up. I need the freedom\nto experiment.\n\nWe, developers, call this phase a “spike”. I use TODOs, hardcode things, copy-paste things, I do what I have to do to make\nit work. I’m done, right? Some people stop here. They have working code so they think they are done.\n\n### Proofreading\n\nNo, what I wrote was just a first draft. Now that the code is working is time to focus on clarity.\nWhile when writing I should omit needless words when writing code I need to omit needless abstractions and complications.\n\nAfter my draft is done, I like to go back and read my prose slowly out loud. I strive for my writing to roll off the tongue\nas if I am having a conversation. Often I end up rewriting full sentences and paragraphs.\nSometimes I throw away large portions of text. I cut out filler words that add no value.\n\nI like to do similar things with my code. I find this time ideal for writing tests. I already know how and what I am trying to build,\nyet I still refactor things, making them easier to test. This is a great time to rename variables and function names.\nI imagine myself reading my code for the first time. Can I tell what my code is doing? Take a function, a class, and ask:\nHow can I rewrite it to make it better? More simple and clear? Adding comments to functions or variables sometimes\nhas a weird effect: the comment says something but the function name says something else — so I have to change one of the\ntwo to make them consistent.\n\nThe rule of thumb is this: a good name is better than a good comment, but a good comment is better than nothing.\nNames > Comments > Nothing. We, developers, call this phase “implementation”.\n\n> Vigorous writing is concise. A sentence should contain no unnecessary words, a paragraph no unnecessary sentences, for the same reason that a drawing should have no unnecessary lines and a machine no unnecessary parts. This requires not that the writer make all his sentences short... but that every word tell. - William Strunk Jr.\n\n### Editing\n\nI do my best proofreading after I get some time away from my writing, but, no matter how many times I review my prose,\nI always miss something. My chance of having a better prose increase exponentially with every person that gets to read it.\n\nThe same thing can be said about my code. That is why code reviews so invaluable. Reviewers are always able to find something\nthat I’ve missed or given me a new perspective. Just the thought that I’ll have to show the code to somebody else and\nexplain to them what I was trying to do, makes me refactor and rename things. Some people use a rubber duck as a reviewer\nwith great success.\n\nThis phase is “code refactoring”.\n\n### Fixing errors\n\nMy writing is never perfect. I always welcome feedback, both positive and negative, because it gives me a chance to do better.\n\nThe same is the case with software. While I try hard not to crash the software, I accept that I will make mistakes. In writing, I monitor what people are saying about my work. In code, I monitor what users are saying about my software and audit logs.\nI throw errors when unexpected things happen. We call this phase “bug fixing”.\n\nWriting anything is not hard science, you cannot measure how good your writing is, how successful your book or software will be.\nThere is no list to follow to produce great writing all the time. You have to develop an eye for it. Different people have different approaches to writing code.\n\nWriting a to-do on a sticky note is a very different process from writing “Game of Thrones”. In the same way, writing a “Hello world” will be a very different process from writing “Microsoft Word”. Usually, we end up writing something in between, so more or less, we can follow a single process.\n\nThis approach works when:\n\n- You want to nail down a design\n- You do Test Driven Development\n- You have enough information\n- You have other examples to follow\n- You add a piece to a big piece\n- You don’t need the best solution and you don’t worry about performance\n\nBut this approach doesn’t always work.\n\n## Compression-oriented programming\n\nSome programmers hate the previous approach. Their idea of doing quality software is quite different.\nThey argue that software should be built the other way around, taking a bottom-up approach, sometimes called _compression-oriented programming_.\n\nThere are some valid complaints against the traditional top-down approach, here are the most important and how they can be fixed.\n\n### Not getting the details right.\n\nMost programming methodologies claim to do things abstractly (UML diagrams, class hierarchies, systems of objects, etc.)\nbut they usually fail to achieve the best solutions, because the hard part of code is getting the details right.\n\nStarting when the details don’t exist, inevitably means you forget or miss something that will make your design fail or lead to suboptimal results.\nBut starting with the details and repeatedly _compressing_ the code until you arrive at the eventual design, avoids all the pitfalls of trying to conceive the design ahead of time.\n\n### Wasting time and ending up more confused.\n\nSome object-oriented “methodologies” tell you to start writing things on index cards (like the “class responsibility collaborators” methodology), or using a UML modeler to show how things\n“interact” using boxes and lines that connect them. You can spend hours with these methodologies and end up more confused about the problem than when you started.\n\n### Code is not about objects.\n\nThe fallacy of object-oriented programming is exactly that: code is at all _“object-oriented”_ when it isn’t.\nCode is procedurally oriented, it's about behavior, about functions and the _“objects”_ are simply constructs that arise that allow procedures/functions to be reused.\n\nIf you understand this instead of trying to force everything to work backward, programming becomes immensely more pleasant.\n\n### Unnecessary complex code.\n\nBut if you just forget all those methodologies, and write simple code, you can always create your objects after the fact and you will\nfind that they are exactly what you wanted. If you’re not used to programming like this, you may think this is an exaggeration, but it's the only way for some developers.\n\n## When performance is crucial\n\nFor some (sadly not all) programmers, like game developers, performance is crucial. They need to squeeze performance from every bit of memory and CPU cycle.\nIf they use objects, they load in-memory data that is not needed and thus they have cache misses and reduced performance.\n\nLet’s explain this with a simple example. A game typically has a loop might look like this:\n\n- Game logic updates\n- Rendering\n- Physics updates\n\nEach of the above loop piece iterates over a collection of things. Each piece needs its specific data:\n\n- Game logic needs to iterate over game logic data\n- Rendering needs to iterate over rendering data\n- Physics needs to iterate over physics data.\n\nThere are two ways to implement this:\n\n- Using “Game objects”: Each object has its game logic data, rendering data, and physics data. For example, a “Character” object contains logic data (health, damage, position, etc.), rendering data (sprites, textures, animations, etc.), and physics data. The problem is that when the game logic update runs, all data, for all characters is loaded in the CPU, including unneeded data (rendering data is not used by the game logic.)\n- Using “data collections”: Instead of having “Character” objects, we have a couple of “data collections”: game logic collection, rendering collection, physics data collection. For each game character, we have an entry in each of the collections. Now when the game logic runs, it will iterate only over the game logic data collection, the rest of the collections will not be used. The CPU cache will be loaded only with the needed data.\n\nTaking a top-down approach would have led us to the “Game objects” implementation because — ignoring the details — that is the obvious solution but not the optimal solution.\n\nThe steps of creating the software using compression-oriented programming approach are very different:\n\n## Just code\n\nWrite lots of trashy code. Without any regard to “DRY,” “correctness,” “abstraction” or any other buzzword, begin by just typing out exactly\nwhat needs to happen in each specific case and get that working. Don’t resist it, at the end of the day you need code that runs, so usually it’s best just go write a substantial amount of trashy code.\n\n## Pull out reusable portions of code\n\nWhen you find yourself doing the same thing a second time somewhere else, that is when you should pull out the reusable portion in a function or class, effectively “compressing” the code.\n**Compressing** the code is better as an analogy, because it means something useful, as opposed to the often-used “abstracting,” which doesn’t imply anything useful.\n\nWaiting until there are (at least) two examples of a piece of code means you not only save time thinking about how to reuse it until you need to,\nbut it also means you'll have at least two different real examples of what the code has to do before trying to make it reusable.\n\n## Make your code usable before you try to make it reusable.\n\nIs much much easier to handle duplicate code than twenty wrong _interleaved abstractions_.\nThis is crucial, because if you only have one example, or worse, no examples (in the case of code written preemptively), then you're very likely to make mistakes and end up with code that isn’t conveniently reusable.\nThis leads to even more wasted time once you use it, because either it will be hard to use, or you’ll have to rewrite it to make it work the way you need it to.\n\nSo try hard to not make code “prematurely reusable.”\n\n## Focus first on functionality then focus on architecture\n\nWe need to deliver quality software on time and under budget. Therefore, focus first on features and functionality, then focus on architecture. Get it wrong a few times and iterate on it.\nIt’s quicker to rewrite code instead of refactoring the design.\n\nBusiness logic is code characterized by a never-ending series of edge cases and quick and dirty hacks, sometimes cutting corners\nto save a considerable amount of time is reasonable. Why? A lot of programming is exploratory, and it’s quicker to get it wrong a few times and iterate than to get it right the first time.\n\n## The story of the video game health bar\n\nWhile in a game programming class, two colleagues got the task of implementing (in Java) a “health bar” for the player.\n\n_Developer #1_\nThinks he needs some pixels on the screen. Some green pixels that resemble a rectangle. He’ll just use the `Rectangle` class.\nIt has `x` and `y` for the position, `width` and `height` for size… should be OK.\nCreates some code that puts the rectangle on the screen. Adds a function that animates the resizing of the rectangle.\nTwo hours later he is done.\n\n_Developer #2_\nThinks about what he learned… He needs some classes, to encapsulate things… Spends some time thinking if he needs an Abstract class or an Interface or a Factory.\nHe finally starts doing a `VideoGameHealthBar` class. `VideoGameHealthBar` has methods like `increaseHealthBarPointByOne`.\nSo he creates this nice code structure, verbose and explanatory. But he doesn’t know how to implement them.\n\nA week later he asks the other developer for help.\n\nThe first programmer asks the second _“Why you don’t use a rectangle? Call it RectangleHealthBar or whatever but is just a rectangle: it has an x and y, width and height, a color.”_\nThe second programmer is speechless. He cannot comprehend the simple solution, he is thinking in classes and connection between classes,\nhe simply cannot see the forest for the trees.\n\n_No matter what style you like, top-down or bottom-up is important to write code that solves the problem!_\n\n## Resources\n\n- [Writing Good Code is a lot Like Writing Prose](https://www.alexkras.com/writing-code-is-a-lot-like-writing-prose/)\n- [Semantic compression](https://caseymuratori.com/blog_0015)\n- [What Programming is Never About](https://www.youtube.com/watch?v=Lzc3HcIgXis)","src/content/two-styles-of-writing-code/index.md","e8b54f7a224a50ce",{"html":1476,"metadata":1477},"\u003Cp>What is programming fundamentally about? Programming is about transforming data: is the act of\ncreating a sequence of computer instructions describing how to process input data to create\nsome output data.\u003C/p>\n\u003Cp>It’s all about data and transforming the data:\u003C/p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>DATA\u003C/th>\u003Cth>TRANSFORMATION\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>Information\u003C/td>\u003Ctd>Procedures\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Types\u003C/td>\u003Ctd>Behaviour\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Data structures\u003C/td>\u003Ctd>Transformations\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Collections\u003C/td>\u003Ctd>Operations\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Facts\u003C/td>\u003Ctd>Processing\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Memory\u003C/td>\u003Ctd>CPU\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Cp>Programming is \u003Cstrong>NOT\u003C/strong> fundamentally about the code. There are alternatives to code. For example, Quartz Composer\nis a famous design tool used by many professionals to create animations, prototypes, and demos. Facebook built\nOrigami Studio on top of it. Scratch is a visual programming environment used to teach kids programming concepts.\u003C/p>\n\u003Cp>Yes, code is usually the best tool for the job but its just a tool. Sadly we are not learning this. Teachers,\nbooks, learning materials always focus on code instead of problem-solving and this is pretty bad.\u003C/p>\n\u003Cp>When the emphasis is put on the code not on solving the problem, bad things happen, just as when we try to\nsound smart instead of using a simple and clear language. Use the code as just as it is: a tool.\nYou should write simple and straight code that helps solve problems, not code that creates new problems.\u003C/p>\n\u003Cp>There are two ways to write good code:\u003C/p>\n\u003Cul>\n\u003Cli>Writing code is like writing prose (The top-down approach)\u003C/li>\n\u003Cli>Compression-oriented programming (The bottom-up approach)\u003C/li>\n\u003C/ul>\n\u003Ch2 id=\"writing-good-code-is-like-writing-prose\">Writing good code is like writing prose\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#writing-good-code-is-like-writing-prose\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cblockquote>\n\u003Cp>You might not think that programmers are artists, but programming is an extremely creative profession. It’s logic-based creativity. - John Romero\u003C/p>\n\u003C/blockquote>\n\u003Cp>Most people believe that the best way to create software is the top-down approach.\nTo start at the highest level and drill down to the lowest levels. To create software very much like prose.\nIn some ways, writing software is very much like writing anything else: a blog post, a book, a paper.\nMaybe we are software writers more than software engineers.\u003C/p>\n\u003Cp>An important difference between prose and code is that once the prose is published, it is done.\nNo so with code, the code is always changing. Also while people read prose for entertainment, people read code so\nthey can modify it. (Truth is, some do it for entertainment also, those who consider horror novels too soft, can read some code for a change.\nThe abominations they can find in some codebases are incomparable to anything else.)\u003C/p>\n\u003Cp>Successful prose is at least readable, comprehensible, follows some logic, and maybe is even interesting.\nGood code should be just as easy to read and follow as prose.\u003C/p>\n\u003Cp>The process of writing prose and code has some unquestionable similarities. They start the same,\nwith a fuzzy idea on the back of a napkin, and some evolve to a finished product.\u003C/p>\n\u003Ch3 id=\"the-big-idea\">The Big Idea\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#the-big-idea\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cp>Everything starts with an idea. With an urge, with a wish.\nThe path from idea to the final product is very long and tough. You have to make sure it is worth it.\nIt is much better to abandon a bad idea than to invest your time in a finished bad product.\u003C/p>\n\u003Cp>But let’s say you have a great idea of a book or for software. (I had the idea of this book, so yes, this is possible.\nAlso, I had an awesome idea of making a code teaching software but Apple beat me to it with Swift Playgrounds)\u003C/p>\n\u003Ch3 id=\"outline\">Outline\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#outline\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cp>I start writing prose with an outline. Is not perfect, nor is it final, but is a great way for organising my thoughts.\nOnce an outline is in place, the rest of the writing becomes much easier.\u003C/p>\n\u003Cp>An “outline” is also great for writing software. I like to take some time to think about the functionality I’m adding, what interface it might have,\nwhat data it needs, and what data it returns, how data flows. Sometimes I draw things on paper, sometimes I create a flow chart,\nand sometimes I write an actual outline as comments. Depends on how complex is the problem I’m trying to solve.\u003C/p>\n\u003Cp>The key is that I take some time to think through what I’m trying to build before I start building it. We, software developers, call this phase “design”.\u003C/p>\n\u003Ch3 id=\"draft\">Draft\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#draft\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cp>After the outline is in place, I try to write everything I have to say to connect my bullet points. I am not worried about\nthe quality just yet. I like to take the same approach with code. Once I have a general idea of what I am trying to build\nI go for it. Most of the time when I start to write something, I don’t know how things will end up. I need the freedom\nto experiment.\u003C/p>\n\u003Cp>We, developers, call this phase a “spike”. I use TODOs, hardcode things, copy-paste things, I do what I have to do to make\nit work. I’m done, right? Some people stop here. They have working code so they think they are done.\u003C/p>\n\u003Ch3 id=\"proofreading\">Proofreading\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#proofreading\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cp>No, what I wrote was just a first draft. Now that the code is working is time to focus on clarity.\nWhile when writing I should omit needless words when writing code I need to omit needless abstractions and complications.\u003C/p>\n\u003Cp>After my draft is done, I like to go back and read my prose slowly out loud. I strive for my writing to roll off the tongue\nas if I am having a conversation. Often I end up rewriting full sentences and paragraphs.\nSometimes I throw away large portions of text. I cut out filler words that add no value.\u003C/p>\n\u003Cp>I like to do similar things with my code. I find this time ideal for writing tests. I already know how and what I am trying to build,\nyet I still refactor things, making them easier to test. This is a great time to rename variables and function names.\nI imagine myself reading my code for the first time. Can I tell what my code is doing? Take a function, a class, and ask:\nHow can I rewrite it to make it better? More simple and clear? Adding comments to functions or variables sometimes\nhas a weird effect: the comment says something but the function name says something else — so I have to change one of the\ntwo to make them consistent.\u003C/p>\n\u003Cp>The rule of thumb is this: a good name is better than a good comment, but a good comment is better than nothing.\nNames > Comments > Nothing. We, developers, call this phase “implementation”.\u003C/p>\n\u003Cblockquote>\n\u003Cp>Vigorous writing is concise. A sentence should contain no unnecessary words, a paragraph no unnecessary sentences, for the same reason that a drawing should have no unnecessary lines and a machine no unnecessary parts. This requires not that the writer make all his sentences short… but that every word tell. - William Strunk Jr.\u003C/p>\n\u003C/blockquote>\n\u003Ch3 id=\"editing\">Editing\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#editing\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cp>I do my best proofreading after I get some time away from my writing, but, no matter how many times I review my prose,\nI always miss something. My chance of having a better prose increase exponentially with every person that gets to read it.\u003C/p>\n\u003Cp>The same thing can be said about my code. That is why code reviews so invaluable. Reviewers are always able to find something\nthat I’ve missed or given me a new perspective. Just the thought that I’ll have to show the code to somebody else and\nexplain to them what I was trying to do, makes me refactor and rename things. Some people use a rubber duck as a reviewer\nwith great success.\u003C/p>\n\u003Cp>This phase is “code refactoring”.\u003C/p>\n\u003Ch3 id=\"fixing-errors\">Fixing errors\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#fixing-errors\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cp>My writing is never perfect. I always welcome feedback, both positive and negative, because it gives me a chance to do better.\u003C/p>\n\u003Cp>The same is the case with software. While I try hard not to crash the software, I accept that I will make mistakes. In writing, I monitor what people are saying about my work. In code, I monitor what users are saying about my software and audit logs.\nI throw errors when unexpected things happen. We call this phase “bug fixing”.\u003C/p>\n\u003Cp>Writing anything is not hard science, you cannot measure how good your writing is, how successful your book or software will be.\nThere is no list to follow to produce great writing all the time. You have to develop an eye for it. Different people have different approaches to writing code.\u003C/p>\n\u003Cp>Writing a to-do on a sticky note is a very different process from writing “Game of Thrones”. In the same way, writing a “Hello world” will be a very different process from writing “Microsoft Word”. Usually, we end up writing something in between, so more or less, we can follow a single process.\u003C/p>\n\u003Cp>This approach works when:\u003C/p>\n\u003Cul>\n\u003Cli>You want to nail down a design\u003C/li>\n\u003Cli>You do Test Driven Development\u003C/li>\n\u003Cli>You have enough information\u003C/li>\n\u003Cli>You have other examples to follow\u003C/li>\n\u003Cli>You add a piece to a big piece\u003C/li>\n\u003Cli>You don’t need the best solution and you don’t worry about performance\u003C/li>\n\u003C/ul>\n\u003Cp>But this approach doesn’t always work.\u003C/p>\n\u003Ch2 id=\"compression-oriented-programming\">Compression-oriented programming\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#compression-oriented-programming\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>Some programmers hate the previous approach. Their idea of doing quality software is quite different.\nThey argue that software should be built the other way around, taking a bottom-up approach, sometimes called \u003Cem>compression-oriented programming\u003C/em>.\u003C/p>\n\u003Cp>There are some valid complaints against the traditional top-down approach, here are the most important and how they can be fixed.\u003C/p>\n\u003Ch3 id=\"not-getting-the-details-right\">Not getting the details right.\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#not-getting-the-details-right\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cp>Most programming methodologies claim to do things abstractly (UML diagrams, class hierarchies, systems of objects, etc.)\nbut they usually fail to achieve the best solutions, because the hard part of code is getting the details right.\u003C/p>\n\u003Cp>Starting when the details don’t exist, inevitably means you forget or miss something that will make your design fail or lead to suboptimal results.\nBut starting with the details and repeatedly \u003Cem>compressing\u003C/em> the code until you arrive at the eventual design, avoids all the pitfalls of trying to conceive the design ahead of time.\u003C/p>\n\u003Ch3 id=\"wasting-time-and-ending-up-more-confused\">Wasting time and ending up more confused.\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#wasting-time-and-ending-up-more-confused\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cp>Some object-oriented “methodologies” tell you to start writing things on index cards (like the “class responsibility collaborators” methodology), or using a UML modeler to show how things\n“interact” using boxes and lines that connect them. You can spend hours with these methodologies and end up more confused about the problem than when you started.\u003C/p>\n\u003Ch3 id=\"code-is-not-about-objects\">Code is not about objects.\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#code-is-not-about-objects\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cp>The fallacy of object-oriented programming is exactly that: code is at all \u003Cem>“object-oriented”\u003C/em> when it isn’t.\nCode is procedurally oriented, it’s about behavior, about functions and the \u003Cem>“objects”\u003C/em> are simply constructs that arise that allow procedures/functions to be reused.\u003C/p>\n\u003Cp>If you understand this instead of trying to force everything to work backward, programming becomes immensely more pleasant.\u003C/p>\n\u003Ch3 id=\"unnecessary-complex-code\">Unnecessary complex code.\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#unnecessary-complex-code\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cp>But if you just forget all those methodologies, and write simple code, you can always create your objects after the fact and you will\nfind that they are exactly what you wanted. If you’re not used to programming like this, you may think this is an exaggeration, but it’s the only way for some developers.\u003C/p>\n\u003Ch2 id=\"when-performance-is-crucial\">When performance is crucial\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#when-performance-is-crucial\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>For some (sadly not all) programmers, like game developers, performance is crucial. They need to squeeze performance from every bit of memory and CPU cycle.\nIf they use objects, they load in-memory data that is not needed and thus they have cache misses and reduced performance.\u003C/p>\n\u003Cp>Let’s explain this with a simple example. A game typically has a loop might look like this:\u003C/p>\n\u003Cul>\n\u003Cli>Game logic updates\u003C/li>\n\u003Cli>Rendering\u003C/li>\n\u003Cli>Physics updates\u003C/li>\n\u003C/ul>\n\u003Cp>Each of the above loop piece iterates over a collection of things. Each piece needs its specific data:\u003C/p>\n\u003Cul>\n\u003Cli>Game logic needs to iterate over game logic data\u003C/li>\n\u003Cli>Rendering needs to iterate over rendering data\u003C/li>\n\u003Cli>Physics needs to iterate over physics data.\u003C/li>\n\u003C/ul>\n\u003Cp>There are two ways to implement this:\u003C/p>\n\u003Cul>\n\u003Cli>Using “Game objects”: Each object has its game logic data, rendering data, and physics data. For example, a “Character” object contains logic data (health, damage, position, etc.), rendering data (sprites, textures, animations, etc.), and physics data. The problem is that when the game logic update runs, all data, for all characters is loaded in the CPU, including unneeded data (rendering data is not used by the game logic.)\u003C/li>\n\u003Cli>Using “data collections”: Instead of having “Character” objects, we have a couple of “data collections”: game logic collection, rendering collection, physics data collection. For each game character, we have an entry in each of the collections. Now when the game logic runs, it will iterate only over the game logic data collection, the rest of the collections will not be used. The CPU cache will be loaded only with the needed data.\u003C/li>\n\u003C/ul>\n\u003Cp>Taking a top-down approach would have led us to the “Game objects” implementation because — ignoring the details — that is the obvious solution but not the optimal solution.\u003C/p>\n\u003Cp>The steps of creating the software using compression-oriented programming approach are very different:\u003C/p>\n\u003Ch2 id=\"just-code\">Just code\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#just-code\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>Write lots of trashy code. Without any regard to “DRY,” “correctness,” “abstraction” or any other buzzword, begin by just typing out exactly\nwhat needs to happen in each specific case and get that working. Don’t resist it, at the end of the day you need code that runs, so usually it’s best just go write a substantial amount of trashy code.\u003C/p>\n\u003Ch2 id=\"pull-out-reusable-portions-of-code\">Pull out reusable portions of code\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#pull-out-reusable-portions-of-code\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>When you find yourself doing the same thing a second time somewhere else, that is when you should pull out the reusable portion in a function or class, effectively “compressing” the code.\n\u003Cstrong>Compressing\u003C/strong> the code is better as an analogy, because it means something useful, as opposed to the often-used “abstracting,” which doesn’t imply anything useful.\u003C/p>\n\u003Cp>Waiting until there are (at least) two examples of a piece of code means you not only save time thinking about how to reuse it until you need to,\nbut it also means you’ll have at least two different real examples of what the code has to do before trying to make it reusable.\u003C/p>\n\u003Ch2 id=\"make-your-code-usable-before-you-try-to-make-it-reusable\">Make your code usable before you try to make it reusable.\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#make-your-code-usable-before-you-try-to-make-it-reusable\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>Is much much easier to handle duplicate code than twenty wrong \u003Cem>interleaved abstractions\u003C/em>.\nThis is crucial, because if you only have one example, or worse, no examples (in the case of code written preemptively), then you’re very likely to make mistakes and end up with code that isn’t conveniently reusable.\nThis leads to even more wasted time once you use it, because either it will be hard to use, or you’ll have to rewrite it to make it work the way you need it to.\u003C/p>\n\u003Cp>So try hard to not make code “prematurely reusable.”\u003C/p>\n\u003Ch2 id=\"focus-first-on-functionality-then-focus-on-architecture\">Focus first on functionality then focus on architecture\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#focus-first-on-functionality-then-focus-on-architecture\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>We need to deliver quality software on time and under budget. Therefore, focus first on features and functionality, then focus on architecture. Get it wrong a few times and iterate on it.\nIt’s quicker to rewrite code instead of refactoring the design.\u003C/p>\n\u003Cp>Business logic is code characterized by a never-ending series of edge cases and quick and dirty hacks, sometimes cutting corners\nto save a considerable amount of time is reasonable. Why? A lot of programming is exploratory, and it’s quicker to get it wrong a few times and iterate than to get it right the first time.\u003C/p>\n\u003Ch2 id=\"the-story-of-the-video-game-health-bar\">The story of the video game health bar\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#the-story-of-the-video-game-health-bar\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>While in a game programming class, two colleagues got the task of implementing (in Java) a “health bar” for the player.\u003C/p>\n\u003Cp>\u003Cem>Developer #1\u003C/em>\nThinks he needs some pixels on the screen. Some green pixels that resemble a rectangle. He’ll just use the \u003Ccode>Rectangle\u003C/code> class.\nIt has \u003Ccode>x\u003C/code> and \u003Ccode>y\u003C/code> for the position, \u003Ccode>width\u003C/code> and \u003Ccode>height\u003C/code> for size… should be OK.\nCreates some code that puts the rectangle on the screen. Adds a function that animates the resizing of the rectangle.\nTwo hours later he is done.\u003C/p>\n\u003Cp>\u003Cem>Developer #2\u003C/em>\nThinks about what he learned… He needs some classes, to encapsulate things… Spends some time thinking if he needs an Abstract class or an Interface or a Factory.\nHe finally starts doing a \u003Ccode>VideoGameHealthBar\u003C/code> class. \u003Ccode>VideoGameHealthBar\u003C/code> has methods like \u003Ccode>increaseHealthBarPointByOne\u003C/code>.\nSo he creates this nice code structure, verbose and explanatory. But he doesn’t know how to implement them.\u003C/p>\n\u003Cp>A week later he asks the other developer for help.\u003C/p>\n\u003Cp>The first programmer asks the second \u003Cem>“Why you don’t use a rectangle? Call it RectangleHealthBar or whatever but is just a rectangle: it has an x and y, width and height, a color.”\u003C/em>\nThe second programmer is speechless. He cannot comprehend the simple solution, he is thinking in classes and connection between classes,\nhe simply cannot see the forest for the trees.\u003C/p>\n\u003Cp>\u003Cem>No matter what style you like, top-down or bottom-up is important to write code that solves the problem!\u003C/em>\u003C/p>\n\u003Ch2 id=\"resources\">Resources\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#resources\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cul>\n\u003Cli>\u003Ca href=\"https://www.alexkras.com/writing-code-is-a-lot-like-writing-prose/\">Writing Good Code is a lot Like Writing Prose\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"https://caseymuratori.com/blog_0015\">Semantic compression\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"https://www.youtube.com/watch?v=Lzc3HcIgXis\">What Programming is Never About\u003C/a>\u003C/li>\n\u003C/ul>",{"headings":1478,"imagePaths":1534,"frontmatter":1464},[1479,1482,1485,1488,1491,1494,1497,1500,1503,1506,1509,1512,1515,1518,1521,1524,1527,1530,1533],{"depth":51,"slug":1480,"text":1481},"writing-good-code-is-like-writing-prose","Writing good code is like writing prose",{"depth":88,"slug":1483,"text":1484},"the-big-idea","The Big Idea",{"depth":88,"slug":1486,"text":1487},"outline","Outline",{"depth":88,"slug":1489,"text":1490},"draft","Draft",{"depth":88,"slug":1492,"text":1493},"proofreading","Proofreading",{"depth":88,"slug":1495,"text":1496},"editing","Editing",{"depth":88,"slug":1498,"text":1499},"fixing-errors","Fixing errors",{"depth":51,"slug":1501,"text":1502},"compression-oriented-programming","Compression-oriented programming",{"depth":88,"slug":1504,"text":1505},"not-getting-the-details-right","Not getting the details right.",{"depth":88,"slug":1507,"text":1508},"wasting-time-and-ending-up-more-confused","Wasting time and ending up more confused.",{"depth":88,"slug":1510,"text":1511},"code-is-not-about-objects","Code is not about objects.",{"depth":88,"slug":1513,"text":1514},"unnecessary-complex-code","Unnecessary complex code.",{"depth":51,"slug":1516,"text":1517},"when-performance-is-crucial","When performance is crucial",{"depth":51,"slug":1519,"text":1520},"just-code","Just code",{"depth":51,"slug":1522,"text":1523},"pull-out-reusable-portions-of-code","Pull out reusable portions of code",{"depth":51,"slug":1525,"text":1526},"make-your-code-usable-before-you-try-to-make-it-reusable","Make your code usable before you try to make it reusable.",{"depth":51,"slug":1528,"text":1529},"focus-first-on-functionality-then-focus-on-architecture","Focus first on functionality then focus on architecture",{"depth":51,"slug":1531,"text":1532},"the-story-of-the-video-game-health-bar","The story of the video game health bar",{"depth":51,"slug":98,"text":99},[],"variable-fonts",["Map",7,1537],{"id":7,"data":1538,"body":1544,"filePath":1545,"digest":1546,"legacyId":18,"deferredRender":19},{"title":1539,"pubDate":1540,"description":1541,"keywords":1542},"What are variable fonts and how to use them on the web",["Date","2024-04-12T00:00:00.000Z"],"Variable fonts allow something that was incredibly hard before, magazine level typographic techniques on a web page",[1543],"Fonts","When we build a website, we need some variations of a font: a bold style version for headers, a regular version for body text, italic variation for some small details, a condensed version sometimes, and so on. Usually, for each of these versions, we need to load a separate font file: AwesomeFontBold.woff2, AwesomeFontRegular.woff2, AwesomeFontItalic.woff2 etc.    \n\nA single file can also be used for all variations, in which case the browser will synthesize a missing style, but it produces suboptimal results. If you ever worked with a UX designer, you know they will not be happy. \n\nSo to make the UX happy and make a great website copy we use different font files. But we soon enter a rabbit hole: What if we also need a condensed bold version and an expanded italic version? Do we load two new font files? \n\nThere is a solution to this issue: one font to rule them all, a special type of font that supports any variation we need. A font that can be used from ultra light weight to a strong bold weight. That can be used condensed or expanded. That font is called a *variable font*. A variable font is a font that supports a lot of variations using a single font file. It has all the styles built in a single file. \n\nNote: since the introduction of variable fonts, the non-variable fonts are now called \"static\" or \"standard\" fonts. I'll use this term too.\n\nHere is a quick demo of how variable fonts work:\n\u003Cvideo controls width=\"800\">\n  \u003Csource src=\"/variable-fonts.mp4\" type=\"video/mp4\" />\n\u003C/video>\n\n\n## When to consider variable fonts?\n\nThe downside of the variable font file is that is much bigger than the size of a standard single-style file. You need to do some math and decide if standard fonts are sufficient.\n\nIf you only use bold, regular, and italic versions of a font, this means you load 3 files, assuming a size of 20Kb each, you'll load 60Kb. If the variable font file is 300Kb - 5x the size of the others - it's not worth using the variable font. Use your own judgment based on your needs.\n\nWhen you compare non-variable fonts with variable fonts make sure you compare the same type of fonts, e.g. TTF with TTF, WOFF2 with WOFF2. For websites always use the WOFF2 version of the fonts as it provides the best compression available these days. \n\nIn case you can only find the TTF version of a font (many font makers provide only TTF format) you should convert it to WOFF2. There are different ways to do this but you need to be careful when converting variable fonts as some converters will make the font standard (non-variable.) \n\nTo convert use the following steps:\n1. First, check if a font is variable using a tool like https://wakamaifondue.com/\n\n2. Then, use a converter (like https://everythingfonts.com/ttf-to-woff2) to convert the TTF(or OTF, or WOFF) to WOFF2. Download the converted WOFF2 font.\n\n3. Finally, check again if the converted font is still variable (using https://wakamaifondue.com/)\n\nNote: Another way to optimize the variable fonts (and standard fonts) is by removing the glyphs you don't use. Most of the fonts provide glyphs for a lot of alphabets, like Latin, Cyrillic, Japanese, etc. If your website renders copy using only Latin glyphs, the non-Latin glyphs are loaded for no reason.\nSee [Reduce web font size](https://web.dev/articles/reduce-webfont-size) for more details.\n\nLeaving the file size issue aside, variable fonts allow something that was incredibly hard before, magazine-level typographic techniques. \n(It is typical in a typographic system for a magazine to use 10–15 or more different weight and width combinations throughout the publication) For us developers, this ain't much, but is a godsend feature for UX designers who spend hours setting the perfect size, weight, and width for each piece of copy.\n\n\n## Where we can find variable fonts?\n\n### Google Fonts\n[Google Fonts](https://fonts.google.com/?vfonly=true) has a big selection of variable fonts.\nSadly, the GDPR-safe alternative - [Bunny fonts](https://fonts.bunny.net/) doesn't provide a way to filter for variable fonts.\n\n### Variable fonts\n[Variable fonts](https://v-fonts.com/) is another big collection of variable fonts. There are some fonts free for commercial use, you can filter the fonts by license.\n\n### Abobe Fonts\nYou can find a lot of variable fonts on [Adobe Fonts](https://fonts.adobe.com/fonts?browse_mode=default&cc=true&font_technology=vf&max_styles=26&min_styles=1) too. If you're using the Adobe products this can be useful as most of them have support for variable fonts now.\n\n### Font foundries/makers\nMany font makers are providing both standard and variable versions of the same fonts. Here is a beautiful example of [Hatton font.](https://pangrampangram.com/products/hatton)\n\n\n## Using variable fonts\n\nJust as with standard fonts, @font-face is used with variable fonts. With a few small differences...\n\n```css\n@font-face {\n\tfont-family: 'BDOGrotesk';\n\tsrc: url('/fonts/BDOGrotesk-VF.woff2') format('woff2-variation');\n\tfont-weight: 300 900;\n\tfont-display: swap;\n}\n```\nThe above example used the BDOGrotesk variable font. The format is not \"woff2\" but \"woff2-variation\" and also the `font-weight` is not a single value but a range.\n\n### Variable font axes \nThe things that are variable in the font are called \"axes\". There can be registered axes and custom axes. Registered axes are common enough that they were standardized.\n\nRegistered axes' names are spelled lowercase while the custom axes' names are spelled uppercase. For registered axes there are CSS properties, for custom, there are not - so changing the custom axis values is a bit more complicated...  \n\nNote: **Not all fonts have all the axes.** A font is variable if it has at least one axis! Most fonts have only one or two axes, some have a lot more axes -- for example, [Roboto Flex](https://v-fonts.com/fonts/roboto-flex) has 13 axes!\nYou can use a tool like https://wakamaifondue.com/ to check what axes are available for a particular font.\n\nRegistered/Standardized axes:\n1. **weight (wght) / font-weight**: sets the weight (or boldness) of the font.\n2. **width (wdth) / font-stretch**: sets how narrow or wide (condensed or extended, in typographic terms) the letterforms can be.\n3. **slant (slnt) / font-style: oblique**: sets the angle of the letterforms but doesn't perform any kind of character substitution.\n4. **italic (ital) / font-style: italic**: ital axis can be set in the range [0-1], where 0 specifies \"not italic,\" 0.5 specifies \"halfway italic,\" and 1 specifies \"fully italic.\"\n5. **optical size (opsz) / font-optical-sizing**: sets the overall stroke thickness of letterforms. \n\n### font-variation-settings\n\nThere are no CSS properties for custom axes, but there is a special new property that can be used to set values for custom axes: \"font-variation-settings\"\n\n```css\nfont-variation-settings: 'CONT' 100, 'MIDL' -200;\n```\n\nYou can use \"font-variation-settings\" to set registered axes too. For example, for the weight axis, we can use the \"wght\" setting:\n\n```css\nfont-variation-settings: 'wght' 100;\n```\n\nTip: In case you set both font-weight and font-variation-settings 'wght', the wght value always wins! font-variation-settings always win!\n\n```css\nh1 {\t\n\tfont-variation-settings: 'wght' 800; \n\tfont-weight: 600;\n}\n```\n\nIt's a common practice to use font families with variable axis settings. Using CSS Variables we can overwrite each axis if needed:\n```css\n:root {\n\t--font-weight-regular: \"wght\" 400;\n\t--font-weight-medium: \"wght\" 500;\n\t--font-weight-bold: \"wght\" 700;\n\n\t--font-size-small: \"opsz\" 16;\n\t--font-size-medium: \"opsz\" 20;\n}\n\n@font-face {\n\tfont-family: 'BDOGrotesk';\n\tsrc: url('/fonts/BDOGrotesk-VF.woff2') format('woff2-variation');\n\tfont-display: swap;\n}\n\nh1 {\n\tfont-family: 'BDOGrotesk';\n\tfont-variation-settings: var(--font-weight-bold) var(--font-size-medium); \n}\n\n/* wght axes will change, but opsz with stay the same */\nh1.secondary {\n\t--font-weight-bold: \"wght\" 800;\n}\n```\n\n\n\nfont-variation-settings allows greater control over the values, for example for optical size `font-optical-sizing` allows only auto/none while opsz allows a numeric value from a range.\n\n\n\n## Fallbacks\nBrowser support for variable fonts is excellent, but as a precaution, you can use static fonts as a fallback using the `@supports` at-rule. \n\n```css\n@font-face {\n\tfont-family: 'BDOGrotesk';\n\tsrc: url('/fonts/BDOGrotesk-VF.woff2') format('woff2-variation');\n\tfont-weight: 300 900;\n\tfont-display: swap;\n}\n\n@font-face {\n\tfont-family: 'BDOGrotesk-Static';\n\tsrc: url('/fonts/BDOGrotesk.woff2') format('woff2');\t\n\tfont-display: swap;\n}\n\nh1 {\n\tfont-family: 'BDOGrotesk-Static'; /* standard font version */\n}\n\n@supports (font-variation-settings: \"wght\" 415) {\n  h1 {\n\t font-family: 'BDOGrotesk'; /* variable font version */\n\t font-variation-settings: 'wght' 415;\n  }\n}\n```\n\n\n## Resources\n\n- [Wakamai Fondue](https://wakamaifondue.com/)\n- [Variable fonts guide](https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_fonts/Variable_fonts_guide.)\n- [Reduce web font size](https://web.dev/articles/reduce-webfont-size)\n- [Optimize WebFont loading and rendering](https://web.dev/articles/optimize-webfont-loading)\n- [Font subset tool](https://www.lddgo.net/en/convert/font-subset)\n- [Glyphhanger — a tool to subset and optimize fonts](https://www.stefanjudis.com/notes/glyphhanger-a-tool-subset-and-optimize-fonts/)","src/content/variable-fonts/index.mdx","3edce6b8eba39bcd","what-makes-good-code-good",["Map",7,1549],{"id":7,"data":1550,"body":1557,"filePath":1558,"digest":1559,"rendered":1560,"legacyId":64},{"title":1551,"pubDate":1552,"description":1553,"keywords":1554,"twitterImage":1555,"minutesRead":655,"excerpt":1556},"What makes good code good",["Date","2020-06-12T00:00:00.000Z"],"What is good code? Ask ten people and you’ll get ten different answers. Read ten books and you’ll find ten different answers. Different people, different experience, different problems, different contexts, different answers.",[225],"https://www.raresportan.com/twitter-cards/what-makes-good-code-good.png","There are things that make or break software, like good User Experience Design, marketing that should\ncome up with the right features for th","There are things that make or break software, like good User Experience Design, marketing that should\ncome up with the right features for the right app, or management that should pick up the right people for\nthe right job.\n\nThose things might be out of your control. What you can control is the other important part:\ndesigning and writing the code.\n\nSo the question is: What is good code? What should you look for?\nAsk ten people and you’ll get ten different answers. Read ten books and you’ll find ten different answers.\nDifferent people, different experiences, different problems, different contexts, different answers.\nTruth is there is no good answer. Context matters, timeframe matters, money matters.\n\n## How can we describe good code\n\nBut no matter the situation or context, good code has a few evergreen qualities:\n\n### Simple\n\nThe code is simple to understand, simple to modify, untangled, decoupled, obvious. This means the code is not\ncomplex, not tangled, not coupled, not spaghetti.\n\nSimple code doesn’t cause side effects outside of its scope\nand cannot be influenced by outside scopes. A classic example: if the code receives a mutable object as input,\nit will not change the object causing outside side effects, and any change to the object will not change\nthe state of the code.\n\nBut beware, simple does not necessarily mean _easy or familiar._\n\n### Clear\n\nClarity of code means clarity of purpose. The code must tell what it’s doing at every level.\nThere should be no obfuscations, no hidden things, no mess. It's clear in which state it is.\nIt's clear if something is wrong. It's clear if it can’t complete its task or if it is waiting for something.\nEverything happens for a reason, and the reason should be clear.\n\nThis is maybe the hardest thing to get right. Thousands of small or big decisions are taken in the lifetime of\na codebase. And those decisions are lost. The whys are lost.\n\n### Reliable\n\nWorks in the same way no matter the conditions or context. It is hard to be used in incorrect ways,\nhard to break. When incorrect input is used, the software clearly indicates why the input is wrong and what\nto use instead. It doesn’t return references to the inner state.\n\nThis is the edge functional languages have over the object-oriented ones. Coding with immutable data is\nthe most efficient way to create reliable code.\n\n### Efficient\n\nIt is designed to be as fast as possible. It is designed to consume as little memory as possible.\nEverybody heard that _“premature optimization is the root of all evil”._ This quote was perverted in all\npossible ways as an excuse for slow and inefficient software. Just remember this: At the function level,\nyou can always optimize later. But at higher design levels, you must plan for performance.\n\nYou must think not only about the data flow but also about the flow rate.\nIf the design is bad, expect a laggy app.\n\n### Composable\n\nIt means your code is built like everything else around you. Look around, you can always find a hierarchy,\nsmaller things are combined to create greater things. By understanding the hierarchical structure of things,\nyou can understand the roles each component plays and how they fit into the larger picture.\n\nGood code creates big systems from smaller ones, which are built from even smaller components.\n\n## Balance, compromise, and trade-offs\n\nUsually, some of these qualities are at odds with others.\n\nThe clearest code might not be the fastest one. Most reliable code might not be the simplest.\nYou need to find the right balance between them, depending on context and the problem you try to solve.\nFirst aim to make the code clear and simple.\nThen modify it to make it more reliable and efficient, giving up on some of the clarity and simplicity.\n\n> Easy to use almost mandates garbage collection, but that collides with ‘fast’ and ‘simple to implement’.\n> Removing pointers makes the language safer, but at a steep loss of generality.\n> Trying to make pointers safe with a ton of language rules makes the language hard to use.\n> I could go on. - [Bert Hubert](https://berthub.eu/articles/posts/cpp-rust-go/)\n\n## Why don’t people code like that?\n\nThis question has always intrigued me. Everybody likes to brag with their skills and knowledge and the awesome\nlanguages or tools they use. But somehow they make poor code. The answer is simple: it is easy to write bad code\nand quite hard to write good code.\n\nAt some point, somebody made these observations about code implementations:\n\n| CODE                          | IMPLEMENTATION           |\n| ----------------------------- | ------------------------ |\n| Appears to work               | Easy                     |\n| Correct                       | Far more difficult       |\n| Can be understood by others   | Very difficult           |\n| Can be modified in the future | Very very difficult      |\n| Efficient                     | Very very very difficult |\n\nMost of the code is at the “appears to work” level. Some of it is “correct” and “can be understood by others.”\nAlmost none “can be modified in the future” with the confidence that changes will not break something.\nThis happens because people stop iterating on the code too soon. They think they are done when they are not.\n\nEverything, code and design, must be an iterative process.\n**Software is never written, is always rewritten.**\n\n> What you can do as a programmer, though, is get through the assignments doing something that\n> works, and then look back at it and see how you could have made it better or faster or more concise. This\n> is one thing that seriously differentiates programmers from excellent programmers. - [Brian “Beej” Hall](https://beej.us/guide/bgc/pdf/bgc_A4.pdf)\n\n## Simple vs. easy\n\nWhile most of the qualities of good code are obvious, one is not.\nPeople often don’t understand what simple code means. Many people think simple means easy.\nThis is not true. Simple means something that works with one thing at a time or does one thing at a time.\n\n| SIMPLE CODE                | EASY CODE                     |\n| -------------------------- | ----------------------------- |\n| One purpose                | Many purposes                 |\n| Values                     | Objects                       |\n| Data                       | Classes                       |\n| Map/Reduce/Filter          | Imperative loops              |\n| Pure function              | Method mutating state         |\n| Function that does a thing | Add an “if” in a function     |\n| Object using object        | Class extending class         |\n| Consistency                | Inconsistency                 |\n| Implement yourself         | Download it from the Internet |\n\nSee [Rich Hickey's illuminating presentation](https://www.infoq.com/presentations/Simple-Made-Easy/).\n\n## Trade-offs of doing simple code\n\n| SIMPLE CODE vs. EASY CODE                                 |\n| --------------------------------------------------------- |\n| Development starts slow vs. fast                          |\n| Development speed grows to a level vs. slows down forever |\n| Development speed remains constant vs. is near zero       |\n\nSimple code implies a slow start. Doing easy code, you get fast initial development time but it slows\ndown constantly. At some point, after you have enough code, the development speed is near zero.\nFor simple code, you get slow initial development time but it grows and remains at a constant level.\nSimple code requires more effort and discipline.\nYou have to think more, you have to resist the easy way.\n\nSimple code is underrated and unappreciated. Usually, nobody notices it, but when they notice it they are\nnot happy about it:\n\n- Developers don’t notice it because it doesn’t get in their way.\n- Teachers don’t like it because they think it is too mundane and below their level of intelligence.\n- Consultants and methodologists don’t like it because they can’t ask a ton of money for something simple.\n- Managers don’t like it because they think you waste too much time on trivial things. “What? You spent days thinking about this simple and obvious code? A novice would have done it in 5 minutes”\n\nStill, _there is nothing more sophisticated than simple code._\n\n## The parable of two programmers\n\nA while ago, two companies, the Automated Co. and the Consolidated Co. decided that they\nneed the same program. Here is how they handled the problem.\n\n### Day 1\n\nAutomated hires a very expensive consultant, Alan, to solve their problem.\n\nConsolidated decides to let one of their bright programmers, Charles, to do the job.\n\n### Day 10\n\nAt Automated, Alan, with a long experience in difficult programming projects, decides to use a well-established\ndesign methodology. He asks for three more programmers. The team goes to work, making preliminary analyses,\nUML diagrams, meetings, Excel spreadsheets.\n\nAt Consolidated, Charles spends time thinking about the problem.\nHe often sits with his feet on the desk, scribbling on paper and drinking coffee.\n\n### Day 30\n\nAt Automated, the team is starting to write code. The programmers are spending about half their time\nwriting and building code, and the rest of their time in the conference, discussing the interfaces between\nthe various modules. _They finally release an implementation schedule._\nIn two months they will have a test version of the program.\nIn four months they will have the gold version.\n\nMeanwhile, at Consolidated, Charles is busy coding.\n\n### Day 90\n\nAt Automated, the team has completed two of the four major modules required for their program.\nThese modules are now under testing while the other modules are finished.\nWhen tested it seems to satisfy most of the original specifications.\nIt has omitted one or two features and is very fussy about the format of its input data.\nHowever, the company decides to go with the program.\nThey can always train their data-entry staff to enter data in the strict format required.\nThe program is handed over to some maintenance programmers to eventually incorporate the missing features.\n\nCharles completes the project at Consolidated.\nWhen tested, the program does everything required in the specifications. Except for some quickly corrected oversights, it performs well.\nIt even has a few additional convenience features which might significantly improve the usability of the program.\n\n### Aftermath\n\nAlan was complimented for completing his project on schedule.\nHis manager at Automated looked over the program. He saw that the company standards were present.\n_He quickly gave up attempting to read the program however; it seemed quite incomprehensible._\nHe was convinced the project was really much more complex than he had originally assumed.\nAlan was given a hefty pay raise and promoted as a reward for his achievement.\n\nAt first Charles’ manager at Consolidated was impressed. But as he read through the source code,\n_seeing how simple it was, he was convinced that the project was really much simpler than he had originally thought._\nIt seemed that this was not much of a challenge.\nAt his next salary review, Charles was given a small raise. He was not given a promotion.\nAfter about a year he left the company.\n\n(An adaptation of [The Parable of the Two Programmers](http://www.bruceblinn.com/parable.html))\n\n## Who are you?\n\nAlan, who writes code that only he understands, but thus securing his job.\nOr Charles, who writes simple code, but is not appreciated because of this.\nI'll always be a Charles. Maybe just because the world is full of Alans.","src/content/what-makes-good-code-good/index.md","2b6ac5df3487da15",{"html":1561,"metadata":1562},"\u003Cp>There are things that make or break software, like good User Experience Design, marketing that should\ncome up with the right features for the right app, or management that should pick up the right people for\nthe right job.\u003C/p>\n\u003Cp>Those things might be out of your control. What you can control is the other important part:\ndesigning and writing the code.\u003C/p>\n\u003Cp>So the question is: What is good code? What should you look for?\nAsk ten people and you’ll get ten different answers. Read ten books and you’ll find ten different answers.\nDifferent people, different experiences, different problems, different contexts, different answers.\nTruth is there is no good answer. Context matters, timeframe matters, money matters.\u003C/p>\n\u003Ch2 id=\"how-can-we-describe-good-code\">How can we describe good code\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#how-can-we-describe-good-code\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>But no matter the situation or context, good code has a few evergreen qualities:\u003C/p>\n\u003Ch3 id=\"simple\">Simple\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#simple\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cp>The code is simple to understand, simple to modify, untangled, decoupled, obvious. This means the code is not\ncomplex, not tangled, not coupled, not spaghetti.\u003C/p>\n\u003Cp>Simple code doesn’t cause side effects outside of its scope\nand cannot be influenced by outside scopes. A classic example: if the code receives a mutable object as input,\nit will not change the object causing outside side effects, and any change to the object will not change\nthe state of the code.\u003C/p>\n\u003Cp>But beware, simple does not necessarily mean \u003Cem>easy or familiar.\u003C/em>\u003C/p>\n\u003Ch3 id=\"clear\">Clear\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#clear\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cp>Clarity of code means clarity of purpose. The code must tell what it’s doing at every level.\nThere should be no obfuscations, no hidden things, no mess. It’s clear in which state it is.\nIt’s clear if something is wrong. It’s clear if it can’t complete its task or if it is waiting for something.\nEverything happens for a reason, and the reason should be clear.\u003C/p>\n\u003Cp>This is maybe the hardest thing to get right. Thousands of small or big decisions are taken in the lifetime of\na codebase. And those decisions are lost. The whys are lost.\u003C/p>\n\u003Ch3 id=\"reliable\">Reliable\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#reliable\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cp>Works in the same way no matter the conditions or context. It is hard to be used in incorrect ways,\nhard to break. When incorrect input is used, the software clearly indicates why the input is wrong and what\nto use instead. It doesn’t return references to the inner state.\u003C/p>\n\u003Cp>This is the edge functional languages have over the object-oriented ones. Coding with immutable data is\nthe most efficient way to create reliable code.\u003C/p>\n\u003Ch3 id=\"efficient\">Efficient\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#efficient\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cp>It is designed to be as fast as possible. It is designed to consume as little memory as possible.\nEverybody heard that \u003Cem>“premature optimization is the root of all evil”.\u003C/em> This quote was perverted in all\npossible ways as an excuse for slow and inefficient software. Just remember this: At the function level,\nyou can always optimize later. But at higher design levels, you must plan for performance.\u003C/p>\n\u003Cp>You must think not only about the data flow but also about the flow rate.\nIf the design is bad, expect a laggy app.\u003C/p>\n\u003Ch3 id=\"composable\">Composable\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#composable\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cp>It means your code is built like everything else around you. Look around, you can always find a hierarchy,\nsmaller things are combined to create greater things. By understanding the hierarchical structure of things,\nyou can understand the roles each component plays and how they fit into the larger picture.\u003C/p>\n\u003Cp>Good code creates big systems from smaller ones, which are built from even smaller components.\u003C/p>\n\u003Ch2 id=\"balance-compromise-and-trade-offs\">Balance, compromise, and trade-offs\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#balance-compromise-and-trade-offs\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>Usually, some of these qualities are at odds with others.\u003C/p>\n\u003Cp>The clearest code might not be the fastest one. Most reliable code might not be the simplest.\nYou need to find the right balance between them, depending on context and the problem you try to solve.\nFirst aim to make the code clear and simple.\nThen modify it to make it more reliable and efficient, giving up on some of the clarity and simplicity.\u003C/p>\n\u003Cblockquote>\n\u003Cp>Easy to use almost mandates garbage collection, but that collides with ‘fast’ and ‘simple to implement’.\nRemoving pointers makes the language safer, but at a steep loss of generality.\nTrying to make pointers safe with a ton of language rules makes the language hard to use.\nI could go on. - \u003Ca href=\"https://berthub.eu/articles/posts/cpp-rust-go/\">Bert Hubert\u003C/a>\u003C/p>\n\u003C/blockquote>\n\u003Ch2 id=\"why-dont-people-code-like-that\">Why don’t people code like that?\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#why-dont-people-code-like-that\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>This question has always intrigued me. Everybody likes to brag with their skills and knowledge and the awesome\nlanguages or tools they use. But somehow they make poor code. The answer is simple: it is easy to write bad code\nand quite hard to write good code.\u003C/p>\n\u003Cp>At some point, somebody made these observations about code implementations:\u003C/p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>CODE\u003C/th>\u003Cth>IMPLEMENTATION\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>Appears to work\u003C/td>\u003Ctd>Easy\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Correct\u003C/td>\u003Ctd>Far more difficult\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Can be understood by others\u003C/td>\u003Ctd>Very difficult\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Can be modified in the future\u003C/td>\u003Ctd>Very very difficult\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Efficient\u003C/td>\u003Ctd>Very very very difficult\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Cp>Most of the code is at the “appears to work” level. Some of it is “correct” and “can be understood by others.”\nAlmost none “can be modified in the future” with the confidence that changes will not break something.\nThis happens because people stop iterating on the code too soon. They think they are done when they are not.\u003C/p>\n\u003Cp>Everything, code and design, must be an iterative process.\n\u003Cstrong>Software is never written, is always rewritten.\u003C/strong>\u003C/p>\n\u003Cblockquote>\n\u003Cp>What you can do as a programmer, though, is get through the assignments doing something that\nworks, and then look back at it and see how you could have made it better or faster or more concise. This\nis one thing that seriously differentiates programmers from excellent programmers. - \u003Ca href=\"https://beej.us/guide/bgc/pdf/bgc_A4.pdf\">Brian “Beej” Hall\u003C/a>\u003C/p>\n\u003C/blockquote>\n\u003Ch2 id=\"simple-vs-easy\">Simple vs. easy\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#simple-vs-easy\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>While most of the qualities of good code are obvious, one is not.\nPeople often don’t understand what simple code means. Many people think simple means easy.\nThis is not true. Simple means something that works with one thing at a time or does one thing at a time.\u003C/p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>SIMPLE CODE\u003C/th>\u003Cth>EASY CODE\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>One purpose\u003C/td>\u003Ctd>Many purposes\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Values\u003C/td>\u003Ctd>Objects\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Data\u003C/td>\u003Ctd>Classes\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Map/Reduce/Filter\u003C/td>\u003Ctd>Imperative loops\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Pure function\u003C/td>\u003Ctd>Method mutating state\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Function that does a thing\u003C/td>\u003Ctd>Add an “if” in a function\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Object using object\u003C/td>\u003Ctd>Class extending class\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Consistency\u003C/td>\u003Ctd>Inconsistency\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Implement yourself\u003C/td>\u003Ctd>Download it from the Internet\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Cp>See \u003Ca href=\"https://www.infoq.com/presentations/Simple-Made-Easy/\">Rich Hickey’s illuminating presentation\u003C/a>.\u003C/p>\n\u003Ch2 id=\"trade-offs-of-doing-simple-code\">Trade-offs of doing simple code\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#trade-offs-of-doing-simple-code\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>SIMPLE CODE vs. EASY CODE\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>Development starts slow vs. fast\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Development speed grows to a level vs. slows down forever\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>Development speed remains constant vs. is near zero\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Cp>Simple code implies a slow start. Doing easy code, you get fast initial development time but it slows\ndown constantly. At some point, after you have enough code, the development speed is near zero.\nFor simple code, you get slow initial development time but it grows and remains at a constant level.\nSimple code requires more effort and discipline.\nYou have to think more, you have to resist the easy way.\u003C/p>\n\u003Cp>Simple code is underrated and unappreciated. Usually, nobody notices it, but when they notice it they are\nnot happy about it:\u003C/p>\n\u003Cul>\n\u003Cli>Developers don’t notice it because it doesn’t get in their way.\u003C/li>\n\u003Cli>Teachers don’t like it because they think it is too mundane and below their level of intelligence.\u003C/li>\n\u003Cli>Consultants and methodologists don’t like it because they can’t ask a ton of money for something simple.\u003C/li>\n\u003Cli>Managers don’t like it because they think you waste too much time on trivial things. “What? You spent days thinking about this simple and obvious code? A novice would have done it in 5 minutes”\u003C/li>\n\u003C/ul>\n\u003Cp>Still, \u003Cem>there is nothing more sophisticated than simple code.\u003C/em>\u003C/p>\n\u003Ch2 id=\"the-parable-of-two-programmers\">The parable of two programmers\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#the-parable-of-two-programmers\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>A while ago, two companies, the Automated Co. and the Consolidated Co. decided that they\nneed the same program. Here is how they handled the problem.\u003C/p>\n\u003Ch3 id=\"day-1\">Day 1\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#day-1\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cp>Automated hires a very expensive consultant, Alan, to solve their problem.\u003C/p>\n\u003Cp>Consolidated decides to let one of their bright programmers, Charles, to do the job.\u003C/p>\n\u003Ch3 id=\"day-10\">Day 10\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#day-10\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cp>At Automated, Alan, with a long experience in difficult programming projects, decides to use a well-established\ndesign methodology. He asks for three more programmers. The team goes to work, making preliminary analyses,\nUML diagrams, meetings, Excel spreadsheets.\u003C/p>\n\u003Cp>At Consolidated, Charles spends time thinking about the problem.\nHe often sits with his feet on the desk, scribbling on paper and drinking coffee.\u003C/p>\n\u003Ch3 id=\"day-30\">Day 30\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#day-30\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cp>At Automated, the team is starting to write code. The programmers are spending about half their time\nwriting and building code, and the rest of their time in the conference, discussing the interfaces between\nthe various modules. \u003Cem>They finally release an implementation schedule.\u003C/em>\nIn two months they will have a test version of the program.\nIn four months they will have the gold version.\u003C/p>\n\u003Cp>Meanwhile, at Consolidated, Charles is busy coding.\u003C/p>\n\u003Ch3 id=\"day-90\">Day 90\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#day-90\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cp>At Automated, the team has completed two of the four major modules required for their program.\nThese modules are now under testing while the other modules are finished.\nWhen tested it seems to satisfy most of the original specifications.\nIt has omitted one or two features and is very fussy about the format of its input data.\nHowever, the company decides to go with the program.\nThey can always train their data-entry staff to enter data in the strict format required.\nThe program is handed over to some maintenance programmers to eventually incorporate the missing features.\u003C/p>\n\u003Cp>Charles completes the project at Consolidated.\nWhen tested, the program does everything required in the specifications. Except for some quickly corrected oversights, it performs well.\nIt even has a few additional convenience features which might significantly improve the usability of the program.\u003C/p>\n\u003Ch3 id=\"aftermath\">Aftermath\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#aftermath\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h3>\n\u003Cp>Alan was complimented for completing his project on schedule.\nHis manager at Automated looked over the program. He saw that the company standards were present.\n\u003Cem>He quickly gave up attempting to read the program however; it seemed quite incomprehensible.\u003C/em>\nHe was convinced the project was really much more complex than he had originally assumed.\nAlan was given a hefty pay raise and promoted as a reward for his achievement.\u003C/p>\n\u003Cp>At first Charles’ manager at Consolidated was impressed. But as he read through the source code,\n\u003Cem>seeing how simple it was, he was convinced that the project was really much simpler than he had originally thought.\u003C/em>\nIt seemed that this was not much of a challenge.\nAt his next salary review, Charles was given a small raise. He was not given a promotion.\nAfter about a year he left the company.\u003C/p>\n\u003Cp>(An adaptation of \u003Ca href=\"http://www.bruceblinn.com/parable.html\">The Parable of the Two Programmers\u003C/a>)\u003C/p>\n\u003Ch2 id=\"who-are-you\">Who are you?\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#who-are-you\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>Alan, who writes code that only he understands, but thus securing his job.\nOr Charles, who writes simple code, but is not appreciated because of this.\nI’ll always be a Charles. Maybe just because the world is full of Alans.\u003C/p>",{"headings":1563,"imagePaths":1615,"frontmatter":1550},[1564,1567,1570,1573,1576,1579,1582,1585,1588,1591,1594,1597,1600,1603,1606,1609,1612],{"depth":51,"slug":1565,"text":1566},"how-can-we-describe-good-code","How can we describe good code",{"depth":88,"slug":1568,"text":1569},"simple","Simple",{"depth":88,"slug":1571,"text":1572},"clear","Clear",{"depth":88,"slug":1574,"text":1575},"reliable","Reliable",{"depth":88,"slug":1577,"text":1578},"efficient","Efficient",{"depth":88,"slug":1580,"text":1581},"composable","Composable",{"depth":51,"slug":1583,"text":1584},"balance-compromise-and-trade-offs","Balance, compromise, and trade-offs",{"depth":51,"slug":1586,"text":1587},"why-dont-people-code-like-that","Why don’t people code like that?",{"depth":51,"slug":1589,"text":1590},"simple-vs-easy","Simple vs. easy",{"depth":51,"slug":1592,"text":1593},"trade-offs-of-doing-simple-code","Trade-offs of doing simple code",{"depth":51,"slug":1595,"text":1596},"the-parable-of-two-programmers","The parable of two programmers",{"depth":88,"slug":1598,"text":1599},"day-1","Day 1",{"depth":88,"slug":1601,"text":1602},"day-10","Day 10",{"depth":88,"slug":1604,"text":1605},"day-30","Day 30",{"depth":88,"slug":1607,"text":1608},"day-90","Day 90",{"depth":88,"slug":1610,"text":1611},"aftermath","Aftermath",{"depth":51,"slug":1613,"text":1614},"who-are-you","Who are you?",[],"what-is-an-application-programming-interface",["Map",7,1618],{"id":7,"data":1619,"body":1629,"filePath":1630,"digest":1631,"rendered":1632,"legacyId":64},{"title":1620,"pubDate":1621,"description":1622,"keywords":1623,"twitterImage":1627,"minutesRead":227,"excerpt":1628},"What is an application programming interface?",["Date","2020-06-19T00:00:00.000Z"],"API is an acronym for Application Programming Interface. It is a technical term that all programmers should know",[1624,1625,1626],"API","JAMstack","programming","https://www.raresportan.com/twitter-cards/what-is-an-application-programming-interface.png","Lots of people have a rather vague or incorrect idea about what an API is.\nSome even think it is a kind of beer because it sounds like India","Lots of people have a rather vague or incorrect idea about what an API is.\nSome even think it is a kind of beer because it sounds like India Pale Ale (IPA). No, API is an acronym for\nApplication Programming Interface. It is a technical term that all programmers should know.\n\nLet's look first at how Wikipedia defines it:\n\n> An application programming interface (API) is a computing interface which defines interactions between\n> multiple software intermediaries. It defines the kinds of calls or requests that can be made,\n> how to make them, the data formats that should be used, the conventions to follow, etc. - [Wikipedia](https://en.wikipedia.org/wiki/Application_programming_interface)\n\nThat sounds rather complicated. An API is just the public part of a codebase, the part that is intended to be used by someone else.\n\nThe most eloquent metaphor I can think of is an iceberg. It has a small tip, above the water, that you can see.\nBut the bulk of it is underwater. In the same way, the API is the code you can use, which is just a small part\nof the entire codebase.\n\nSo you might ask why we need to care about the API? Why we can't just use the entire codebase as we please.\nGlad you asked, there are a lot of reasons for this. Let's see some API examples and the reasons for them.\n\n## Service API\n\nThere is a good chance you've heard about APIs when you tried to use an online service from your code or from a tool you use.\nFor example, right now I'm using GitHub APIs to push my code in the repo.\nThese service APIs are available online through some URLs.\n\nYou need to know what the URLs, what data it needs, and what data it sends back, you don't know and you don't\ncare how the API is implemented, in what programming languages, or how it works internally.\n\nA simple example, is the API offered by [Open Notify](http://open-notify.org/) that provides some of NASA’s awesome data.\nTo find how many people are now in space you can call the API in the following way:\n\n```js\nasync function getSpacePeople() {\n  const data = await fetch(\"http://api.open-notify.org/astros.json\").then(\n    (response) => response.json()\n  );\n\n  const people = data.people;\n  const result = people.map((x) => x.name + \" aboard \" + x.craft);\n  console.log(\"Who is space right now?\");\n  console.log(\"\\n\", result.join(\"\\n \"));\n}\n\ntry {\n  getSpacePeople();\n} catch (err) {\n  console.log(err);\n}\n```\n\nWhy a service API?\n\n- it's an easy to use way to access the service, you don't need to know all the codebase\n- it hides the implementation details of the service\n- it doesn't matter what programming language was used to implement it, and that can change anytime without impacting service users\n- it needs and returns data in a language-independent format like JSON, XML, text, etc.\n- the way the API data is rendered doesn't matter, is common these days that a web site and a mobile app use the same API\n\nJAMstack is a way of thinking about web sites and web apps that implies simpler developer experience,\nbetter performance, lower cost, and greater scalability. JAM stands for JavaScript, API & Markup.\nSo an important part of the JAMstack is the Application Programming Interface.\nStatic pages are deployed on fast CDNs (Content Delivery Networks) all over the globe and use JavaScript to retrieve data from APIs.\n\n## Framework or Library API\n\nBut an API doesn't mean only online services, all the frameworks or libraries you use and love provide an API,\nit's through that API you use the framework/library.\n\nFor example React library provides a `React` API and through it you can create DOM elements.\nEven if you don't use this API directly because you use JSX, behind the scenes, this API is used.\n\n```js\nreturn React.createElement(\n  \"div\",\n  { className: \"shopping-list\" },\n  React.createElement(\"h1\" /* ... h1 children ... */),\n  React.createElement(\"ul\" /* ... ul children ... */)\n);\n```\n\nWhy a library API?\n\n- it hides the implementation details of the library\n- having a public API, the newer versions of the library can still be backward compatible.\n- private(non-public) code can be refactored, optimized, changed without affecting users\n\n## Public API vs Private api\n\nEvery good programmer creates an API for its codebase, no matter how small that codebase it is.\nEven a simple class, can have private state and functions that cannot be called directly outside the class.\nThe public functions of the class are the API of the class.\n\nIt's a good idea to have a small API on top of large private code. You will be able to change the inner code\nas much as you want and not affect the code users, but this is not true when you change the public part of your\ncode. That in general means breaking changes and nobody likes breaking changes. Absolutely nobody.\n\nSo think hard about how your code will be used before you release it in the wild because after that it will\nbe very hard to fix APIs.\n\n## Good API, Bad API\n\nAs you know if you ever used an API, not all APIs a good. Some are extremely bad and confusing.\n\nIt's very easy to get it wrong in the beginning, somebody said an API needs at least two different clients\nbefore one can be sure is on the right track. So write code that uses your API to see how it feels to use it\n(you can at least write some unit tests.)\n\nHere are some things to look out for:\n\n- Do not provide functions that look similar but work differently. Even today I have to look up which\n  one does what I what from these two:\n\n```js\n// Don't do this\narray.splice();\narray.slice();\n```\n\n- Be consistent, do not use similar words for the same action:\n\n```js\n// Don't do this\nuser.remove();\ncompany.delete();\n```\n\n- Instead of requiring a lot of parameters, try to find alternatives.\n  Nobody remembers the order if there are many parameters at the same time.\n  In JavaScript, you can provide a single object. The advantage is that you can add or remove parameters any time\n  without breaking the backward compatibility.\n\n```js\n// Do this\nfunction doSomething({ a, b, c, d, e, f }) {}\n\ndoSomething({\n  a: 1,\n  c: \"Sam\",\n});\n```\n\n- Do not mutate the parameters unexpectedly and do not create unexpected side effects\n\n```js\n// Don't do this\nfunction daysFromNow(date, n) {\n  // set new day\n  date.setDate(date.getDate() + n);\n  const day = date.getDay(); // Sunday - Saturday : 0 - 6\n  let dayName;\n  switch (day) {\n    case 0:\n      dayName = \"Sunday\";\n      break;\n    case 1:\n      dayName = \"Monday\";\n      break;\n    case 2:\n      dayName = \"Tuesday\";\n      break;\n    case 3:\n      dayName = \"Wednesday\";\n      break;\n    case 4:\n      dayName = \"Thursday\";\n      break;\n    case 5:\n      dayName = \"Friday\";\n      break;\n    case 6:\n      dayName = \"Saturday\";\n      break;\n  }\n  return dayName;\n}\n\nconst now = new Date();\ndaysFromNow(now, 2); // now is changed!!!!\ndaysFromNow(now, 3); // wrong result\n```\n\n- Split big functions and methods in smaller ones. The API surface remains the same but it is easier to use.\n\n```js\n// Don't do this\nfunction big(a, b, c) {\n  // small function logic requires a\n  // smaller function logic requires b\n  // even smaller function logic requires c\n}\n\n// Do this\nfunction small(a) {}\nfunction smaller(b) {}\nfunction evenSmaller(c) {}\n```\n\nIt doesn't matter if you make a service, a library, a command-line app.\nWhatever you make, you should make a good API.","src/content/what-is-an-application-programming-interface/index.md","bfdd2f72f634110d",{"html":1633,"metadata":1634},"\u003Cp>Lots of people have a rather vague or incorrect idea about what an API is.\nSome even think it is a kind of beer because it sounds like India Pale Ale (IPA). No, API is an acronym for\nApplication Programming Interface. It is a technical term that all programmers should know.\u003C/p>\n\u003Cp>Let’s look first at how Wikipedia defines it:\u003C/p>\n\u003Cblockquote>\n\u003Cp>An application programming interface (API) is a computing interface which defines interactions between\nmultiple software intermediaries. It defines the kinds of calls or requests that can be made,\nhow to make them, the data formats that should be used, the conventions to follow, etc. - \u003Ca href=\"https://en.wikipedia.org/wiki/Application_programming_interface\">Wikipedia\u003C/a>\u003C/p>\n\u003C/blockquote>\n\u003Cp>That sounds rather complicated. An API is just the public part of a codebase, the part that is intended to be used by someone else.\u003C/p>\n\u003Cp>The most eloquent metaphor I can think of is an iceberg. It has a small tip, above the water, that you can see.\nBut the bulk of it is underwater. In the same way, the API is the code you can use, which is just a small part\nof the entire codebase.\u003C/p>\n\u003Cp>So you might ask why we need to care about the API? Why we can’t just use the entire codebase as we please.\nGlad you asked, there are a lot of reasons for this. Let’s see some API examples and the reasons for them.\u003C/p>\n\u003Ch2 id=\"service-api\">Service API\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#service-api\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>There is a good chance you’ve heard about APIs when you tried to use an online service from your code or from a tool you use.\nFor example, right now I’m using GitHub APIs to push my code in the repo.\nThese service APIs are available online through some URLs.\u003C/p>\n\u003Cp>You need to know what the URLs, what data it needs, and what data it sends back, you don’t know and you don’t\ncare how the API is implemented, in what programming languages, or how it works internally.\u003C/p>\n\u003Cp>A simple example, is the API offered by \u003Ca href=\"http://open-notify.org/\">Open Notify\u003C/a> that provides some of NASA’s awesome data.\nTo find how many people are now in space you can call the API in the following way:\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token keyword\">async\u003C/span> \u003Cspan class=\"token keyword\">function\u003C/span> \u003Cspan class=\"token function\">getSpacePeople\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n  \u003Cspan class=\"token keyword\">const\u003C/span> data \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token keyword\">await\u003C/span> \u003Cspan class=\"token function\">fetch\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"http://api.open-notify.org/astros.json\"\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">then\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\n    \u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">response\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> response\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">json\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\n  \u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\n  \u003Cspan class=\"token keyword\">const\u003C/span> people \u003Cspan class=\"token operator\">=\u003C/span> data\u003Cspan class=\"token punctuation\">.\u003C/span>people\u003Cspan class=\"token punctuation\">;\u003C/span>\n  \u003Cspan class=\"token keyword\">const\u003C/span> result \u003Cspan class=\"token operator\">=\u003C/span> people\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">map\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">x\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">=>\u003C/span> x\u003Cspan class=\"token punctuation\">.\u003C/span>name \u003Cspan class=\"token operator\">+\u003C/span> \u003Cspan class=\"token string\">\" aboard \"\u003C/span> \u003Cspan class=\"token operator\">+\u003C/span> x\u003Cspan class=\"token punctuation\">.\u003C/span>craft\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n  console\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">log\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"Who is space right now?\"\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n  console\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">log\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"\\n\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span> result\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">join\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"\\n \"\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\n\n\u003Cspan class=\"token keyword\">try\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n  \u003Cspan class=\"token function\">getSpacePeople\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span> \u003Cspan class=\"token keyword\">catch\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>err\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n  console\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">log\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>err\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>Why a service API?\u003C/p>\n\u003Cul>\n\u003Cli>it’s an easy to use way to access the service, you don’t need to know all the codebase\u003C/li>\n\u003Cli>it hides the implementation details of the service\u003C/li>\n\u003Cli>it doesn’t matter what programming language was used to implement it, and that can change anytime without impacting service users\u003C/li>\n\u003Cli>it needs and returns data in a language-independent format like JSON, XML, text, etc.\u003C/li>\n\u003Cli>the way the API data is rendered doesn’t matter, is common these days that a web site and a mobile app use the same API\u003C/li>\n\u003C/ul>\n\u003Cp>JAMstack is a way of thinking about web sites and web apps that implies simpler developer experience,\nbetter performance, lower cost, and greater scalability. JAM stands for JavaScript, API &#x26; Markup.\nSo an important part of the JAMstack is the Application Programming Interface.\nStatic pages are deployed on fast CDNs (Content Delivery Networks) all over the globe and use JavaScript to retrieve data from APIs.\u003C/p>\n\u003Ch2 id=\"framework-or-library-api\">Framework or Library API\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#framework-or-library-api\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>But an API doesn’t mean only online services, all the frameworks or libraries you use and love provide an API,\nit’s through that API you use the framework/library.\u003C/p>\n\u003Cp>For example React library provides a \u003Ccode>React\u003C/code> API and through it you can create DOM elements.\nEven if you don’t use this API directly because you use JSX, behind the scenes, this API is used.\u003C/p>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token keyword\">return\u003C/span> React\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">createElement\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\n  \u003Cspan class=\"token string\">\"div\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n  \u003Cspan class=\"token punctuation\">{\u003C/span> \u003Cspan class=\"token literal-property property\">className\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token string\">\"shopping-list\"\u003C/span> \u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n  React\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">createElement\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"h1\"\u003C/span> \u003Cspan class=\"token comment\">/* ... h1 children ... */\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n  React\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">createElement\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token string\">\"ul\"\u003C/span> \u003Cspan class=\"token comment\">/* ... ul children ... */\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\n\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>Why a library API?\u003C/p>\n\u003Cul>\n\u003Cli>it hides the implementation details of the library\u003C/li>\n\u003Cli>having a public API, the newer versions of the library can still be backward compatible.\u003C/li>\n\u003Cli>private(non-public) code can be refactored, optimized, changed without affecting users\u003C/li>\n\u003C/ul>\n\u003Ch2 id=\"public-api-vs-private-api\">Public API vs Private api\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#public-api-vs-private-api\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>Every good programmer creates an API for its codebase, no matter how small that codebase it is.\nEven a simple class, can have private state and functions that cannot be called directly outside the class.\nThe public functions of the class are the API of the class.\u003C/p>\n\u003Cp>It’s a good idea to have a small API on top of large private code. You will be able to change the inner code\nas much as you want and not affect the code users, but this is not true when you change the public part of your\ncode. That in general means breaking changes and nobody likes breaking changes. Absolutely nobody.\u003C/p>\n\u003Cp>So think hard about how your code will be used before you release it in the wild because after that it will\nbe very hard to fix APIs.\u003C/p>\n\u003Ch2 id=\"good-api-bad-api\">Good API, Bad API\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#good-api-bad-api\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>As you know if you ever used an API, not all APIs a good. Some are extremely bad and confusing.\u003C/p>\n\u003Cp>It’s very easy to get it wrong in the beginning, somebody said an API needs at least two different clients\nbefore one can be sure is on the right track. So write code that uses your API to see how it feels to use it\n(you can at least write some unit tests.)\u003C/p>\n\u003Cp>Here are some things to look out for:\u003C/p>\n\u003Cul>\n\u003Cli>Do not provide functions that look similar but work differently. Even today I have to look up which\none does what I what from these two:\u003C/li>\n\u003C/ul>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token comment\">// Don't do this\u003C/span>\narray\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">splice\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\narray\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">slice\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cul>\n\u003Cli>Be consistent, do not use similar words for the same action:\u003C/li>\n\u003C/ul>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token comment\">// Don't do this\u003C/span>\nuser\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">remove\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\ncompany\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">delete\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cul>\n\u003Cli>Instead of requiring a lot of parameters, try to find alternatives.\nNobody remembers the order if there are many parameters at the same time.\nIn JavaScript, you can provide a single object. The advantage is that you can add or remove parameters any time\nwithout breaking the backward compatibility.\u003C/li>\n\u003C/ul>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token comment\">// Do this\u003C/span>\n\u003Cspan class=\"token keyword\">function\u003C/span> \u003Cspan class=\"token function\">doSomething\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">\u003Cspan class=\"token punctuation\">{\u003C/span> a\u003Cspan class=\"token punctuation\">,\u003C/span> b\u003Cspan class=\"token punctuation\">,\u003C/span> c\u003Cspan class=\"token punctuation\">,\u003C/span> d\u003Cspan class=\"token punctuation\">,\u003C/span> e\u003Cspan class=\"token punctuation\">,\u003C/span> f \u003Cspan class=\"token punctuation\">}\u003C/span>\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\u003Cspan class=\"token punctuation\">}\u003C/span>\n\n\u003Cspan class=\"token function\">doSomething\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">{\u003C/span>\n  \u003Cspan class=\"token literal-property property\">a\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token number\">1\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n  \u003Cspan class=\"token literal-property property\">c\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span> \u003Cspan class=\"token string\">\"Sam\"\u003C/span>\u003Cspan class=\"token punctuation\">,\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cul>\n\u003Cli>Do not mutate the parameters unexpectedly and do not create unexpected side effects\u003C/li>\n\u003C/ul>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token comment\">// Don't do this\u003C/span>\n\u003Cspan class=\"token keyword\">function\u003C/span> \u003Cspan class=\"token function\">daysFromNow\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">date\u003Cspan class=\"token punctuation\">,\u003C/span> n\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n  \u003Cspan class=\"token comment\">// set new day\u003C/span>\n  date\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">setDate\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>date\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">getDate\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token operator\">+\u003C/span> n\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n  \u003Cspan class=\"token keyword\">const\u003C/span> day \u003Cspan class=\"token operator\">=\u003C/span> date\u003Cspan class=\"token punctuation\">.\u003C/span>\u003Cspan class=\"token function\">getDay\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token comment\">// Sunday - Saturday : 0 - 6\u003C/span>\n  \u003Cspan class=\"token keyword\">let\u003C/span> dayName\u003Cspan class=\"token punctuation\">;\u003C/span>\n  \u003Cspan class=\"token keyword\">switch\u003C/span> \u003Cspan class=\"token punctuation\">(\u003C/span>day\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n    \u003Cspan class=\"token keyword\">case\u003C/span> \u003Cspan class=\"token number\">0\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span>\n      dayName \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token string\">\"Sunday\"\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n      \u003Cspan class=\"token keyword\">break\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n    \u003Cspan class=\"token keyword\">case\u003C/span> \u003Cspan class=\"token number\">1\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span>\n      dayName \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token string\">\"Monday\"\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n      \u003Cspan class=\"token keyword\">break\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n    \u003Cspan class=\"token keyword\">case\u003C/span> \u003Cspan class=\"token number\">2\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span>\n      dayName \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token string\">\"Tuesday\"\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n      \u003Cspan class=\"token keyword\">break\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n    \u003Cspan class=\"token keyword\">case\u003C/span> \u003Cspan class=\"token number\">3\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span>\n      dayName \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token string\">\"Wednesday\"\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n      \u003Cspan class=\"token keyword\">break\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n    \u003Cspan class=\"token keyword\">case\u003C/span> \u003Cspan class=\"token number\">4\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span>\n      dayName \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token string\">\"Thursday\"\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n      \u003Cspan class=\"token keyword\">break\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n    \u003Cspan class=\"token keyword\">case\u003C/span> \u003Cspan class=\"token number\">5\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span>\n      dayName \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token string\">\"Friday\"\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n      \u003Cspan class=\"token keyword\">break\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n    \u003Cspan class=\"token keyword\">case\u003C/span> \u003Cspan class=\"token number\">6\u003C/span>\u003Cspan class=\"token operator\">:\u003C/span>\n      dayName \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token string\">\"Saturday\"\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n      \u003Cspan class=\"token keyword\">break\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n  \u003Cspan class=\"token punctuation\">}\u003C/span>\n  \u003Cspan class=\"token keyword\">return\u003C/span> dayName\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\n\n\u003Cspan class=\"token keyword\">const\u003C/span> now \u003Cspan class=\"token operator\">=\u003C/span> \u003Cspan class=\"token keyword\">new\u003C/span> \u003Cspan class=\"token class-name\">Date\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span>\n\u003Cspan class=\"token function\">daysFromNow\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>now\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token number\">2\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token comment\">// now is changed!!!!\u003C/span>\n\u003Cspan class=\"token function\">daysFromNow\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>now\u003Cspan class=\"token punctuation\">,\u003C/span> \u003Cspan class=\"token number\">3\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span>\u003Cspan class=\"token punctuation\">;\u003C/span> \u003Cspan class=\"token comment\">// wrong result\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cul>\n\u003Cli>Split big functions and methods in smaller ones. The API surface remains the same but it is easier to use.\u003C/li>\n\u003C/ul>\n\u003Cpre class=\"language-js\" data-language=\"js\">\u003Ccode is:raw=\"\" class=\"language-js\">\u003Cspan class=\"token comment\">// Don't do this\u003C/span>\n\u003Cspan class=\"token keyword\">function\u003C/span> \u003Cspan class=\"token function\">big\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">a\u003Cspan class=\"token punctuation\">,\u003C/span> b\u003Cspan class=\"token punctuation\">,\u003C/span> c\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\n  \u003Cspan class=\"token comment\">// small function logic requires a\u003C/span>\n  \u003Cspan class=\"token comment\">// smaller function logic requires b\u003C/span>\n  \u003Cspan class=\"token comment\">// even smaller function logic requires c\u003C/span>\n\u003Cspan class=\"token punctuation\">}\u003C/span>\n\n\u003Cspan class=\"token comment\">// Do this\u003C/span>\n\u003Cspan class=\"token keyword\">function\u003C/span> \u003Cspan class=\"token function\">small\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">a\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\u003Cspan class=\"token punctuation\">}\u003C/span>\n\u003Cspan class=\"token keyword\">function\u003C/span> \u003Cspan class=\"token function\">smaller\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">b\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\u003Cspan class=\"token punctuation\">}\u003C/span>\n\u003Cspan class=\"token keyword\">function\u003C/span> \u003Cspan class=\"token function\">evenSmaller\u003C/span>\u003Cspan class=\"token punctuation\">(\u003C/span>\u003Cspan class=\"token parameter\">c\u003C/span>\u003Cspan class=\"token punctuation\">)\u003C/span> \u003Cspan class=\"token punctuation\">{\u003C/span>\u003Cspan class=\"token punctuation\">}\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Cp>It doesn’t matter if you make a service, a library, a command-line app.\nWhatever you make, you should make a good API.\u003C/p>",{"headings":1635,"imagePaths":1648,"frontmatter":1619},[1636,1639,1642,1645],{"depth":51,"slug":1637,"text":1638},"service-api","Service API",{"depth":51,"slug":1640,"text":1641},"framework-or-library-api","Framework or Library API",{"depth":51,"slug":1643,"text":1644},"public-api-vs-private-api","Public API vs Private api",{"depth":51,"slug":1646,"text":1647},"good-api-bad-api","Good API, Bad API",[],"why-there-is-so-much-weak-software",["Map",7,1651],{"id":7,"data":1652,"body":1659,"filePath":1660,"digest":1661,"rendered":1662,"legacyId":64},{"title":1653,"pubDate":1654,"description":1655,"keywords":1656,"twitterImage":1657,"minutesRead":1181,"excerpt":1658},"Why there is so much weak software?",["Date","2020-07-13T00:00:00.000Z"],"We could write better code, we could create better software. But we don’t. Why? There are some good reasons for bad software and we can avoid them.",[225],"https://www.raresportan.com/twitter-cards/why-there-is-so-much-weak-software.png","We have many great programming languages, IDEs, methodologies, excellent hardware,\nbest practices, and so on, but still, a lot of weak softw","We have many great programming languages, IDEs, methodologies, excellent hardware,\nbest practices, and so on, but still, a lot of weak software is released to users every day.\n\nWe could write better code, we could create better software. But we don’t. Why?\nBased on my own experience, the main reasons for writing poor code and creating weak software are these:\n\n## Wrong people doing the wrong things\n\nAll the stuff we do, all the stuff we put in place, all methodologies, won’t work\nunless we fix the root problem: without excellent people, we cannot achieve excellent results.\n\nThe best engineers are several times more productive than an average engineer.\nThis is not because good engineers write code several times faster. It is because they\nmake better decisions that save several times the work. The software is not written by tools, methodologies,\nlanguages, or frameworks, but by people.\n\nBug rate (per line of code) is almost constant from the 70s when there were no IDEs,\nno methodologies, no fancy languages. Why? Because people still write poor code.\n\nOnly excellent people can achieve excellent results. But we are not all experts.\nSo what can be done? The right people must work on the right job. Not everybody can do the same work.\nEveryone should work on the appropriate tasks.\n\nBased on your skill level, you are in one of the following stages:\n\n- Junior/Novice/Beginner\n- Advanced beginner\n- Competent\n- Proficient\n- Expert\n\nAll projects start nice and pleasant, and usually, everybody is assigned to the right tasks, all is good.\nBut after a while, when the deadline is approaching, things are starting to get worse.\nExperts have too much on their plate and some of the work has to be done by juniors or\nby people with little knowledge related to the work they do.\n\nThere are teams where everybody does everything. Those teams will create great products only\nif they understand this problem: an expert in one domain is usually a novice in another.\nI’m not saying that a database developer should always work on databases and a GUI developer\nshould always do GUIs. Au contraire. Just remember that an expert in one domain will be a novice in another one.\n\nThe goal should be to help people advance their skill levels by giving them the appropriate tasks to work on.\nWe generally take pleasure in a task when it falls in a sort of optimal-challenge zone;\nnot so easy as to be boring, not too hard to achieve.\nA happy programmer is one who is neither underutilized nor weighed down. We like happy programmers.\nSpeak up if you feel your tasks are too hard or too boring.\n\n## Narrow skill sets\n\nPeople will apply what they know in all situations. That’s why they should not\ntry to do tasks they don’t have the skills to do.\n\n> If all you have is a hammer, everything looks like a nail\n\nEverybody, from juniors to experts must improve their skill set.\nAnd everybody must be honest about their skills. There is nothing more dangerous\nthan expecting experts in one area to perform the same in a different area.\nThey will try to apply their skills in a context that requires different skills.\n\nNo matter what you know:\n\n- Try a new language\n- Try a new paradigm\n- Try a new type of application\n- Try something different\n\nAlways learn something new. Improve your skillset. Do you know who gets new work?\nCurious people, learners, those who love to tinker with the unknown.\nSome people expect the company they work for to provide trainings for new skills\nand they will not move a finger on their own. This is a mistake. A good developer\nfinds time to learn new things on his own.\n\n> If you want to get good at something you need to focus on it, which means choosing\n> to exclude some other things from your life. Keep a little journal of what you are\n> working on each day, you may find that you aren't applying yourself all that hard.\n> Learn something new every single day. - [John Carmack](http://d3dvortex.blogspot.com/2005/07/programming-advice-from-john-carmack-i.html)\n\n## Blindly following “success recipes”\n\nIn software development, there is always something new and shiny, trends change all the time.\nYou read a book or a blog post, watch a video, or find about it at a conference.\nThere will always be someone presenting the holy grail, a success recipe that\nworked for him with incredible results.\n\nThere are hordes of methodology gurus, tool vendors, zealots, consultants offering you help.\nEveryone claims that their thing is the best, everybody hates the other guy’s thing.\nThe problem is that those people offering you help never talk about the tradeoffs you have to make.\n\nYou don’t know the bad parts of anything (well, maybe except JavaScript), you don’t\nknow what you give up when you chose some recipe.\n\nThere is no such thing as the best solution, be it a tool, a language, or an operating system.\nThere can only be choices that are more appropriate in a particular context.\nBut some people are instant believers and will start using that new thing —\nthis is especially true for those with smaller skillset — the less they know about something,\nthe more they are inclined to believe everything is said about it.\n\nHow many people can tell the bad parts of using a certain famous pattern?\nYou know the pattern but not when NOT to use it. It’s a hammer in your hand.\nBeware that sometimes the cure is not worst than the disease.\n\nOne day you realize that you can write the same bad code, the same bad software no\nmatter the tech stack you are using. You realize the tech stack is not the problem,\nbut you. That is a good day.\n\n> In the South Seas there is a cargo cult of people. During the war they saw airplanes\n> land with lots of good materials, and they want the same thing to happen now.\n> So they’ve arranged to imitate things like runways, to put fires along the sides\n> of the runways, to make a wooden hut for a man to sit in, with two wooden pieces\n> on his head like headphones and bars of bamboo sticking out like antennas—he’s\n> the controller—and they wait for the airplanes to land. They’re doing everything\n> right. The form is perfect. It looks exactly the way it looked before.\n> But it doesn’t work. No airplanes land. So I call these things cargo cult science,\n> because they follow all the apparent precepts and forms of scientific investigation,\n> but they’re missing something essential, because the planes don’t land. - [Richard Feynman](https://en.wikipedia.org/wiki/Cargo_cult_science)\n\n## Overengineering\n\nOne of our greatest sins as developers is overengineering.\nWe feel like the simple and obvious solutions are not good enough, our great minds\nmust always create something complicated and incomprehensible. Some of the\noverengineering is caused by the languages we use, there is simply no way to do\nsome things without a lot of boilerplate.\n\nBut usually, we are the sinners, with our greed for abstraction and smartness.\n\n> Any intelligent fool can make things bigger and more complex... It takes a touch of genius —\n> and a lot of courage to move in the opposite direction. - E. F. Schumacher\n\nLook at your code and design and ask yourself: Will anybody ever understand\nwhat I'm doing here? Try to explain your design to somebody: Did they understand any of it?\nDid they understand the reasons behind it? If you can’t explain it simply,\nyou don’t understand it well enough.\nIf they have problems understanding it while you are there, answering their question,\nhow somebody that will read your code later will understand any of it?\nSometimes the best solution to a problem is to not solve it. We try too much to solve too many problems.\n\nRemember this:\n\n- Less code is better than more code.\n- Small is better than big.\n- Simple is better than complex.\n- Isolated is better than coupled.\n- Obvious is better than clever.\n\n## Data lost in code\n\nWhen you ask people to explain the design of their app they will tell you about\nclasses, objects, inheritance hierarchies. How data flows through the app?\nNobody knows for sure, is too complicated to explain.\n\nWhen something changes, what is the execution flow? Which things are affected and in which way?\n\n_The purpose of any code is to transform data._ Only write code that has direct, provable value,\nthat transforms data in a meaningful way. Design the data, not the code.\n\nWhen looking at the structure of a system, we’re less interested in seeing how the code interacts — \nwe want to see how the data interacts and flows. If someone tries to explain a system by\ndescribing the code structure and does not understand the rate and volume of data flow,\nthey do not understand the system.\n\nIf you don’t understand the data you don’t understand the problem.\nDifferent programs require different solutions. Understand the problem by understanding the data.\n\nIf you don’t understand the cost of solving the problem, you don’t understand the problem.\n\n## Inconsistency\n\nOne of the most important generator of code complexity is inconsistency.\n\nInconsistent code means:\n\n- Chaos\n- Bugs due to misunderstandings\n- Communication problems\n- People will not understand other people's code\n- Bad decisions will never be fixed because will never be recognized\n- The complexity of the code will grow forever\n\n_Most_ of the code should be consistent. It should follow the same principles, guidelines,\ntechniques, programming language, programming style, etc.\n\nConsistent code reduces cognitive load:\n\n- You can read the code made by somebody else\n- You can read code you made months ago\n- You can understand code that is consistent with the code you make\n- You can fix code that is consistent with your code\n\nAlso, consistency can remedy most of the previous causes of bad code:\n\n- There are rules and guides to follow so people will do the wrong things less often.\n- People will have to learn the techniques and guides to be consistent, their skill set will improve.\n- Little room for “success recipes,\" all the recipes that can be used will be obvious.\n- No more over-engineering, just follow the rules to fit in new code\n\n> Most serious software development projects use coding guidelines. These guidelines are\n> meant to state what the ground rules are for the software to be written: how it\n> should be structured and which language features should and should not be used.\n> Curiously, there is little consensus on what a good coding standard is. - [Gerard J. Holzmann - NASA](http://spinroot.com/gerard/pdf/P10.pdf)\n\n## Complexity unleashed\n\nNo matter how hard we think about the design of the app, how carefully we are when\nadding new code, or change existing code, as the code base grows, complexity will creep in.\nThere will be occasional shortcuts, hard-codings, quick fixes and there will be always\nchange requests: requirements change so our code changes.\n\nOne day you will realize your carefully crafted architecture is no more, is lost in a sea of noise.\nEvery project starts nice and pleasant. It’s a beautiful day, we got our stand-ups, our methodologies.\nFeatures are implemented with ease. Everyone is happy. As the code base grows, a new presence is\nstarting to lurk in the corners: the code already written.\n\nIt will completely dominate what we do. Features are becoming harder and harder to add,\nthere are always unexpected side effects, things get broken more often. We add new features,\nimplement change requests. We have to make that software do more, differently, better.\nAnd as we try to do that, we are challenged to understand our existing code: Once your\nsoftware is of a certain size you’ll be dominated by the complexity. No matter what\nprocesses you’re using, how well you test, anything else. The complexity of already\nwritten code will dominate what you can do. One day you no longer understand the size\nand the power of the code already written.\n\nYou cannot estimate correctly how much work will take to implement new things because\nyou don’t understand the size and the power of the technical debt elephant.\nThe situation becomes worst and worst. You are afraid to touch any code because you\ncan always break something. Every code change is pain. You cannot reason about\nthe ramifications of the code change. Often the code breaks in surprising places.\n\n> Reduce the complexity you have, so you can do more. Other things are important but this dominates. - [Rich Hickey](https://www.youtube.com/watch?v=rI8tNMsozo0)\n\nKnowing how to code is not enough. The same problem can be solved in many ways.\nBut only some of those ways are good. You need to develop a sense of what is good\nand what is not. When you know what to avoid, good solutions are much obvious.\n\n---\n\nThis post is part of the `How to Write Better Software` series, in which I try to articulate\nmy throughs and believes while searching for better ways to make software:\n\n- [What Makes Good Code Good](/what-makes-good-code-good/)\n- [10 Reasons Why You Are Not a Great Programmer](/10-reasons-why-you-are-not-a-great-programmer/)","src/content/why-there-is-so-much-weak-software/index.md","94e583a0359b4611",{"html":1663,"metadata":1664},"\u003Cp>We have many great programming languages, IDEs, methodologies, excellent hardware,\nbest practices, and so on, but still, a lot of weak software is released to users every day.\u003C/p>\n\u003Cp>We could write better code, we could create better software. But we don’t. Why?\nBased on my own experience, the main reasons for writing poor code and creating weak software are these:\u003C/p>\n\u003Ch2 id=\"wrong-people-doing-the-wrong-things\">Wrong people doing the wrong things\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#wrong-people-doing-the-wrong-things\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>All the stuff we do, all the stuff we put in place, all methodologies, won’t work\nunless we fix the root problem: without excellent people, we cannot achieve excellent results.\u003C/p>\n\u003Cp>The best engineers are several times more productive than an average engineer.\nThis is not because good engineers write code several times faster. It is because they\nmake better decisions that save several times the work. The software is not written by tools, methodologies,\nlanguages, or frameworks, but by people.\u003C/p>\n\u003Cp>Bug rate (per line of code) is almost constant from the 70s when there were no IDEs,\nno methodologies, no fancy languages. Why? Because people still write poor code.\u003C/p>\n\u003Cp>Only excellent people can achieve excellent results. But we are not all experts.\nSo what can be done? The right people must work on the right job. Not everybody can do the same work.\nEveryone should work on the appropriate tasks.\u003C/p>\n\u003Cp>Based on your skill level, you are in one of the following stages:\u003C/p>\n\u003Cul>\n\u003Cli>Junior/Novice/Beginner\u003C/li>\n\u003Cli>Advanced beginner\u003C/li>\n\u003Cli>Competent\u003C/li>\n\u003Cli>Proficient\u003C/li>\n\u003Cli>Expert\u003C/li>\n\u003C/ul>\n\u003Cp>All projects start nice and pleasant, and usually, everybody is assigned to the right tasks, all is good.\nBut after a while, when the deadline is approaching, things are starting to get worse.\nExperts have too much on their plate and some of the work has to be done by juniors or\nby people with little knowledge related to the work they do.\u003C/p>\n\u003Cp>There are teams where everybody does everything. Those teams will create great products only\nif they understand this problem: an expert in one domain is usually a novice in another.\nI’m not saying that a database developer should always work on databases and a GUI developer\nshould always do GUIs. Au contraire. Just remember that an expert in one domain will be a novice in another one.\u003C/p>\n\u003Cp>The goal should be to help people advance their skill levels by giving them the appropriate tasks to work on.\nWe generally take pleasure in a task when it falls in a sort of optimal-challenge zone;\nnot so easy as to be boring, not too hard to achieve.\nA happy programmer is one who is neither underutilized nor weighed down. We like happy programmers.\nSpeak up if you feel your tasks are too hard or too boring.\u003C/p>\n\u003Ch2 id=\"narrow-skill-sets\">Narrow skill sets\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#narrow-skill-sets\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>People will apply what they know in all situations. That’s why they should not\ntry to do tasks they don’t have the skills to do.\u003C/p>\n\u003Cblockquote>\n\u003Cp>If all you have is a hammer, everything looks like a nail\u003C/p>\n\u003C/blockquote>\n\u003Cp>Everybody, from juniors to experts must improve their skill set.\nAnd everybody must be honest about their skills. There is nothing more dangerous\nthan expecting experts in one area to perform the same in a different area.\nThey will try to apply their skills in a context that requires different skills.\u003C/p>\n\u003Cp>No matter what you know:\u003C/p>\n\u003Cul>\n\u003Cli>Try a new language\u003C/li>\n\u003Cli>Try a new paradigm\u003C/li>\n\u003Cli>Try a new type of application\u003C/li>\n\u003Cli>Try something different\u003C/li>\n\u003C/ul>\n\u003Cp>Always learn something new. Improve your skillset. Do you know who gets new work?\nCurious people, learners, those who love to tinker with the unknown.\nSome people expect the company they work for to provide trainings for new skills\nand they will not move a finger on their own. This is a mistake. A good developer\nfinds time to learn new things on his own.\u003C/p>\n\u003Cblockquote>\n\u003Cp>If you want to get good at something you need to focus on it, which means choosing\nto exclude some other things from your life. Keep a little journal of what you are\nworking on each day, you may find that you aren’t applying yourself all that hard.\nLearn something new every single day. - \u003Ca href=\"http://d3dvortex.blogspot.com/2005/07/programming-advice-from-john-carmack-i.html\">John Carmack\u003C/a>\u003C/p>\n\u003C/blockquote>\n\u003Ch2 id=\"blindly-following-success-recipes\">Blindly following “success recipes”\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#blindly-following-success-recipes\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>In software development, there is always something new and shiny, trends change all the time.\nYou read a book or a blog post, watch a video, or find about it at a conference.\nThere will always be someone presenting the holy grail, a success recipe that\nworked for him with incredible results.\u003C/p>\n\u003Cp>There are hordes of methodology gurus, tool vendors, zealots, consultants offering you help.\nEveryone claims that their thing is the best, everybody hates the other guy’s thing.\nThe problem is that those people offering you help never talk about the tradeoffs you have to make.\u003C/p>\n\u003Cp>You don’t know the bad parts of anything (well, maybe except JavaScript), you don’t\nknow what you give up when you chose some recipe.\u003C/p>\n\u003Cp>There is no such thing as the best solution, be it a tool, a language, or an operating system.\nThere can only be choices that are more appropriate in a particular context.\nBut some people are instant believers and will start using that new thing —\nthis is especially true for those with smaller skillset — the less they know about something,\nthe more they are inclined to believe everything is said about it.\u003C/p>\n\u003Cp>How many people can tell the bad parts of using a certain famous pattern?\nYou know the pattern but not when NOT to use it. It’s a hammer in your hand.\nBeware that sometimes the cure is not worst than the disease.\u003C/p>\n\u003Cp>One day you realize that you can write the same bad code, the same bad software no\nmatter the tech stack you are using. You realize the tech stack is not the problem,\nbut you. That is a good day.\u003C/p>\n\u003Cblockquote>\n\u003Cp>In the South Seas there is a cargo cult of people. During the war they saw airplanes\nland with lots of good materials, and they want the same thing to happen now.\nSo they’ve arranged to imitate things like runways, to put fires along the sides\nof the runways, to make a wooden hut for a man to sit in, with two wooden pieces\non his head like headphones and bars of bamboo sticking out like antennas—he’s\nthe controller—and they wait for the airplanes to land. They’re doing everything\nright. The form is perfect. It looks exactly the way it looked before.\nBut it doesn’t work. No airplanes land. So I call these things cargo cult science,\nbecause they follow all the apparent precepts and forms of scientific investigation,\nbut they’re missing something essential, because the planes don’t land. - \u003Ca href=\"https://en.wikipedia.org/wiki/Cargo_cult_science\">Richard Feynman\u003C/a>\u003C/p>\n\u003C/blockquote>\n\u003Ch2 id=\"overengineering\">Overengineering\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#overengineering\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>One of our greatest sins as developers is overengineering.\nWe feel like the simple and obvious solutions are not good enough, our great minds\nmust always create something complicated and incomprehensible. Some of the\noverengineering is caused by the languages we use, there is simply no way to do\nsome things without a lot of boilerplate.\u003C/p>\n\u003Cp>But usually, we are the sinners, with our greed for abstraction and smartness.\u003C/p>\n\u003Cblockquote>\n\u003Cp>Any intelligent fool can make things bigger and more complex… It takes a touch of genius —\nand a lot of courage to move in the opposite direction. - E. F. Schumacher\u003C/p>\n\u003C/blockquote>\n\u003Cp>Look at your code and design and ask yourself: Will anybody ever understand\nwhat I’m doing here? Try to explain your design to somebody: Did they understand any of it?\nDid they understand the reasons behind it? If you can’t explain it simply,\nyou don’t understand it well enough.\nIf they have problems understanding it while you are there, answering their question,\nhow somebody that will read your code later will understand any of it?\nSometimes the best solution to a problem is to not solve it. We try too much to solve too many problems.\u003C/p>\n\u003Cp>Remember this:\u003C/p>\n\u003Cul>\n\u003Cli>Less code is better than more code.\u003C/li>\n\u003Cli>Small is better than big.\u003C/li>\n\u003Cli>Simple is better than complex.\u003C/li>\n\u003Cli>Isolated is better than coupled.\u003C/li>\n\u003Cli>Obvious is better than clever.\u003C/li>\n\u003C/ul>\n\u003Ch2 id=\"data-lost-in-code\">Data lost in code\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#data-lost-in-code\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>When you ask people to explain the design of their app they will tell you about\nclasses, objects, inheritance hierarchies. How data flows through the app?\nNobody knows for sure, is too complicated to explain.\u003C/p>\n\u003Cp>When something changes, what is the execution flow? Which things are affected and in which way?\u003C/p>\n\u003Cp>\u003Cem>The purpose of any code is to transform data.\u003C/em> Only write code that has direct, provable value,\nthat transforms data in a meaningful way. Design the data, not the code.\u003C/p>\n\u003Cp>When looking at the structure of a system, we’re less interested in seeing how the code interacts — \nwe want to see how the data interacts and flows. If someone tries to explain a system by\ndescribing the code structure and does not understand the rate and volume of data flow,\nthey do not understand the system.\u003C/p>\n\u003Cp>If you don’t understand the data you don’t understand the problem.\nDifferent programs require different solutions. Understand the problem by understanding the data.\u003C/p>\n\u003Cp>If you don’t understand the cost of solving the problem, you don’t understand the problem.\u003C/p>\n\u003Ch2 id=\"inconsistency\">Inconsistency\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#inconsistency\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>One of the most important generator of code complexity is inconsistency.\u003C/p>\n\u003Cp>Inconsistent code means:\u003C/p>\n\u003Cul>\n\u003Cli>Chaos\u003C/li>\n\u003Cli>Bugs due to misunderstandings\u003C/li>\n\u003Cli>Communication problems\u003C/li>\n\u003Cli>People will not understand other people’s code\u003C/li>\n\u003Cli>Bad decisions will never be fixed because will never be recognized\u003C/li>\n\u003Cli>The complexity of the code will grow forever\u003C/li>\n\u003C/ul>\n\u003Cp>\u003Cem>Most\u003C/em> of the code should be consistent. It should follow the same principles, guidelines,\ntechniques, programming language, programming style, etc.\u003C/p>\n\u003Cp>Consistent code reduces cognitive load:\u003C/p>\n\u003Cul>\n\u003Cli>You can read the code made by somebody else\u003C/li>\n\u003Cli>You can read code you made months ago\u003C/li>\n\u003Cli>You can understand code that is consistent with the code you make\u003C/li>\n\u003Cli>You can fix code that is consistent with your code\u003C/li>\n\u003C/ul>\n\u003Cp>Also, consistency can remedy most of the previous causes of bad code:\u003C/p>\n\u003Cul>\n\u003Cli>There are rules and guides to follow so people will do the wrong things less often.\u003C/li>\n\u003Cli>People will have to learn the techniques and guides to be consistent, their skill set will improve.\u003C/li>\n\u003Cli>Little room for “success recipes,” all the recipes that can be used will be obvious.\u003C/li>\n\u003Cli>No more over-engineering, just follow the rules to fit in new code\u003C/li>\n\u003C/ul>\n\u003Cblockquote>\n\u003Cp>Most serious software development projects use coding guidelines. These guidelines are\nmeant to state what the ground rules are for the software to be written: how it\nshould be structured and which language features should and should not be used.\nCuriously, there is little consensus on what a good coding standard is. - \u003Ca href=\"http://spinroot.com/gerard/pdf/P10.pdf\">Gerard J. Holzmann - NASA\u003C/a>\u003C/p>\n\u003C/blockquote>\n\u003Ch2 id=\"complexity-unleashed\">Complexity unleashed\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#complexity-unleashed\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>No matter how hard we think about the design of the app, how carefully we are when\nadding new code, or change existing code, as the code base grows, complexity will creep in.\nThere will be occasional shortcuts, hard-codings, quick fixes and there will be always\nchange requests: requirements change so our code changes.\u003C/p>\n\u003Cp>One day you will realize your carefully crafted architecture is no more, is lost in a sea of noise.\nEvery project starts nice and pleasant. It’s a beautiful day, we got our stand-ups, our methodologies.\nFeatures are implemented with ease. Everyone is happy. As the code base grows, a new presence is\nstarting to lurk in the corners: the code already written.\u003C/p>\n\u003Cp>It will completely dominate what we do. Features are becoming harder and harder to add,\nthere are always unexpected side effects, things get broken more often. We add new features,\nimplement change requests. We have to make that software do more, differently, better.\nAnd as we try to do that, we are challenged to understand our existing code: Once your\nsoftware is of a certain size you’ll be dominated by the complexity. No matter what\nprocesses you’re using, how well you test, anything else. The complexity of already\nwritten code will dominate what you can do. One day you no longer understand the size\nand the power of the code already written.\u003C/p>\n\u003Cp>You cannot estimate correctly how much work will take to implement new things because\nyou don’t understand the size and the power of the technical debt elephant.\nThe situation becomes worst and worst. You are afraid to touch any code because you\ncan always break something. Every code change is pain. You cannot reason about\nthe ramifications of the code change. Often the code breaks in surprising places.\u003C/p>\n\u003Cblockquote>\n\u003Cp>Reduce the complexity you have, so you can do more. Other things are important but this dominates. - \u003Ca href=\"https://www.youtube.com/watch?v=rI8tNMsozo0\">Rich Hickey\u003C/a>\u003C/p>\n\u003C/blockquote>\n\u003Cp>Knowing how to code is not enough. The same problem can be solved in many ways.\nBut only some of those ways are good. You need to develop a sense of what is good\nand what is not. When you know what to avoid, good solutions are much obvious.\u003C/p>\n\u003Chr>\n\u003Cp>This post is part of the \u003Ccode>How to Write Better Software\u003C/code> series, in which I try to articulate\nmy throughs and believes while searching for better ways to make software:\u003C/p>\n\u003Cul>\n\u003Cli>\u003Ca href=\"/what-makes-good-code-good/\">What Makes Good Code Good\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"/10-reasons-why-you-are-not-a-great-programmer/\">10 Reasons Why You Are Not a Great Programmer\u003C/a>\u003C/li>\n\u003C/ul>",{"headings":1665,"imagePaths":1687,"frontmatter":1652},[1666,1669,1672,1675,1678,1681,1684],{"depth":51,"slug":1667,"text":1668},"wrong-people-doing-the-wrong-things","Wrong people doing the wrong things",{"depth":51,"slug":1670,"text":1671},"narrow-skill-sets","Narrow skill sets",{"depth":51,"slug":1673,"text":1674},"blindly-following-success-recipes","Blindly following “success recipes”",{"depth":51,"slug":1676,"text":1677},"overengineering","Overengineering",{"depth":51,"slug":1679,"text":1680},"data-lost-in-code","Data lost in code",{"depth":51,"slug":1682,"text":1683},"inconsistency","Inconsistency",{"depth":51,"slug":1685,"text":1686},"complexity-unleashed","Complexity unleashed",[],"xtate-and-react",["Map",7,1690],{"id":7,"data":1691,"body":1696,"filePath":1697,"digest":1698,"legacyId":18,"deferredRender":19},{"title":1692,"pubDate":1693,"description":1694,"keywords":1695},"Using XState with React",["Date","2021-09-20T00:00:00.000Z"],"Can XState replace standard state management libraries like Redux? Let's find out how to use XState instead of Redux",[1215,1115],"For a long time, [Redux](https://redux.js.org/) was the way to do state management in a React app. Bases on the [Flux](https://facebook.github.io/flux/)\narchitecture, popularized by Facebook, it complements React's composable view components by utilizing a unidirectional data flow.\n\nRedux works just fine, but the feeling is that you write too much code for the problem you're trying to solve. And, when you need to work with\nasync operations, like API calls, you need to use something more complex like `react-thunk` or `react-saga`. The code feels needlessly complicated.\n\nOver the years, people have come up with alternatives like [MobX](https://mobx.js.org/README.html), [Recoil](https://recoiljs.org/), [Immer](https://immerjs.github.io/immer/), [XState](https://xstate.js.org/docs/),\nand many others. Some people don't use any of them and replace Redux with a combination of hooks (useContext + useState / useReducer)\n\nXState is a bit different from the rest, the state is managed by a finite state machine. As we saw in a [previous article](/short-introduction-to-xstate/)\nthis means that you can avoid \"bad state\" situations with XState. None of the other alternatives prevent a bad state.\n\nTo see how XState works with React, we'll look at a complex example, an XState machine for a WebSocket that provides cryptocurrency orders ([cryptofacilities.com's](https://www.cryptofacilities.com/) websocket: wss://www.cryptofacilities.com/ws/v1). Why a complex example?\nBecause this is where XState shines when certain actions are available only in certain states.\n\nTo get data from the websocket we need to do the following steps:\n\n1. Initialize the websocket\n\n```js\nconst socket = new WebSocket(\"https://www.cryptofacilities.com/\");\nconst connectedHandler = () => {\n  console.log(\"Connected\");\n};\n\nsocket.addEventListener(\"open\", connectedHandler);\n\nconst messageHandler = (e) => {\n  console.log(\"Message received\", e.data);\n};\nsocket.addEventListener(\"message\", messageHandler);\n```\n\n2. Subscribe to a specific cryptocurrency data\n\n```js\nconst subscribeEvent = {\n  event: \"subscribe\",\n  feed: \"book_ui_1\",\n  product_ids: [\"PI_XBTUSD\"],\n};\nsocket.send(JSON.stringify(subscribeEvent));\n```\n\n3. Wait for the websocket to acknowledge the subscription\n\n```js\n// update the messageHandler to handle subscribed events\nconst messageHandler = (e) => {\n  console.log(\"Message received\", e.data);\n\n  if (/\"event\"/g.test(e.data)) {\n    if (/\"subscribed\"/g.test(e.data)) {\n      console.log(\"Subscribed\");\n    }\n  }\n};\n```\n\n4. Receive the initial data from the websocket as a snapshot\n\n```js\n// update the messageHandler to handle snapshots\nconst messageHandler = (e) => {\n  console.log(\"Message received\", e.data);\n\n  if (/\"event\"/g.test(e.data)) {\n    if (/\"subscribed\"/g.test(e.data)) {\n      console.log(\"Subscribed\");\n    }\n  } else {\n    if (/snapshot/g.test(data.feed)) {\n      console.log(\"Snapshot received\");\n    }\n  }\n};\n```\n\n5. Receive data changes(deltas) from the websocket\n\n```js\n// update the messageHandler to handle deltas\nconst messageHandler = (e) => {\n  console.log(\"Message received\", e.data);\n\n  if (/\"event\"/g.test(e.data)) {\n    if (/\"subscribed\"/g.test(e.data)) {\n      console.log(\"Subscribed\");\n    }\n  } else {\n    if (/snapshot/g.test(data.feed)) {\n      console.log(\"Snapshot received\");\n    } else {\n      console.log(\"Deltas received\");\n    }\n  }\n};\n```\n\n6. Unsubscribe from the cryptocurrency data\n\n```js\n// send unsubscribe event\nconst unsubscribeEvent = {\n  event: \"unsubscribe\",\n  feed: \"book_ui_1\",\n  product_ids: [\"PI_XBTUSD\"],\n};\nsocket.send(JSON.stringify(unsubscribeEvent));\n\n// handle unsubscribe confirmation\nconst messageHandler = (e) => {\n  console.log(\"Message received\", e.data);\n\n  if (/\"event\"/g.test(e.data)) {\n    if (/\"subscribed\"/g.test(e.data)) {\n      console.log(\"Subscribed\");\n    } else if (/\"unsubscribed\"/g.test(e.data)) {\n      console.log(\"Unsubscribed\");\n    }\n  } else {\n    if (/snapshot/g.test(data.feed)) {\n      console.log(\"Snapshot received\");\n    } else {\n      console.log(\"Deltas received\");\n    }\n  }\n};\n```\n\n7. Subscribe to another cryptocurrency data\n\n```js\nconst subscribeEvent = {\n  event: \"subscribe\",\n  feed: \"book_ui_1\",\n  product_ids: [\"PI_ETHUSD\"],\n};\nsocket.send(JSON.stringify(subscribeEvent));\n```\n\nTo use correctly the websocket we need to have the right state:\n\n- we cannot send events if the websocket is not connected\n- we cannot subscribe to a coin if we are already subscribed to another,\n- we need to wait to unsubscribe before we can subscribe again\n\n## A machine for a websocket\n\n```js\nlet socket;\n\nconst wsMachine = Machine({\n  id: \"websocket\",\n  initial: \"idle\",\n  context: {\n    initialized: false,\n    forcePause: false,\n    feed: \"PI_XBTUSD\",\n    data: undefined,\n    error: undefined,\n  },\n  states: {\n    idle: {\n      on: {\n        CONNECT: \"pending\",\n      },\n    },\n    pending: {\n      invoke: {\n        id: \"connectWebsocket\",\n        src: () => (callback) => {\n          try {\n            socket = new WebSocket(\"wss://www.cryptofacilities.com/ws/v1\");\n\n            const connectedHandler = () => callback(\"CONNECTED\");\n            socket.addEventListener(\"open\", connectedHandler);\n\n            return () => {\n              socket?.removeEventListener(\"open\", connectedHandler);\n            };\n          } catch (err) {\n            callback({ type: \"FAILURE\", error: err });\n          }\n        },\n      },\n      on: {\n        CONNECTED: {\n          target: \"connected\",\n          cond: (context) => !!socket && !!context.feed,\n          actions: assign({ error: (context, event) => undefined }),\n        },\n        FAILURE: {\n          target: \"idle\",\n          actions: assign({ error: (context, event) => event.error }),\n        },\n      },\n    },\n    connected: {\n      id: \"connection\",\n      invoke: {\n        src: () => (callback) => {\n          const messageHandler = (e) => {\n            if (/\"event\"/g.test(e.data)) {\n              if (/\"unsubscribed\"/g.test(e.data)) {\n                callback(\"PAUSED\");\n              } else if (/\"subscribed\"/g.test(e.data)) {\n                callback(\"STARTED\");\n              }\n            } else {\n              if (/\"snapshot\"/g.test(e.data)) {\n                console.log(\"Handle snapshot\");\n                callback({ type: \"RECEIVE\", data: e.data });\n              } else {\n                console.log(\"Handle deltas\");\n                // TODO merge current data with deltas\n                callback({ type: \"RECEIVE\", data: e.data });\n              }\n            }\n          };\n          socket.addEventListener(\"message\", messageHandler);\n\n          return () => {\n            socket.removeEventListener(\"message\", messageHandler);\n          };\n        },\n      },\n      initial: \"paused\",\n      states: {\n        starting: {\n          on: {\n            STARTED: {\n              target: \"started\",\n            },\n          },\n        },\n        pausing: {\n          on: {\n            PAUSED: {\n              target: \"paused\",\n            },\n          },\n        },\n        started: {\n          on: {\n            PAUSE: {\n              target: \"pausing\",\n              actions: [\n                assign({ forcePause: (context, event) => event.forced }),\n                (context) => {\n                  const unsubscribeEvent = {\n                    event: \"unsubscribe\",\n                    feed: \"book_ui_1\",\n                    product_ids: [`${context.feed}`],\n                  };\n                  socket?.send(JSON.stringify(unsubscribeEvent));\n                },\n              ],\n            },\n            RECEIVE: {\n              actions: assign({ data: (context, event) => event.data }),\n            },\n          },\n        },\n        paused: {\n          on: {\n            START: {\n              target: \"starting\",\n              actions: [\n                (context) => {\n                  const subscribeEvent = {\n                    event: \"subscribe\",\n                    feed: \"book_ui_1\",\n                    product_ids: [`${context.feed}`],\n                  };\n                  socket?.send(JSON.stringify(subscribeEvent));\n                },\n                assign({ initialized: (context, event) => true }),\n              ],\n            },\n            SWITCH: {\n              actions: [\n                assign({\n                  feed: (context, event) => event.feed || context.feed,\n                }),\n                assign({\n                  data: (context, event) => {\n                    return undefined;\n                  },\n                }),\n              ],\n            },\n            CLOSE: {\n              target: \"#websocket.idle\",\n              actions: () => {\n                socket?.close();\n              },\n            },\n          },\n        },\n      },\n    },\n  },\n});\n```\n\nTip: Copy the above code in the [XState visualizer](https://xstate.js.org/viz/) to see it in action.\n\nInitially, the machine is idle and the first thing we need to do is to connect it.\nThe only event available is CONNECT, nothing else is available. _Even if somehow an event like PAUSE or START is received, nothing happens_\n\nimport { Picture } from \"astro:assets\";\n\n\u003CPicture\n  src={import(\"./xstate_machine_idle.png\")}\n  widths={[480, 800]}\n  formats={[\"webp\"]}\n  sizes=\"(max-width: 600px) 480px, 800px\"\n  alt=\"XState machine is idle\"\n/>\n\nAfter the machine is connected, it is in paused state. Here several events are available: START - to start the machine, SWITCH - to\nswitch to another coin, and CLOSE - to close the websocket.\n\n\u003CPicture\n  src={import(\"./xstate_machine_paused.png\")}\n  widths={[480, 800]}\n  formats={[\"webp\"]}\n  sizes=\"(max-width: 600px) 480px, 800px\"\n  alt=\"XState machine is paused\"\n/>\n\nWe need to start the machine so it can receive data from the websocket.\n\n\u003CPicture\n  src={import(\"./xstate_machine_started.png\")}\n  widths={[480, 800]}\n  formats={[\"webp\"]}\n  sizes=\"(max-width: 600px) 480px, 800px\"\n  alt=\"XState machine is started\"\n/>\n\n## Using the machine in React\n\nFirst, we need to add XState and XState React libraries to your project:\n\n```\nnpm i xstate @xstate-react\n```\n\nThen create the machine in a file like `websocket-machine.js` (note that `Machine` is deprecated in favor of `createMachine`)\n\n```js\nimport { createMachine } from 'xstate';\n\nexport const wsMachine = createMachine({\n  ...\n}\n```\n\nWe need to create a React context that uses the machine to create _an instance of the machine_ as a service:\n\n```jsx\nimport React, { createContext } from \"react\";\nimport { useInterpret } from \"@xstate/react\";\nimport machine from \"./websocket-machine\";\n\nexport const MachineContext = createContext(null);\n\nexport const MachineProvider = (props) => {\n  const machineService = useInterpret(machine);\n\n  return (\n    \u003CMachineContext.Provider value={machineService}>\n      {props.children}\n    \u003C/MachineContext.Provider>\n  );\n};\n```\n\nUse the context in the part of the app that uses the machine:\n\n```jsx\nimport MachineProvider from \"./machine-context\";\n\n\u003CMachineProvider>\n  \u003COrderbookDisplay />\n\u003C/MachineProvider>;\n```\n\nFinally, in the components that are children of `MachineProvider`, we can use the `machineService`:\n\n```jsx\nimport React, { useContext } from \"react\";\nimport { MachineContext } from \"./machine-context\";\n\n// machine data selector\nconst dataSelector = (state) => state.context.data;\n\nconst OrderbookDisplay = () => {\n  // get the service from context\n  const machineService = useContext(MachineContext);\n  // get context data\n  const data = useSelector(machineService, dataSelector);\n\n  return \u003Cdiv>{JSON.stringify(data)}\u003C/div>;\n};\n\nexport default OrderbookDisplay;\n```\n\nThe machine context contains different things, but if you need only part of it, it's a good idea to use a selector to get only the part\nof context you need. Otherwise, when the other parts will update (e.g feed, error, etc), your component will refresh unnecessarily.\n\n## Conclusion\n\nYou can use XState with React, you can even use it only for parts of the state that are important to get right. To me, XState looks like less code than Redux and has more robust state management.\n\nThe XState machine creation is the hardest part. It takes a bit of trial and error to create a perfect one that covers all angles.\nBut once you have it you can rely on it.","src/content/xtate-and-react/index.mdx","c5dd97a2f94f1504","how-to-contribute-to-open-source",["Map",7,1701],{"id":7,"data":1702,"body":1710,"filePath":1711,"digest":1712,"rendered":1713,"legacyId":64},{"title":1703,"pubDate":1704,"description":1705,"keywords":1706,"twitterImage":1708,"minutesRead":227,"excerpt":1709},"How to contribute to open source",["Date","2021-10-09T00:00:00.000Z"],"We use open source packages to create our software, but we could also contribute to open source by fixing bugs, documentation, tests and so on.",[1707,564],"Open source","https://www.raresportan.com/twitter-cards/how-to-contribute-to-open-source.png","The company I work for, 3PillarGlobal, had a proposal for us: we can allocate a part of our time to work on open source. Each one\ncan work s","The company I work for, [3PillarGlobal](https://www.3pillarglobal.com/), had a proposal for us: we can allocate a part of our time to work on open source. Each one\ncan work solo or in groups on open source issues, documentation, tests, whatever we like. I've decided to fix some issues on the [Gatsby repo](https://github.com/gatsbyjs/gatsby),\nand one of them was approved and merged. This was my first contribution to open source, but I hope it was not the last.\n\nThis is a \"postmortem\" of that merge, which details my experience and that will hopefully help you contribute to open source as well.\n\nOne note, this guide assumes you want to contribute to an open-source project hosted by Github. There are others (like BitBucket) that might use different terminology or things you need to do, but the principles are the same.\n\n## Find a project to contribute to\n\nYou should look for something you already use and love. For example, if you use React and Gatsby - like me, look to contribute to those projects because you already have a good idea of how they work.\n\nAnother way to find a project to contribute to is by looking at your code dependencies. Find the dependency repo and look for issues to solve.\n\n> A good mental model of how something works is a must.\n\nIf you want to contribute with code, another important thing is to know well the programming language that is used to write the code in that project.\n\n> Finally, find out if the project is still maintained. Look around the repo to see when the last code commit was, when the last response from maintainers was, and so on.\n> Sadly some projects are abandoned since most open source contributions are voluntary and the contributors are not paid.\n\n## Read and follow the \"How to contribute\" guide\n\nThe first thing you need to do is to find the \"How to contribute\" guide. The guide is usually present as a `CONTRIBUTING.md` file (e.g here is Gatsby's [CONTRIBUTING.md](https://github.com/gatsbyjs/gatsby/blob/master/CONTRIBUTING.md)).\nIt doesn't matter if you just want to report an issue, fix an issue, or documentation, you still want to read this guide because it will tell you what is expected from you.\n\nFor example, do you want to report an issue? Fine. Did you look if the issue was already reported or not? Can you provide clear steps to reproduce the issue? Ask yourself\nhow can you help the maintainers fix the issue as best and as fast as possible. You can even investigate the issue yourself and propose a fix.\n\n> If you can find any guide, at least read [Open Source Guides](https://opensource.guide/).\n\n## Find an issue to fix\n\nYou can open a new issue and fix it, or just find an existing one.\n\nMy advice is to start with small, easy-to-fix issues. It's not very realistic to dream that you can refactor the entire code base or change the architecture of the code.\n\nTo find issues to fix, go to the repo's \"Issues\" and filter the _open_ issues by the following labels (they might be different from one repo to another):\n`good first issue`, `help wanted`, `contribution welcome`, `Difficulty: starter`, `Difficulty: easy`.\n\nLook at issue comments to see if somebody else is already working on it or not. Even if they have, try to fix the issue yourself and compare your solution with the others.\n\n## Learn to work with repo forks\n\nGithub has a [good starter guide](https://docs.github.com/en/get-started/quickstart/fork-a-repo) for this.\nBut while you _fork_ a repo once, you need to periodically sync your fork with code from the original repo.\n\nIn my case, the origin repo is https://github.com/gatsbyjs/gatsby, and its main branch is called \"master\".\nThe first thing I did was to create an \"upstream\" branch as a _remote_ for my fork:\n\n```bash\n$ git remote add upstream https://github.com/gatsbyjs/gatsby\n```\n\nThe steps I had to repeat each time I've wanted to get in my fork the changes from the original repo were these:\n\n```bash\n$ git fetch upstream\n\n$ git rebase upstream/master\n\n$ git push origin master --force\n```\n\n## Learn how to run the code on local machine\n\nFirst, you need to download your fork locally:\n\n```bash\n$ git clone --depth=1 https://github.com/your-github-name/your-fork-name.git\n```\n\nThen you need to install the dependencies and learn how to start it, run tests, format, and lint the code, and so on.\n\nThe way to do any of these is different for each project and should be documented somewhere (e.g for example [Gatsby's Code Contributions](https://www.gatsbyjs.com/contributing/code-contributions/)).\n\nIf it is not documented, use your common sense. For example, if you ever worked on an npm project, you know that inside `package.json` is a `scripts` section with the commands that are supported by the project.\n\nAfter you are comfortable with your setup and everything works _before_ you do any code changes, reproduce the issue you want to fix!\nOnly after you can reproduce the issue, you should create a new branch and start modifying the code to fix the issue.\n\n> While I did this on the Gatsby repo, I discovered that some tests were failing. This was such a huge disappointment for me that I've almost abandoned it.\n\n## Learn how to make a Pull Request\n\nWhen you think you have a fix on your branch run tests, code formatters, and linters. Make sure the issue is not reproducing on your branch but is reproducing on the main branch!\n\nNow you need to find out:\n\n- How to name your Pull Request(also called PR) (some repos require specific things to be in a PR name)\n- How to link your Pull Request to the issue you're fixing\n\nMake sure you got everything right. You don't want your PR to be lost among many others because you didn't specify the correct info in the PR.\n\nFinally, push your branch and [create your Pull Request](https://docs.github.com/en/github/collaborating-with-pull-requests/proposing-changes-to-your-work-with-pull-requests/creating-a-pull-request-from-a-fork).\nMost projects have a CI/CD pipeline in place that runs tests and other things on all PRs. Make sure those checks pass.\n\n> I was lucky, my PR was merged even if the tests didn't pass. Although they didn't pass without my changes also.\n\n## Communicate with the community\n\n> Now you need patience. Don't expect the maintainers to jump on your PR right away. Most likely they have a ton on their plate and other things are more pressing.\n\nOf the two PRs I've opened on Gatsby repo, one was merged, but the other is still there, ignored for now.\nThat's fine, I'm waiting for the maintainers to comment on it, or close it for some reason, just to do something.\n\nDon't take it personally if somebody asks you to change the code or if they reject your PR. It happens.\nBut if the maintainers request you something please be ready to help if you can.\n\nYou don't have to stay all day refreshing the PR page. For each update to your PR you'll get an email with the update, so make sure you read your email.\n\nAmong the things you'll find on a repo is a `CODE_OF_CONDUCT.md` file. Please make sure you follow that code of conduct.\n\nHere is a part of Gatsby's [Code of Conduct](https://www.gatsbyjs.com/contributing/code-of-conduct/):\n\n- Examples of behavior that contributes to creating a positive environment include:\n\n> Using welcoming and inclusive language\n\n> Being respectful of differing viewpoints and experiences\n\n> Gracefully accepting constructive criticism\n\n> Focusing on what is best for the community\n\n> Showing empathy towards other community members\n\n- Examples of unacceptable behavior by participants include:\n\n> The use of sexualized language or imagery and unwelcome sexual attention or advances\n\n> Trolling, insulting/derogatory comments, and personal or political attacks\n\n> Public or private harassment\n\n> Publishing others’ private information, such as a physical or electronic address, without explicit permission\n\n> Other conduct which could reasonably be considered inappropriate in a professional setting\n\nPlease follow your repo's code of conduct. Or, you know, just be a nice person 😊.","src/content/how-to-contribute-to-open-source/index.md","451322df8ec40fa9",{"html":1714,"metadata":1715},"\u003Cp>The company I work for, \u003Ca href=\"https://www.3pillarglobal.com/\">3PillarGlobal\u003C/a>, had a proposal for us: we can allocate a part of our time to work on open source. Each one\ncan work solo or in groups on open source issues, documentation, tests, whatever we like. I’ve decided to fix some issues on the \u003Ca href=\"https://github.com/gatsbyjs/gatsby\">Gatsby repo\u003C/a>,\nand one of them was approved and merged. This was my first contribution to open source, but I hope it was not the last.\u003C/p>\n\u003Cp>This is a “postmortem” of that merge, which details my experience and that will hopefully help you contribute to open source as well.\u003C/p>\n\u003Cp>One note, this guide assumes you want to contribute to an open-source project hosted by Github. There are others (like BitBucket) that might use different terminology or things you need to do, but the principles are the same.\u003C/p>\n\u003Ch2 id=\"find-a-project-to-contribute-to\">Find a project to contribute to\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#find-a-project-to-contribute-to\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>You should look for something you already use and love. For example, if you use React and Gatsby - like me, look to contribute to those projects because you already have a good idea of how they work.\u003C/p>\n\u003Cp>Another way to find a project to contribute to is by looking at your code dependencies. Find the dependency repo and look for issues to solve.\u003C/p>\n\u003Cblockquote>\n\u003Cp>A good mental model of how something works is a must.\u003C/p>\n\u003C/blockquote>\n\u003Cp>If you want to contribute with code, another important thing is to know well the programming language that is used to write the code in that project.\u003C/p>\n\u003Cblockquote>\n\u003Cp>Finally, find out if the project is still maintained. Look around the repo to see when the last code commit was, when the last response from maintainers was, and so on.\nSadly some projects are abandoned since most open source contributions are voluntary and the contributors are not paid.\u003C/p>\n\u003C/blockquote>\n\u003Ch2 id=\"read-and-follow-the-how-to-contribute-guide\">Read and follow the “How to contribute” guide\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#read-and-follow-the-how-to-contribute-guide\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>The first thing you need to do is to find the “How to contribute” guide. The guide is usually present as a \u003Ccode>CONTRIBUTING.md\u003C/code> file (e.g here is Gatsby’s \u003Ca href=\"https://github.com/gatsbyjs/gatsby/blob/master/CONTRIBUTING.md\">CONTRIBUTING.md\u003C/a>).\nIt doesn’t matter if you just want to report an issue, fix an issue, or documentation, you still want to read this guide because it will tell you what is expected from you.\u003C/p>\n\u003Cp>For example, do you want to report an issue? Fine. Did you look if the issue was already reported or not? Can you provide clear steps to reproduce the issue? Ask yourself\nhow can you help the maintainers fix the issue as best and as fast as possible. You can even investigate the issue yourself and propose a fix.\u003C/p>\n\u003Cblockquote>\n\u003Cp>If you can find any guide, at least read \u003Ca href=\"https://opensource.guide/\">Open Source Guides\u003C/a>.\u003C/p>\n\u003C/blockquote>\n\u003Ch2 id=\"find-an-issue-to-fix\">Find an issue to fix\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#find-an-issue-to-fix\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>You can open a new issue and fix it, or just find an existing one.\u003C/p>\n\u003Cp>My advice is to start with small, easy-to-fix issues. It’s not very realistic to dream that you can refactor the entire code base or change the architecture of the code.\u003C/p>\n\u003Cp>To find issues to fix, go to the repo’s “Issues” and filter the \u003Cem>open\u003C/em> issues by the following labels (they might be different from one repo to another):\n\u003Ccode>good first issue\u003C/code>, \u003Ccode>help wanted\u003C/code>, \u003Ccode>contribution welcome\u003C/code>, \u003Ccode>Difficulty: starter\u003C/code>, \u003Ccode>Difficulty: easy\u003C/code>.\u003C/p>\n\u003Cp>Look at issue comments to see if somebody else is already working on it or not. Even if they have, try to fix the issue yourself and compare your solution with the others.\u003C/p>\n\u003Ch2 id=\"learn-to-work-with-repo-forks\">Learn to work with repo forks\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#learn-to-work-with-repo-forks\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>Github has a \u003Ca href=\"https://docs.github.com/en/get-started/quickstart/fork-a-repo\">good starter guide\u003C/a> for this.\nBut while you \u003Cem>fork\u003C/em> a repo once, you need to periodically sync your fork with code from the original repo.\u003C/p>\n\u003Cp>In my case, the origin repo is \u003Ca href=\"https://github.com/gatsbyjs/gatsby\">https://github.com/gatsbyjs/gatsby\u003C/a>, and its main branch is called “master”.\nThe first thing I did was to create an “upstream” branch as a \u003Cem>remote\u003C/em> for my fork:\u003C/p>\n\u003Cpre class=\"language-bash\" data-language=\"bash\">\u003Ccode is:raw=\"\" class=\"language-bash\">$ \u003Cspan class=\"token function\">git\u003C/span> remote \u003Cspan class=\"token function\">add\u003C/span> upstream https://github.com/gatsbyjs/gatsby\n\u003C/code>\u003C/pre>\n\u003Cp>The steps I had to repeat each time I’ve wanted to get in my fork the changes from the original repo were these:\u003C/p>\n\u003Cpre class=\"language-bash\" data-language=\"bash\">\u003Ccode is:raw=\"\" class=\"language-bash\">$ \u003Cspan class=\"token function\">git\u003C/span> fetch upstream\n\n$ \u003Cspan class=\"token function\">git\u003C/span> rebase upstream/master\n\n$ \u003Cspan class=\"token function\">git\u003C/span> push origin master \u003Cspan class=\"token parameter variable\">--force\u003C/span>\n\u003C/code>\u003C/pre>\n\u003Ch2 id=\"learn-how-to-run-the-code-on-local-machine\">Learn how to run the code on local machine\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#learn-how-to-run-the-code-on-local-machine\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>First, you need to download your fork locally:\u003C/p>\n\u003Cpre class=\"language-bash\" data-language=\"bash\">\u003Ccode is:raw=\"\" class=\"language-bash\">$ \u003Cspan class=\"token function\">git\u003C/span> clone \u003Cspan class=\"token parameter variable\">--depth\u003C/span>\u003Cspan class=\"token operator\">=\u003C/span>\u003Cspan class=\"token number\">1\u003C/span> https://github.com/your-github-name/your-fork-name.git\n\u003C/code>\u003C/pre>\n\u003Cp>Then you need to install the dependencies and learn how to start it, run tests, format, and lint the code, and so on.\u003C/p>\n\u003Cp>The way to do any of these is different for each project and should be documented somewhere (e.g for example \u003Ca href=\"https://www.gatsbyjs.com/contributing/code-contributions/\">Gatsby’s Code Contributions\u003C/a>).\u003C/p>\n\u003Cp>If it is not documented, use your common sense. For example, if you ever worked on an npm project, you know that inside \u003Ccode>package.json\u003C/code> is a \u003Ccode>scripts\u003C/code> section with the commands that are supported by the project.\u003C/p>\n\u003Cp>After you are comfortable with your setup and everything works \u003Cem>before\u003C/em> you do any code changes, reproduce the issue you want to fix!\nOnly after you can reproduce the issue, you should create a new branch and start modifying the code to fix the issue.\u003C/p>\n\u003Cblockquote>\n\u003Cp>While I did this on the Gatsby repo, I discovered that some tests were failing. This was such a huge disappointment for me that I’ve almost abandoned it.\u003C/p>\n\u003C/blockquote>\n\u003Ch2 id=\"learn-how-to-make-a-pull-request\">Learn how to make a Pull Request\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#learn-how-to-make-a-pull-request\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cp>When you think you have a fix on your branch run tests, code formatters, and linters. Make sure the issue is not reproducing on your branch but is reproducing on the main branch!\u003C/p>\n\u003Cp>Now you need to find out:\u003C/p>\n\u003Cul>\n\u003Cli>How to name your Pull Request(also called PR) (some repos require specific things to be in a PR name)\u003C/li>\n\u003Cli>How to link your Pull Request to the issue you’re fixing\u003C/li>\n\u003C/ul>\n\u003Cp>Make sure you got everything right. You don’t want your PR to be lost among many others because you didn’t specify the correct info in the PR.\u003C/p>\n\u003Cp>Finally, push your branch and \u003Ca href=\"https://docs.github.com/en/github/collaborating-with-pull-requests/proposing-changes-to-your-work-with-pull-requests/creating-a-pull-request-from-a-fork\">create your Pull Request\u003C/a>.\nMost projects have a CI/CD pipeline in place that runs tests and other things on all PRs. Make sure those checks pass.\u003C/p>\n\u003Cblockquote>\n\u003Cp>I was lucky, my PR was merged even if the tests didn’t pass. Although they didn’t pass without my changes also.\u003C/p>\n\u003C/blockquote>\n\u003Ch2 id=\"communicate-with-the-community\">Communicate with the community\u003Ca aria-hidden=\"true\" tabindex=\"-1\" href=\"#communicate-with-the-community\">\u003Cspan class=\"icon icon-link\">\u003C/span>\u003C/a>\u003C/h2>\n\u003Cblockquote>\n\u003Cp>Now you need patience. Don’t expect the maintainers to jump on your PR right away. Most likely they have a ton on their plate and other things are more pressing.\u003C/p>\n\u003C/blockquote>\n\u003Cp>Of the two PRs I’ve opened on Gatsby repo, one was merged, but the other is still there, ignored for now.\nThat’s fine, I’m waiting for the maintainers to comment on it, or close it for some reason, just to do something.\u003C/p>\n\u003Cp>Don’t take it personally if somebody asks you to change the code or if they reject your PR. It happens.\nBut if the maintainers request you something please be ready to help if you can.\u003C/p>\n\u003Cp>You don’t have to stay all day refreshing the PR page. For each update to your PR you’ll get an email with the update, so make sure you read your email.\u003C/p>\n\u003Cp>Among the things you’ll find on a repo is a \u003Ccode>CODE_OF_CONDUCT.md\u003C/code> file. Please make sure you follow that code of conduct.\u003C/p>\n\u003Cp>Here is a part of Gatsby’s \u003Ca href=\"https://www.gatsbyjs.com/contributing/code-of-conduct/\">Code of Conduct\u003C/a>:\u003C/p>\n\u003Cul>\n\u003Cli>Examples of behavior that contributes to creating a positive environment include:\u003C/li>\n\u003C/ul>\n\u003Cblockquote>\n\u003Cp>Using welcoming and inclusive language\u003C/p>\n\u003C/blockquote>\n\u003Cblockquote>\n\u003Cp>Being respectful of differing viewpoints and experiences\u003C/p>\n\u003C/blockquote>\n\u003Cblockquote>\n\u003Cp>Gracefully accepting constructive criticism\u003C/p>\n\u003C/blockquote>\n\u003Cblockquote>\n\u003Cp>Focusing on what is best for the community\u003C/p>\n\u003C/blockquote>\n\u003Cblockquote>\n\u003Cp>Showing empathy towards other community members\u003C/p>\n\u003C/blockquote>\n\u003Cul>\n\u003Cli>Examples of unacceptable behavior by participants include:\u003C/li>\n\u003C/ul>\n\u003Cblockquote>\n\u003Cp>The use of sexualized language or imagery and unwelcome sexual attention or advances\u003C/p>\n\u003C/blockquote>\n\u003Cblockquote>\n\u003Cp>Trolling, insulting/derogatory comments, and personal or political attacks\u003C/p>\n\u003C/blockquote>\n\u003Cblockquote>\n\u003Cp>Public or private harassment\u003C/p>\n\u003C/blockquote>\n\u003Cblockquote>\n\u003Cp>Publishing others’ private information, such as a physical or electronic address, without explicit permission\u003C/p>\n\u003C/blockquote>\n\u003Cblockquote>\n\u003Cp>Other conduct which could reasonably be considered inappropriate in a professional setting\u003C/p>\n\u003C/blockquote>\n\u003Cp>Please follow your repo’s code of conduct. Or, you know, just be a nice person 😊.\u003C/p>",{"headings":1716,"imagePaths":1738,"frontmatter":1702},[1717,1720,1723,1726,1729,1732,1735],{"depth":51,"slug":1718,"text":1719},"find-a-project-to-contribute-to","Find a project to contribute to",{"depth":51,"slug":1721,"text":1722},"read-and-follow-the-how-to-contribute-guide","Read and follow the “How to contribute” guide",{"depth":51,"slug":1724,"text":1725},"find-an-issue-to-fix","Find an issue to fix",{"depth":51,"slug":1727,"text":1728},"learn-to-work-with-repo-forks","Learn to work with repo forks",{"depth":51,"slug":1730,"text":1731},"learn-how-to-run-the-code-on-local-machine","Learn how to run the code on local machine",{"depth":51,"slug":1733,"text":1734},"learn-how-to-make-a-pull-request","Learn how to make a Pull Request",{"depth":51,"slug":1736,"text":1737},"communicate-with-the-community","Communicate with the community",[]]